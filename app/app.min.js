!function(){"use strict";function e(e,t){e.$on("$routeChangeError",t.routeChangeError)}angular.module("app",["ngRoute","ui.bootstrap","angularMoment"]).controller("AppController",e),e.$inject=["$rootScope","appService"]}(),function(){"use strict";function e(e){function t(e){return e.getCalendars()}function n(e){return e.getEvents()}function r(e){return e.getLabels()}function a(e){return e.getTasks()}function o(e){return e.isAuthenticated()}function i(e){return e.isAdmin()}e.when("/login",{templateUrl:"modules/login/login.html",controller:"LoginController",controllerAs:"vm"}).when("/logout",{templateUrl:"modules/logout/logout.html",controller:"LogoutController",controllerAs:"vm"}).when("/register",{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm"}).when("/dashboard",{templateUrl:"pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",o],tasks:["tasksService",a],events:["eventsService",n],labels:["labelService",r],calendars:["calendarService",t]}}).when("/admin",{templateUrl:"pages/admin/admin.html",controller:"AdminController",controllerAs:"vm",resolve:{isAdmin:["accessService",i]}}).otherwise({redirectTo:"/dashboard"})}angular.module("app").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";function e(e,t){function n(n,r,a,o){o===t.UNAUTHORIZED?e.path("/login"):o===t.FORBIDDEN&&e.path("/forbidden")}return{routeChangeError:n}}angular.module("app").factory("appService",e),e.$inject=["$location","statusService"]}(),function(){"use strict";function e(e){return function(t,n){for(var r=[],a=0;a<t.length;a++){var o=n.isSame(e(t[a].dt_start),"day");o||(o=n.isSame(e(t[a].dt_end),"day")),o&&r.push(t[a])}return r}}angular.module("app").filter("sameDayAs",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t){function n(e){switch(this.type=e,this.base="api/",e){case"event":case"calendar":this.base+="activity/calendar/";break;case"label":case"task":this.base+="activity/task/";break;default:this.base+=e+"/"}this.base+=e+"Manager.php"}function r(t){return e.get(this.base+"?id="+t).then(s)["catch"](l)}function a(t,n){return e.get(this.base+"?usewhere=true&where="+escape(t)+"&id="+n).then(s)["catch"](l)}function o(t){return t=this.removeUnecessaryKeys(t),e.post(this.base,t).then(s)["catch"](l)}function i(t,n){return n=this.removeUnecessaryKeys(n),e.put(this.base+"?id="+t,n).then(s)["catch"](l)}function c(t){return e["delete"](this.base+"?id="+t).then(s)["catch"](l)}function u(t,n){return e["delete"](this.base+"?where=true&id="+n,t).then(s)["catch"](l)}function s(e){return e}function l(e){return t.error(e),{success:"false",title:"Error when querying server.",message:e}}function d(e){for(var t=["id","person_id",this.type+"_id","activity_info_id","parent_name"],n=0;n<t.length;n++)delete e[t[n]];return e}var f=n;return f.prototype={get:r,getWhere:a,create:o,update:i,remove:c,removeWhere:u,removeUnecessaryKeys:d},f}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t){function n(t){return e.get(i.base+t).then(a)["catch"](o)}function r(t,n){return e.post(i.base+t,n).then(a)["catch"](o)}function a(e){return e}function o(e){return t.error(e),{success:"false",title:"Error when accessing variable.",message:e}}var i=this;return i.base="api/session/sessionVarManager.php?var=",{getVar:n,setVar:r}}angular.module("app").factory("sessionService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t,n,r){function a(){l.today=t.getToday(),l.selectedDay=l.today,l.month=t.getMonth(l.today)}function o(e){return t.getEndOfDay(e)}function i(e){return t.isSameDay(e,l.selectedDay)}function c(e){l.selectedDay=e.fullDate}function u(e){r.openEventModal(e,l.calendars).then(s)}function s(e){e&&(l.events=e)}var l=this;l.isSameDayAsSelected=i,l.getEndOfDay=o,l.selectDay=c,l.showEventModal=u,a()}angular.module("app").controller("EventsController",e),e.$inject=["moment","calendarWidgetService","eventsService","eventModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/events/events.html",controller:"EventsController",controllerAs:"vm",bindToController:!0,scope:{events:"=",calendars:"="}}}angular.module("app").directive("spEvents",e)}(),function(){"use strict";function e(e,t,n,r){function a(e){return l.event.create(e).then(s)}function o(e){return e.event_id?u(e.event_id,e):a(e)}function i(e){return l.event.remove(e).then(s)}function c(){function e(e){var t=e.data;return t.success?l.event.getWhere("",t.data).then(s):t.title}return r.getVar("id").then(e)}function u(e,t){return l.event.update(e,t).then(s)}function s(e){var t=e.data;return t.success?t.data:t.title}var l=this;return l.event=new n("event"),{createEvent:a,createOrUpdateEvent:o,deleteEvent:i,getEvents:c,updateEvent:u}}angular.module("app").factory("eventsService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(){function e(e,t,n,r){function a(){c()}function o(t){return t===e.otherModel.$viewValue}function i(e,t){r.$validate()}var c=e.$watch("otherModel",i);r.$validators.spCompareTo=o,t.on("$destroy",a)}var t={require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e};return t}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.login(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.loading=!1,n.error="",n.login=t}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,t,n){function r(r){function a(e){return e.data.success===!1?e.data.title:void t.path("/dashboard")}function o(e){return n.error(e),"Something went wrong. Please try again."}return e.post("api/user/loginManager.php",r).then(a)["catch"](o)}return{login:r}}angular.module("app").factory("loginService",e),e.$inject=["$http","$location","$log"]}(),function(){"use strict";function e(e,t,n){function r(){e.close()}function a(){e.dismiss("cancel")}function o(t){e.dismiss(t)}function i(t){e.close(t)}var c=this;c.groups=t,c.item=n,c.close=r,c.cancel=a,c.confirm=i,c.remove=o}angular.module("app").controller("ModalController",e),e.$inject=["$uibModalInstance","groups","item"]}(),function(){"use strict";function e(e,t){function n(e){t.openTaskModal(e,o.labels).then(a)}function r(t){e.toggleCompleted(t).then(a)}function a(e){e&&(o.tasks=e)}var o=this;o.showTaskModal=n,o.toggleCompleted=r}angular.module("app").controller("TasksController",e),e.$inject=["tasksService","taskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/tasks/tasks.html",controller:"TasksController",controllerAs:"vm",bindToController:!0,scope:{tasks:"=",labels:"=",order:"="}}}angular.module("app").directive("spTasks",e)}(),function(){"use strict";function e(e,t,n,r){function a(e){return d.task.create(e).then(l)}function o(e){return e.task_id?s(e.task_id,e):a(e)}function i(e){return d.task.remove(e).then(l)}function c(){function e(e){var t=e.data;return t.success?d.task.getWhere("",t.data).then(l):t.title}return r.getVar("id").then(e)}function u(e){return e.completed=!parseInt(e.completed),s(e.task_id,e).then(c)}function s(e,t){return d.task.update(e,t).then(l)}function l(e){var t=e.data;return t.success?t.data:t.title}var d=this;return d.task=new n("task"),{createTask:a,createOrUpdateTask:o,deleteTask:i,getTasks:c,toggleCompleted:u,updateTask:s}}angular.module("app").factory("tasksService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t,n){function r(e){return n.uploadFile(e).then(function(e){return e})}var a=this;a.uploadFile=r}angular.module("app").controller("UploadController",e),e.$inject=["$scope","$http","uploadService"]}(),function(){"use strict";function e(e){function t(t,n,r){function a(e){t.$apply(function(){var e=n[0].files[0];e.size<=o?t.uc.uploadFile(e).then(function(e){t.spFileChange=e}):alert("File must be less than "+o/1024/1024+"MB.")})}var o=2097152;e(r.spFileChange);n[0].addEventListener("change",a,!1)}return{restrict:"A",controller:"UploadController",controllerAs:"uc",link:t,scope:{spFileChange:"="}}}angular.module("app").directive("spFileChange",e),e.$inject=["$parse"]}(),function(){"use strict";function e(e,t){function n(n){var r=new FormData;return r.append("file",n),e.post("api/upload/uploadManager.php",r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return e.data.success?e.data.data:(t.error(e.title),"")})["catch"](function(e){t.error(e)})}return{uploadFile:n}}angular.module("app").factory("uploadService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t,n,r,a){var o=this;o.tasks=t,o.events=n,o.labels=r,o.calendars=a}angular.module("app").controller("DashboardController",e),e.$inject=["isAuthenticated","tasks","events","labels","calendars"]}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.register(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.error="",n.loading=!1,n.register=t}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,t,n){function r(n){function r(n){return"false"===n.success?(t.error(n.title),n.title):void e.url("/login")}return a.crud.create(n).then(r)}var a=this;return a.crud=new n("user"),{register:r}}angular.module("app").factory("registerService",e),e.$inject=["$location","$log","crudService"]}(),function(){"use strict";function e(e,t,n,r){function a(){function e(e){return e.data.success!==!1?i.resolve(r.OK):i.reject(r.UNAUTHORIZED),i.promise}return n.getVar("name").then(e)}function o(){}var i=t.defer();return{isAuthenticated:a,isAdmin:o}}angular.module("app").factory("accessService",e),e.$inject=["$location","$q","sessionService","statusService"]}(),function(){"use strict";function e(){return{OK:200,UNAUTHORIZED:401,FORBIDDEN:403}}angular.module("app").service("statusService",e)}(),function(){"use strict";function e(e,t,n,r){function a(e){return s.calendar.create(e).then(u)}function o(e){return s.calendar.remove(e).then(u)}function i(){function e(e){var t=e.data;return t.success?s.calendar.getWhere("person_id="+t.data,"").then(u):t.title}return r.getVar("id").then(e)}function c(e,t){return s.calendar.update(e,t).then(u)}function u(e){var t=e.data;return t.success?t.data:t.title}var s=this;return s.calendar=new n("calendar"),{createCalendar:a,deleteCalendar:o,getCalendars:i,updateCalendar:c}}angular.module("app").factory("calendarService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/events/modal/event.modal.html",resolve:{groups:function(){return r},item:t}}).result.then(function(e){return n.createOrUpdateEvent(e).then(n.getEvents)},function(e){return"string"!=typeof e?n.deleteEvent(e).then(n.getEvents):void 0})}return{openEventModal:r}}angular.module("app").factory("eventModalService",e),e.$inject=["$uibModal","calendarService","eventsService"]}(),function(){"use strict";function e(e){function t(e){return e.clone().add(1,"day").subtract(1,"ms")}function n(e){for(var t=[],n=e.clone().date(1).startOf("week"),r=e.month();r===e.month();r=n.month())t.push(a(n,e.month())),n=n.add(1,"weeks");return t}function r(){return e()}function a(t,n){for(var r=[],a=t.clone(),o=0;7>o;o++)r.push({number:a.date(),isTargetMonth:a.month()===n,isToday:a.isSame(e(),"day"),fullDate:a}),a=a.clone().add(1,"days");return r}function o(e,t){return e.isSame(t,"day")}return{getEndOfDay:t,getMonth:n,getToday:r,getWeek:a,isSameDay:o}}angular.module("app").factory("calendarWidgetService",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t,n,r){function a(e){return s.label.create(e).then(u)}function o(e){return s.label.remove(e).then(u)}function i(){function e(e){var t=e.data;return t.success?s.label.getWhere("person_id="+t.data,"").then(u):t.title}return r.getVar("id").then(e)}function c(e,t){return s.label.update(e,t).then(u)}function u(e){var t=e.data;return t.success?t.data:t.title}var s=this;return s.label=new n("label"),{createLabel:a,deleteLabel:o,getLabels:i,updateLabel:c}}angular.module("app").factory("labelService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/tasks/modal/task.modal.html",resolve:{groups:function(){return r},item:t}}).result.then(function(e){return n.createOrUpdateTask(e).then(n.getTasks)},function(e){return"string"!=typeof e?n.deleteTask(e).then(n.getTasks):void 0})}return{openTaskModal:r}}angular.module("app").factory("taskModalService",e),e.$inject=["$uibModal","labelService","tasksService"]}(),function(){"use strict";function e(){var e=this;e.collapsed=!0,e.toggleSidebar=function(){e.collapsed=!e.collapsed}}angular.module("app").controller("SidebarController",e)}(),function(){"use strict";function e(){function e(e,t,n){function r(e){e?t.removeClass("collapsed"):t.addClass("collapsed")}e.$watch(n.sidebarDirective,r)}return{link:e,templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spSidebar",e)}(),function(){"use strict";function e(e,t){function n(t){e.$evalAsync(function(){r.name=t.name===!1?"Login":t.name,r.url=t.url})}var r=this;r.name="",r.url="",t.getUser().then(n)}angular.module("app").controller("HeaderController",e),e.$inject=["$scope","headerService"]}(),function(){"use strict";function e(){function e(e,t,n){}return{link:e,templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spHeader",e)}(),function(){"use strict";function e(e,t,n){function r(){function e(e){var t=e.data;return t.success===!1?{name:!1,url:"#/login"}:{name:t.data,url:"#/dashboard"}}return n.getVar("name").then(e)}return{getUser:r}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log","sessionService"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCJhcHBTZXJ2aWNlIiwiJG9uIiwicm91dGVDaGFuZ2VFcnJvciIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJGluamVjdCIsImFwcENvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiZ2V0Q2FsZW5kYXJzIiwiY2FsZW5kYXJTZXJ2aWNlIiwiZ2V0RXZlbnRzIiwiZXZlbnRzU2VydmljZSIsImdldExhYmVscyIsImxhYmVsU2VydmljZSIsImdldFRhc2tzIiwidGFza3NTZXJ2aWNlIiwiaXNBdXRoZW50aWNhdGVkIiwiYWNjZXNzU2VydmljZSIsImlzQWRtaW4iLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyQXMiLCJyZXNvbHZlIiwidGFza3MiLCJldmVudHMiLCJsYWJlbHMiLCJjYWxlbmRhcnMiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiY29uZmlnIiwiJGxvY2F0aW9uIiwic3RhdHVzU2VydmljZSIsImV2ZW50IiwiY3VycmVudCIsInByZXZpb3VzIiwicmVqZWN0aW9uIiwiVU5BVVRIT1JJWkVEIiwicGF0aCIsIkZPUkJJRERFTiIsImZhY3RvcnkiLCJzYW1lRGF5QXMiLCJtb21lbnQiLCJkYXkiLCJzYW1lRGF5RXZlbnRzIiwiaSIsImxlbmd0aCIsInJlc3VsdCIsImlzU2FtZSIsImR0X3N0YXJ0IiwiZHRfZW5kIiwicHVzaCIsImZpbHRlciIsImNydWRTZXJ2aWNlIiwiJGh0dHAiLCIkbG9nIiwiaW5pdCIsInR5cGUiLCJ0aGlzIiwiYmFzZSIsImdldCIsImlkIiwidGhlbiIsInByb21pc2VDb21wbGV0ZSIsInByb21pc2VGYWlsZWQiLCJnZXRXaGVyZSIsIndoZXJlIiwidXNlcklEIiwiZXNjYXBlIiwiY3JlYXRlIiwiZGF0YSIsInJlbW92ZVVuZWNlc3NhcnlLZXlzIiwicG9zdCIsInVwZGF0ZSIsInB1dCIsInJlbW92ZSIsInJlbW92ZVdoZXJlIiwicmVzcG9uc2UiLCJlcnJvciIsInN1Y2Nlc3MiLCJ0aXRsZSIsIm1lc3NhZ2UiLCJ0b0RlbGV0ZSIsImNydWQiLCJwcm90b3R5cGUiLCJzZXNzaW9uU2VydmljZSIsImdldFZhciIsIiRuYW1lIiwidm0iLCJzZXRWYXIiLCIkdmFsdWUiLCJFdmVudHNDb250cm9sbGVyIiwiY2FsZW5kYXJXaWRnZXRTZXJ2aWNlIiwiZXZlbnRNb2RhbFNlcnZpY2UiLCJhY3RpdmF0ZSIsInRvZGF5IiwiZ2V0VG9kYXkiLCJzZWxlY3RlZERheSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJnZXRFbmRPZkRheSIsImlzU2FtZURheUFzU2VsZWN0ZWQiLCJpc1NhbWVEYXkiLCJzZWxlY3REYXkiLCJmdWxsRGF0ZSIsInNob3dFdmVudE1vZGFsIiwib3BlbkV2ZW50TW9kYWwiLCJ1cGRhdGVFdmVudHMiLCJldmVudHNEaXJlY3RpdmUiLCJiaW5kVG9Db250cm9sbGVyIiwic2NvcGUiLCJkaXJlY3RpdmUiLCJjcmVhdGVFdmVudCIsImNyZWF0ZU9yVXBkYXRlRXZlbnQiLCJldmVudF9pZCIsInVwZGF0ZUV2ZW50IiwiZGVsZXRlRXZlbnQiLCJnZXRFdmVudFdpdGhVc2VySUQiLCJyZXMiLCJjb21wYXJlVG8iLCJsaW5rIiwiZWxlbWVudCIsImF0dHJzIiwibmdNb2RlbCIsImNsZWFuVXAiLCJ1bmJpbmRXYXRjaCIsImNvbXBhcmVWYWx1ZXMiLCJ2aWV3VmFsdWUiLCJvdGhlck1vZGVsIiwiJHZpZXdWYWx1ZSIsInZhbGlkYXRlT25DaGFuZ2UiLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwiJHZhbGlkYXRlIiwiJHdhdGNoIiwiJHZhbGlkYXRvcnMiLCJzcENvbXBhcmVUbyIsIm9uIiwicmVxdWlyZSIsIkxvZ2luQ29udHJvbGxlciIsImxvZ2luU2VydmljZSIsImxvZ2luIiwibG9hZGluZyIsInVzZXIiLCJsb2dpbkNvbXBsZXRlIiwibG9naW5GYWlsZWQiLCJNb2RhbENvbnRyb2xsZXIiLCIkdWliTW9kYWxJbnN0YW5jZSIsImdyb3VwcyIsIml0ZW0iLCJjbG9zZSIsImNhbmNlbCIsImRpc21pc3MiLCJjb25maXJtIiwiVGFza3NDb250cm9sbGVyIiwidGFza01vZGFsU2VydmljZSIsInNob3dUYXNrTW9kYWwiLCJ0YXNrIiwib3BlblRhc2tNb2RhbCIsInVwZGF0ZVRhc2tzIiwidG9nZ2xlQ29tcGxldGVkIiwidGFza3NEaXJlY3RpdmUiLCJvcmRlciIsImNyZWF0ZVRhc2siLCJjcmVhdGVPclVwZGF0ZVRhc2siLCJ0YXNrX2lkIiwidXBkYXRlVGFzayIsImRlbGV0ZVRhc2siLCJnZXRUYXNrV2l0aFVzZXJJRCIsImNvbXBsZXRlZCIsInBhcnNlSW50IiwiVXBsb2FkQ29udHJvbGxlciIsIiRzY29wZSIsInVwbG9hZFNlcnZpY2UiLCJ1cGxvYWRGaWxlIiwiZmlsZSIsImZpbGVQYXRoIiwidWMiLCJzcEZpbGVDaGFuZ2UiLCIkcGFyc2UiLCJmaWxlSGFuZGxlciIsIiRhcHBseSIsImZpbGVzIiwic2l6ZSIsIm1heEZpbGVTaXplIiwiYWxlcnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVzdHJpY3QiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInVuZGVmaW5lZCIsIkRhc2hib2FyZENvbnRyb2xsZXIiLCJSZWdpc3RlckNvbnRyb2xsZXIiLCJyZWdpc3RlclNlcnZpY2UiLCJyZWdpc3RlciIsInJlZ2lzdHJhdGlvbkNvbXBsZXRlIiwidXJsIiwiJHEiLCJpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZSIsImRlZmVycmVkIiwiT0siLCJyZWplY3QiLCJwcm9taXNlIiwiZGVmZXIiLCJzZXJ2aWNlIiwiY3JlYXRlQ2FsZW5kYXIiLCJjYWxlbmRhciIsImRlbGV0ZUNhbGVuZGFyIiwiZ2V0Q2FsZW5kYXJXaXRoVXNlcklEIiwidXBkYXRlQ2FsZW5kYXIiLCIkdWliTW9kYWwiLCJvcGVuIiwiY2xvbmUiLCJhZGQiLCJzdWJ0cmFjdCIsImFEYXkiLCJkYXRlIiwic3RhcnRPZiIsImdldFdlZWsiLCJzdGFydERheSIsInRhcmdldE1vbnRoIiwid2VlayIsIm51bWJlciIsImlzVGFyZ2V0TW9udGgiLCJpc1RvZGF5IiwiZGF5MSIsImRheTIiLCJjcmVhdGVMYWJlbCIsImxhYmVsIiwiZGVsZXRlTGFiZWwiLCJnZXRMYWJlbFdpdGhVc2VySUQiLCJ1cGRhdGVMYWJlbCIsIlNpZGViYXJDb250cm9sbGVyIiwiY29sbGFwc2VkIiwidG9nZ2xlU2lkZWJhciIsInNpZGViYXJEaXJlY3RpdmUiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiSGVhZGVyQ29udHJvbGxlciIsImhlYWRlclNlcnZpY2UiLCJnZXRVc2VyQ29tcGxldGUiLCIkZXZhbEFzeW5jIiwibmFtZSIsImdldFVzZXIiLCJoZWFkZXJEaXJlY3RpdmUiLCJnZXROYW1lQ29tcGxldGUiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0MsWUFPQSxTQUFTQSxHQUFjQyxFQUFZQyxHQUNsQ0QsRUFBV0UsSUFBSSxvQkFBcUJELEVBQVdFLGtCQU5oREMsUUFDRUMsT0FBTyxPQUFRLFVBQVcsZUFBZ0Isa0JBQzFDQyxXQUFXLGdCQUFpQlAsR0FFOUJBLEVBQWNRLFNBQVcsYUFBYyxpQkFLeEMsV0FDQyxZQU9BLFNBQVNDLEdBQVVDLEdBeUNsQixRQUFTQyxHQUFhQyxHQUNyQixNQUFPQSxHQUFnQkQsZUFHeEIsUUFBU0UsR0FBVUMsR0FDbEIsTUFBT0EsR0FBY0QsWUFHdEIsUUFBU0UsR0FBVUMsR0FDbEIsTUFBT0EsR0FBYUQsWUFHckIsUUFBU0UsR0FBU0MsR0FDakIsTUFBT0EsR0FBYUQsV0FHckIsUUFBU0UsR0FBZ0JDLEdBQ3hCLE1BQU9BLEdBQWNELGtCQUd0QixRQUFTRSxHQUFRRCxHQUNoQixNQUFPQSxHQUFjQyxVQTdEdEJYLEVBQ0VZLEtBQUssVUFDTEMsWUFBYSwyQkFDYmhCLFdBQVksa0JBQ1ppQixhQUFjLE9BRWRGLEtBQUssV0FDTEMsWUFBYSw2QkFD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Q1h3SyxNQUFNLEVBQU85QyxJQUFLLFlBRW5COEMsS0FBTWpJLEVBQUloRCxLQUFNbUksSUFBSyxlQVQ5QixNQUFPcEgsR0FBZUMsT0FBTyxRQUMzQnhCLEtBQUs0TCxHQU5SLE9BQ0NGLFFBQVNBLEdBUFhyUCxRQUNFQyxPQUFPLE9BQ1BvQyxRQUFRLGdCQUFpQjRNLEdBRTNCQSxFQUFjOU8sU0FBVyxRQUFTLE9BQVEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcsIFsnbmdSb3V0ZScsICd1aS5ib290c3RyYXAnLCAnYW5ndWxhck1vbWVudCddKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0FwcENvbnRyb2xsZXInLCBBcHBDb250cm9sbGVyKTtcclxuXHJcblx0QXBwQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ2FwcFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBBcHBDb250cm9sbGVyKCRyb290U2NvcGUsIGFwcFNlcnZpY2UpIHtcclxuXHRcdCRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VFcnJvcicsIGFwcFNlcnZpY2Uucm91dGVDaGFuZ2VFcnJvcik7XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb25maWcoYXBwQ29uZmlnKTtcclxuXHJcblx0YXBwQ29uZmlnLiRpbmplY3QgPSBbJyRyb3V0ZVByb3ZpZGVyJ107XHJcblx0ZnVuY3Rpb24gYXBwQ29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7XHJcblx0XHQkcm91dGVQcm92aWRlclxyXG5cdFx0XHQud2hlbignL2xvZ2luJywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2dpbi9sb2dpbi5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdH0pXHJcblx0XHRcdC53aGVuKCcvbG9nb3V0Jywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2dvdXQvbG9nb3V0Lmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdMb2dvdXRDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bSdcclxuXHRcdFx0fSlcclxuXHRcdFx0LndoZW4oJy9yZWdpc3RlcicsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL3JlZ2lzdGVyL3JlZ2lzdGVyLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQud2hlbignL2Rhc2hib2FyZCcsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2Rhc2hib2FyZC9kYXNoYm9hcmQuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IFsnYWNjZXNzU2VydmljZScsIGlzQXV0aGVudGljYXRlZF0sXHJcblx0XHRcdFx0XHR0YXNrczogWyd0YXNrc1NlcnZpY2UnLCBnZXRUYXNrc10sXHJcblx0XHRcdFx0XHRldmVudHM6IFsnZXZlbnRzU2VydmljZScsIGdldEV2ZW50c10sXHJcblx0XHRcdFx0XHRsYWJlbHM6IFsnbGFiZWxTZXJ2aWNlJywgZ2V0TGFiZWxzXSxcclxuXHRcdFx0XHRcdGNhbGVuZGFyczogWydjYWxlbmRhclNlcnZpY2UnLCBnZXRDYWxlbmRhcnNdXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQud2hlbignL2FkbWluJywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvYWRtaW4vYWRtaW4uaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0FkbWluQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGlzQWRtaW46IFsnYWNjZXNzU2VydmljZScsIGlzQWRtaW5dXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQub3RoZXJ3aXNlKHtcclxuXHRcdFx0XHRyZWRpcmVjdFRvOiAnL2Rhc2hib2FyZCdcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0Q2FsZW5kYXJzKGNhbGVuZGFyU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gY2FsZW5kYXJTZXJ2aWNlLmdldENhbGVuZGFycygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEV2ZW50cyhldmVudHNTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBldmVudHNTZXJ2aWNlLmdldEV2ZW50cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldExhYmVscyhsYWJlbFNlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGxhYmVsU2VydmljZS5nZXRMYWJlbHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRUYXNrcyh0YXNrc1NlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIHRhc2tzU2VydmljZS5nZXRUYXNrcygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZChhY2Nlc3NTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBhY2Nlc3NTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQWRtaW4oYWNjZXNzU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gYWNjZXNzU2VydmljZS5pc0FkbWluKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdhcHBTZXJ2aWNlJywgYXBwU2VydmljZSk7XHJcblxyXG5cdGFwcFNlcnZpY2UuJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJ3N0YXR1c1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBhcHBTZXJ2aWNlKCRsb2NhdGlvbiwgc3RhdHVzU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cm91dGVDaGFuZ2VFcnJvcjogcm91dGVDaGFuZ2VFcnJvclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiByb3V0ZUNoYW5nZUVycm9yKGV2ZW50LCBjdXJyZW50LCBwcmV2aW91cywgcmVqZWN0aW9uKSB7XHJcblx0XHRcdGlmIChyZWplY3Rpb24gPT09IHN0YXR1c1NlcnZpY2UuVU5BVVRIT1JJWkVEKSB7XHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJlamVjdGlvbiA9PT0gc3RhdHVzU2VydmljZS5GT1JCSURERU4pIHtcclxuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2ZvcmJpZGRlbicpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmlsdGVyKCdzYW1lRGF5QXMnLCBzYW1lRGF5QXMpO1xyXG5cclxuXHRzYW1lRGF5QXMuJGluamVjdCA9IFsnbW9tZW50J107XHJcblx0ZnVuY3Rpb24gc2FtZURheUFzKG1vbWVudCkge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGV2ZW50cywgZGF5KSB7XHJcblx0XHRcdHZhciBzYW1lRGF5RXZlbnRzID0gW107XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciByZXN1bHQgPSBkYXkuaXNTYW1lKG1vbWVudChldmVudHNbaV0uZHRfc3RhcnQpLCAnZGF5Jyk7XHJcblxyXG5cdFx0XHRcdGlmICghcmVzdWx0KSB7XHJcblx0XHRcdFx0XHRyZXN1bHQgPSBkYXkuaXNTYW1lKG1vbWVudChldmVudHNbaV0uZHRfZW5kKSwgJ2RheScpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYocmVzdWx0KSB7XHJcblx0XHRcdFx0XHRzYW1lRGF5RXZlbnRzLnB1c2goZXZlbnRzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBzYW1lRGF5RXZlbnRzO1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFVzZWQgdG8gYWNjZXNzIHRoZSBhcGkgb2YgdGhlIHZhcmlvdXMgaXRlbSB0eXBlcy5cclxuXHQqIEFuIGluc3RhbmNlIG9mIGNydWQgbXVzdCBiZSBjcmVhdGVkIGluIG9yZGVyIHRvIHVzZSB0aGUgc2VydmljZS5cclxuXHQqXHJcblx0KiBBbGwgcHJvbWlzZXMgcmV0dXJuICdzdWNjZXNzJyBhbmQgZWl0aGVyICdkYXRhJyBvbiBzdWNjZXNzIG9yLCBvbiBlcnJvciwgJ3RpdGxlJ1xyXG5cdCogd2l0aCBhIGdlbmVyYWwgZXJyb3IgYW5kICdkZXRhaWxzJyB3aXRoIG1vcmUgZGV0YWlscy5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2NydWRTZXJ2aWNlJywgY3J1ZFNlcnZpY2UpO1xyXG5cclxuXHRjcnVkU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gY3J1ZFNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciBjcnVkID0gaW5pdDtcclxuXHRcdGNydWQucHJvdG90eXBlID0ge1xyXG5cdFx0XHRnZXQ6IGdldCxcclxuXHRcdFx0Z2V0V2hlcmU6IGdldFdoZXJlLFxyXG5cdFx0XHRjcmVhdGU6IGNyZWF0ZSxcclxuXHRcdFx0dXBkYXRlOiB1cGRhdGUsXHJcblx0XHRcdHJlbW92ZTogcmVtb3ZlLFxyXG5cdFx0XHRyZW1vdmVXaGVyZTogcmVtb3ZlV2hlcmUsXHJcblx0XHRcdHJlbW92ZVVuZWNlc3NhcnlLZXlzOiByZW1vdmVVbmVjZXNzYXJ5S2V5c1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gY3J1ZDtcclxuXHJcblx0XHQvKipcclxuXHRcdCogSW5pdGlhbGl6ZSB0aGUgYmFzZSB1cmwgdXNpbmcgdGhlIHR5cGUgb2YgaXRlbSB0byBiZSBjYWxsZWQgb24uXHJcblx0XHQqIEFjdGl2aXRpZXMgYW5kIHRoZWlyIHBhcmVudHMgaGF2ZSBhIHNwZWNpZmljIHN1YmZvbGRlciB0byBiZSBwb2ludGVkIHRvLFxyXG5cdFx0KiB3aGlsZSBvdGhlcnMgZG8gbm90LlxyXG5cdFx0KlxyXG5cdFx0KiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlIG9mIGl0ZW0uXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gaW5pdCh0eXBlKSB7XHJcblx0XHRcdC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cclxuXHRcdFx0dGhpcy50eXBlID0gdHlwZTtcclxuXHRcdFx0dGhpcy5iYXNlID0gJ2FwaS8nO1xyXG5cdFx0XHRzd2l0Y2ggKHR5cGUpIHtcclxuXHRcdFx0XHRjYXNlICdldmVudCc6XHJcblx0XHRcdFx0Y2FzZSAnY2FsZW5kYXInOlxyXG5cdFx0XHRcdFx0dGhpcy5iYXNlICs9ICdhY3Rpdml0eS9jYWxlbmRhci8nO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnbGFiZWwnOlxyXG5cdFx0XHRcdGNhc2UgJ3Rhc2snOlxyXG5cdFx0XHRcdFx0dGhpcy5iYXNlICs9ICdhY3Rpdml0eS90YXNrLyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0dGhpcy5iYXNlICs9IHR5cGUgKyAnLyc7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5iYXNlICs9IHR5cGUgKyAnTWFuYWdlci5waHAnO1xyXG5cdFx0XHQvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gZ2V0LlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PSBxdWVyeSByZXN1bHRzIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0KGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQodGhpcy5iYXNlICsgJz9pZD0nICsgaWQpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbSBcdHtzdHJpbmd9XHR3aGVyZSBcdFdoZXJlIGNsYXVzZS5cclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0dXNlcklEXHRGb3IgYWN0aXZpdGllcyAodGFza3MsIGV2ZW50cyksIHRoZSBjb3JyZXNwb25kaW5nXHJcblx0XHQqXHRcdFx0XHRcdFx0XHRcdHVzZXIgZm9yIHRoZSBhY3Rpdml0eS4gUGFzcyBlbXB0eSBzdHJpbmdcclxuXHRcdCpcdFx0XHRcdFx0XHRcdFx0b3RoZXJ3aXNlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PSBxdWVyeSByZXN1bHRzIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0V2hlcmUod2hlcmUsIHVzZXJJRCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KHRoaXMuYmFzZSArICc/dXNld2hlcmU9dHJ1ZSZ3aGVyZT0nICsgZXNjYXBlKHdoZXJlKSArICcmaWQ9JyArIHVzZXJJRCkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX1cdGRhdGFcdERhdGEgb2YgaXRlbSB0byBjcmVhdGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAxIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlKGRhdGEpIHtcclxuXHRcdFx0ZGF0YSA9IHRoaXMucmVtb3ZlVW5lY2Vzc2FyeUtleXMoZGF0YSk7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QodGhpcy5iYXNlLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gdXBkYXRlLlxyXG5cdFx0KiBAcGFyYW1cdHttaXhlZFtdfVx0ZGF0YVx0RGF0YSBvZiBpdGVtIHRvIHVwZGF0ZS5cclxuXHRcdCpcclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT09ICcxJyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZShpZCwgZGF0YSkge1xyXG5cdFx0XHRkYXRhID0gdGhpcy5yZW1vdmVVbmVjZXNzYXJ5S2V5cyhkYXRhKTsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KHRoaXMuYmFzZSArICc/aWQ9JyArIGlkLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gZGVsZXRlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PT0gMSBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZShpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZGVsZXRlKHRoaXMuYmFzZSArICc/aWQ9JyArIGlkKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0gXHR7c3RyaW5nfVx0d2hlcmUgXHRXaGVyZSBjbGF1c2UuXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdHVzZXJJRFx0Rm9yIGFjdGl2aXRpZXMgKHRhc2tzLCBldmVudHMpLCB0aGUgY29ycmVzcG9uZGluZ1xyXG5cdFx0Klx0XHRcdFx0XHRcdFx0XHR1c2VyIGZvciB0aGUgYWN0aXZpdHkuIFBhc3MgZW1wdHkgc3RyaW5nXHJcblx0XHQqXHRcdFx0XHRcdFx0XHRcdG90aGVyd2lzZS5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPj0gMCBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZVdoZXJlKHdoZXJlLCB1c2VySUQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSh0aGlzLmJhc2UgKyAnP3doZXJlPXRydWUmaWQ9JyArIHVzZXJJRCwgd2hlcmUpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHJldHVybiByZXNwb25zZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlRmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHN1Y2Nlc3M6ICdmYWxzZScsXHJcblx0XHRcdFx0dGl0bGU6ICdFcnJvciB3aGVuIHF1ZXJ5aW5nIHNlcnZlci4nLFxyXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEl0ZW0gZGF0YSBwYXNzZWQgaW4gbWF5IHN0aWxsIGhhdmUgdGhlaXIgaWRzIG9yIGFsaWFzIGZpZWxkcyAoZm9yIGFjdGl2aXRpZXMpXHJcblx0XHQqIGVtYmVkZGVkLCB3aGljaCB3aWxsIGNhbiBjYXVzZSBlcnJvcnMgaW4gdGhlIFNRTC5cclxuXHRcdCpcclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX0gZGF0YVxyXG5cdFx0KiBAcmV0dXJuXHR7bWl4ZWRbXX1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmVVbmVjZXNzYXJ5S2V5cyhkYXRhKSB7XHJcblx0XHRcdHZhciB0b0RlbGV0ZSA9IFsnaWQnLCAncGVyc29uX2lkJywgdGhpcy50eXBlICsgJ19pZCcsICdhY3Rpdml0eV9pbmZvX2lkJywgJ3BhcmVudF9uYW1lJ107ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0b0RlbGV0ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGRlbGV0ZSBkYXRhW3RvRGVsZXRlW2ldXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyBzZXNzaW9uIHZhcmlhYmxlcy5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3Nlc3Npb25TZXJ2aWNlJywgc2Vzc2lvblNlcnZpY2UpO1xyXG5cclxuXHRzZXNzaW9uU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gc2Vzc2lvblNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmJhc2UgPSAnYXBpL3Nlc3Npb24vc2Vzc2lvblZhck1hbmFnZXIucGhwP3Zhcj0nO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFZhcjogZ2V0VmFyLFxyXG5cdFx0XHRzZXRWYXI6IHNldFZhclxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfSAkbmFtZVx0VmFyaWFibGUgbmFtZSB0byBnZXQgZnJvbSBzZXNzaW9uLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfSBcdFx0UHJvbWlzZSBvciBlcnJvciBvbiBmYWlsLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFZhcigkbmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KHZtLmJhc2UgKyAkbmFtZSlcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9ICRuYW1lXHRWYXJpYWJsZSBuYW1lIHRvIGdldCBmcm9tIHNlc3Npb24uXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmd9IFx0XHRQcm9taXNlIG9yIGVycm9yIG9uIGZhaWwuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gc2V0VmFyKCRuYW1lLCAkdmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3Qodm0uYmFzZSArICRuYW1lLCAkdmFsdWUpXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VGYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0c3VjY2VzczogJ2ZhbHNlJyxcclxuXHRcdFx0XHR0aXRsZTogJ0Vycm9yIHdoZW4gYWNjZXNzaW5nIHZhcmlhYmxlLicsXHJcblx0XHRcdFx0bWVzc2FnZTogZXJyb3JcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdFdmVudHNDb250cm9sbGVyJywgRXZlbnRzQ29udHJvbGxlcik7XHJcblxyXG5cdEV2ZW50c0NvbnRyb2xsZXIuJGluamVjdCA9IFsnbW9tZW50JywgJ2NhbGVuZGFyV2lkZ2V0U2VydmljZScsICdldmVudHNTZXJ2aWNlJywgJ2V2ZW50TW9kYWxTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gRXZlbnRzQ29udHJvbGxlcihtb21lbnQsIGNhbGVuZGFyV2lkZ2V0U2VydmljZSwgZXZlbnRzU2VydmljZSwgZXZlbnRNb2RhbFNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5pc1NhbWVEYXlBc1NlbGVjdGVkID0gaXNTYW1lRGF5QXNTZWxlY3RlZDtcclxuXHRcdHZtLmdldEVuZE9mRGF5ID0gZ2V0RW5kT2ZEYXk7XHJcblx0XHR2bS5zZWxlY3REYXkgPSBzZWxlY3REYXk7XHJcblx0XHR2bS5zaG93RXZlbnRNb2RhbCA9IHNob3dFdmVudE1vZGFsO1xyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdHZtLnRvZGF5ID0gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLmdldFRvZGF5KCk7XHJcblx0XHRcdHZtLnNlbGVjdGVkRGF5ID0gdm0udG9kYXk7XHJcblx0XHRcdHZtLm1vbnRoID0gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLmdldE1vbnRoKHZtLnRvZGF5KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRFbmRPZkRheShkYXkpIHtcclxuXHRcdFx0cmV0dXJuIGNhbGVuZGFyV2lkZ2V0U2VydmljZS5nZXRFbmRPZkRheShkYXkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzU2FtZURheUFzU2VsZWN0ZWQoZGF5KSB7XHJcblx0XHRcdHJldHVybiBjYWxlbmRhcldpZGdldFNlcnZpY2UuaXNTYW1lRGF5KGRheSwgdm0uc2VsZWN0ZWREYXkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNlbGVjdERheShkYXkpIHtcclxuXHRcdFx0dm0uc2VsZWN0ZWREYXkgPSBkYXkuZnVsbERhdGU7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd0V2ZW50TW9kYWwoZXZlbnQpIHtcclxuXHRcdFx0ZXZlbnRNb2RhbFNlcnZpY2Uub3BlbkV2ZW50TW9kYWwoZXZlbnQsIHZtLmNhbGVuZGFycykudGhlbih1cGRhdGVFdmVudHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUV2ZW50cyhyZXNwb25zZSkge1xyXG5cdFx0XHRpZiAocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2bS5ldmVudHMgPSByZXNwb25zZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcEV2ZW50cycsIGV2ZW50c0RpcmVjdGl2ZSk7XHJcblxyXG5cdGZ1bmN0aW9uIGV2ZW50c0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9ldmVudHMvZXZlbnRzLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnRXZlbnRzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRldmVudHM6ICc9JyxcclxuXHRcdFx0XHRjYWxlbmRhcnM6ICc9J1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnZXZlbnRzU2VydmljZScsIGV2ZW50c1NlcnZpY2UpO1xyXG5cclxuXHRldmVudHNTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnLCAnY3J1ZFNlcnZpY2UnLCAnc2Vzc2lvblNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBldmVudHNTZXJ2aWNlKCRodHRwLCAkbG9nLCBjcnVkU2VydmljZSwgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmV2ZW50ID0gbmV3IGNydWRTZXJ2aWNlKCdldmVudCcpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZUV2ZW50OiBjcmVhdGVFdmVudCxcclxuXHRcdFx0Y3JlYXRlT3JVcGRhdGVFdmVudDogY3JlYXRlT3JVcGRhdGVFdmVudCxcclxuXHRcdFx0ZGVsZXRlRXZlbnQ6IGRlbGV0ZUV2ZW50LFxyXG5cdFx0XHRnZXRFdmVudHM6IGdldEV2ZW50cyxcclxuXHRcdFx0dXBkYXRlRXZlbnQ6IHVwZGF0ZUV2ZW50XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KGV2ZW50KSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudC5jcmVhdGUoZXZlbnQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUV2ZW50KGV2ZW50KSB7XHJcblx0XHRcdGlmICghZXZlbnQuZXZlbnRfaWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gY3JlYXRlRXZlbnQoZXZlbnQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB1cGRhdGVFdmVudChldmVudC5ldmVudF9pZCwgZXZlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUV2ZW50KGlkKSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudC5yZW1vdmUoaWQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRFdmVudHMoKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ2lkJylcclxuXHRcdFx0XHQudGhlbihnZXRFdmVudFdpdGhVc2VySUQpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0RXZlbnRXaXRoVXNlcklEKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdm0uZXZlbnQuZ2V0V2hlcmUoJycsIHJlcy5kYXRhKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVFdmVudChpZCwgZXZlbnQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmV2ZW50LnVwZGF0ZShpZCwgZXZlbnQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0dmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdGlmIChyZXMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdHJldHVybiByZXMuZGF0YTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzLnRpdGxlO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIENvbXBhcmUgYW4gaW5wdXQgZmllbGQgdG8gYW5vdGhlciBmaWVsZCwgZGV0ZXJtaW5lZCBieSB0aGUgZGV2LlxyXG5cdCovXHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcENvbXBhcmVUbycsIGNvbXBhcmVUbyk7XHJcblxyXG5cdGZ1bmN0aW9uIGNvbXBhcmVUbygpIHtcclxuXHRcdHZhciBkaXJlY3RpdmUgPSB7XHJcblx0XHRcdHJlcXVpcmU6ICduZ01vZGVsJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRvdGhlck1vZGVsOiAnPXNwQ29tcGFyZVRvJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBsaW5rXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG5cdFx0XHR2YXIgdW5iaW5kV2F0Y2ggPSBzY29wZS4kd2F0Y2goJ290aGVyTW9kZWwnLCB2YWxpZGF0ZU9uQ2hhbmdlKTtcclxuXHRcdFx0bmdNb2RlbC4kdmFsaWRhdG9ycy5zcENvbXBhcmVUbyA9IGNvbXBhcmVWYWx1ZXM7XHJcblx0XHRcdGVsZW1lbnQub24oJyRkZXN0cm95JywgY2xlYW5VcCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjbGVhblVwKCkge1xyXG5cdFx0XHRcdHVuYmluZFdhdGNoKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNvbXBhcmVWYWx1ZXModmlld1ZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuICh2aWV3VmFsdWUgPT09IHNjb3BlLm90aGVyTW9kZWwuJHZpZXdWYWx1ZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHZhbGlkYXRlT25DaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcblx0XHRcdFx0bmdNb2RlbC4kdmFsaWRhdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgTG9naW5Db250cm9sbGVyKTtcclxuXHJcblx0TG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ2luU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihsb2dpblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR2bS5lcnJvciA9ICcnO1xyXG5cclxuXHRcdHZtLmxvZ2luID0gbG9naW47XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIExvZ2luU2VydmljZSB3aWxsIHJlZGlyZWN0IGlmIHRoZXJlIGlzIG5vIGVycm9yLiBUaHVzLCB0aGVyZSdzIG9ubHkgYVxyXG5cdFx0KiBuZWVkIHRvIHJldHVybiBhIHByb21pc2UgaWYgdGhlcmUncyBhbiBlcnJvci5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBsb2dpbigpIHtcclxuXHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdGxvZ2luU2VydmljZS5sb2dpbih2bS51c2VyKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnbG9naW5TZXJ2aWNlJywgbG9naW5TZXJ2aWNlKTtcclxuXHJcblx0bG9naW5TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2NhdGlvbicsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gbG9naW5TZXJ2aWNlKCRodHRwLCAkbG9jYXRpb24sICRsb2cpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRsb2dpbjogbG9naW5cclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9naW4odXNlcikge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnYXBpL3VzZXIvbG9naW5NYW5hZ2VyLnBocCcsIHVzZXIpXHJcblx0XHRcdFx0LnRoZW4obG9naW5Db21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gobG9naW5GYWlsZWQpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UuZGF0YS50aXRsZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9kYXNoYm9hcmQnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5GYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0XHRyZXR1cm4gJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLic7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdNb2RhbENvbnRyb2xsZXInLCBNb2RhbENvbnRyb2xsZXIpO1xyXG5cclxuXHRNb2RhbENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHVpYk1vZGFsSW5zdGFuY2UnLCAnZ3JvdXBzJywgJ2l0ZW0nXTtcclxuXHRmdW5jdGlvbiBNb2RhbENvbnRyb2xsZXIoJHVpYk1vZGFsSW5zdGFuY2UsIGdyb3VwcywgaXRlbSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmdyb3VwcyA9IGdyb3VwcztcclxuXHRcdHZtLml0ZW0gPSBpdGVtO1xyXG5cdFx0dm0uY2xvc2UgPSBjbG9zZTtcclxuXHRcdHZtLmNhbmNlbCA9IGNhbmNlbDtcclxuXHRcdHZtLmNvbmZpcm0gPSBjb25maXJtO1xyXG5cdFx0dm0ucmVtb3ZlID0gcmVtb3ZlO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNsb3NlKCkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNhbmNlbCgpIHtcclxuXHRcdFx0JHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlKGRhdGEpIHtcclxuXHRcdFx0JHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcyhkYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjb25maXJtKGRhdGEpIHtcclxuXHRcdFx0JHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoZGF0YSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdUYXNrc0NvbnRyb2xsZXInLCBUYXNrc0NvbnRyb2xsZXIpO1xyXG5cclxuXHRUYXNrc0NvbnRyb2xsZXIuJGluamVjdCA9IFsndGFza3NTZXJ2aWNlJywgJ3Rhc2tNb2RhbFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBUYXNrc0NvbnRyb2xsZXIodGFza3NTZXJ2aWNlLCB0YXNrTW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uc2hvd1Rhc2tNb2RhbCA9IHNob3dUYXNrTW9kYWw7XHJcblx0XHR2bS50b2dnbGVDb21wbGV0ZWQgPSB0b2dnbGVDb21wbGV0ZWQ7XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd1Rhc2tNb2RhbCh0YXNrKSB7XHJcblx0XHRcdHRhc2tNb2RhbFNlcnZpY2Uub3BlblRhc2tNb2RhbCh0YXNrLCB2bS5sYWJlbHMpLnRoZW4odXBkYXRlVGFza3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZCh0YXNrKSB7XHJcblx0XHRcdHRhc2tzU2VydmljZS50b2dnbGVDb21wbGV0ZWQodGFzaykudGhlbih1cGRhdGVUYXNrcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlVGFza3MocmVzcG9uc2UpIHtcclxuXHRcdFx0aWYgKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dm0udGFza3MgPSByZXNwb25zZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFRhc2tzJywgdGFza3NEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiB0YXNrc0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy90YXNrcy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1Rhc2tzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHR0YXNrczogJz0nLFxyXG5cdFx0XHRcdGxhYmVsczogJz0nLFxyXG5cdFx0XHRcdG9yZGVyOiAnPSdcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3Rhc2tzU2VydmljZScsIHRhc2tzU2VydmljZSk7XHJcblxyXG5cdHRhc2tzU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ2NydWRTZXJ2aWNlJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gdGFza3NTZXJ2aWNlKCRodHRwLCAkbG9nLCBjcnVkU2VydmljZSwgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLnRhc2sgPSBuZXcgY3J1ZFNlcnZpY2UoJ3Rhc2snKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVUYXNrOiBjcmVhdGVUYXNrLFxyXG5cdFx0XHRjcmVhdGVPclVwZGF0ZVRhc2s6IGNyZWF0ZU9yVXBkYXRlVGFzayxcclxuXHRcdFx0ZGVsZXRlVGFzazogZGVsZXRlVGFzayxcclxuXHRcdFx0Z2V0VGFza3M6IGdldFRhc2tzLFxyXG5cdFx0XHR0b2dnbGVDb21wbGV0ZWQ6IHRvZ2dsZUNvbXBsZXRlZCxcclxuXHRcdFx0dXBkYXRlVGFzazogdXBkYXRlVGFza1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVUYXNrKHRhc2spIHtcclxuXHRcdFx0cmV0dXJuIHZtLnRhc2suY3JlYXRlKHRhc2spLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVRhc2sodGFzaykge1xyXG5cdFx0XHRpZiAoIXRhc2sudGFza19pZCkge1xyXG5cdFx0XHRcdHJldHVybiBjcmVhdGVUYXNrKHRhc2spO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB1cGRhdGVUYXNrKHRhc2sudGFza19pZCwgdGFzayk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlVGFzayhpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0udGFzay5yZW1vdmUoaWQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRUYXNrcygpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignaWQnKVxyXG5cdFx0XHRcdC50aGVuKGdldFRhc2tXaXRoVXNlcklEKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldFRhc2tXaXRoVXNlcklEKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdm0udGFzay5nZXRXaGVyZSgnJywgcmVzLmRhdGEpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZCh0YXNrKSB7XHJcblx0XHRcdHRhc2suY29tcGxldGVkID0gIXBhcnNlSW50KHRhc2suY29tcGxldGVkKTtcclxuXHRcdFx0cmV0dXJuIHVwZGF0ZVRhc2sodGFzay50YXNrX2lkLCB0YXNrKS50aGVuKGdldFRhc2tzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVUYXNrKGlkLCB0YXNrKSB7XHJcblx0XHRcdHJldHVybiB2bS50YXNrLnVwZGF0ZShpZCwgdGFzaykudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignVXBsb2FkQ29udHJvbGxlcicsIFVwbG9hZENvbnRyb2xsZXIpO1xyXG5cclxuXHRVcGxvYWRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckaHR0cCcsICd1cGxvYWRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gVXBsb2FkQ29udHJvbGxlcigkc2NvcGUsICRodHRwLCB1cGxvYWRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdWMgPSB0aGlzO1xyXG5cdFx0dWMudXBsb2FkRmlsZSA9IHVwbG9hZEZpbGU7XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBsb2FkRmlsZShmaWxlKSB7XHJcblx0XHRcdHJldHVybiB1cGxvYWRTZXJ2aWNlLnVwbG9hZEZpbGUoZmlsZSlcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihmaWxlUGF0aCkgeyByZXR1cm4gZmlsZVBhdGg7IH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcEZpbGVDaGFuZ2UnLCBzcEZpbGVDaGFuZ2UpO1xyXG5cclxuXHRzcEZpbGVDaGFuZ2UuJGluamVjdCA9IFsnJHBhcnNlJ107XHJcblx0ZnVuY3Rpb24gc3BGaWxlQ2hhbmdlKCRwYXJzZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1VwbG9hZENvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd1YycsXHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0c3BGaWxlQ2hhbmdlOiAnPScsXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdFx0dmFyIG1heEZpbGVTaXplID0gMiAqIDEwMjQgKiAxMDI0O1xyXG5cdFx0XHR2YXIgZmlsZU1vZGVsID0gJHBhcnNlKGF0dHJzLnNwRmlsZUNoYW5nZSk7XHJcblx0XHRcdGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZmlsZUhhbmRsZXIsIGZhbHNlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGZpbGVIYW5kbGVyKGV2ZW50KSB7XHJcblx0XHRcdFx0c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIGZpbGUgPSBlbGVtZW50WzBdLmZpbGVzWzBdO1xyXG5cclxuXHRcdFx0XHRcdGlmIChmaWxlLnNpemUgPD0gbWF4RmlsZVNpemUpIHtcclxuXHRcdFx0XHRcdFx0c2NvcGUudWMudXBsb2FkRmlsZShmaWxlKVxyXG5cdFx0XHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKGZpbGVQYXRoKSB7IHNjb3BlLnNwRmlsZUNoYW5nZSA9IGZpbGVQYXRoOyB9KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGFsZXJ0KFwiRmlsZSBtdXN0IGJlIGxlc3MgdGhhbiBcIiArIChtYXhGaWxlU2l6ZSAvIDEwMjQgLyAxMDI0KSArIFwiTUIuXCIpOy8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd1cGxvYWRTZXJ2aWNlJywgdXBsb2FkU2VydmljZSk7XHJcblxyXG5cdHVwbG9hZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIHVwbG9hZFNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHVwbG9hZEZpbGU6IHVwbG9hZEZpbGVcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBsb2FkRmlsZShmaWxlKSB7XHJcblx0XHRcdHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG5cdFx0XHRmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuXHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCdhcGkvdXBsb2FkL3VwbG9hZE1hbmFnZXIucGhwJywgZm9ybURhdGEsIHtcclxuXHRcdFx0XHR0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG5cdFx0XHRcdGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9XHJcblx0XHRcdH0pXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRpZiAocmVzLmRhdGEuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzLmRhdGEuZGF0YTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRsb2cuZXJyb3IocmVzLnRpdGxlKTtcclxuXHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdCRsb2cuZXJyb3IocmVzKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0Rhc2hib2FyZENvbnRyb2xsZXInLCBEYXNoYm9hcmRDb250cm9sbGVyKTtcclxuXHJcblx0RGFzaGJvYXJkQ29udHJvbGxlci4kaW5qZWN0ID0gWydpc0F1dGhlbnRpY2F0ZWQnLCAndGFza3MnLCAnZXZlbnRzJywgJ2xhYmVscycsICdjYWxlbmRhcnMnXTtcclxuXHRmdW5jdGlvbiBEYXNoYm9hcmRDb250cm9sbGVyKGlzQXV0aGVudGljYXRlZCwgdGFza3MsIGV2ZW50cywgbGFiZWxzLCBjYWxlbmRhcnMpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS50YXNrcyA9IHRhc2tzO1xyXG5cdFx0dm0uZXZlbnRzID0gZXZlbnRzO1xyXG5cdFx0dm0ubGFiZWxzID0gbGFiZWxzO1xyXG5cdFx0dm0uY2FsZW5kYXJzID0gY2FsZW5kYXJzO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignUmVnaXN0ZXJDb250cm9sbGVyJywgUmVnaXN0ZXJDb250cm9sbGVyKTtcclxuXHJcblx0UmVnaXN0ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJ3JlZ2lzdGVyU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcihyZWdpc3RlclNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5lcnJvciA9ICcnO1xyXG5cdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0dm0ucmVnaXN0ZXIgPSByZWdpc3RlcjtcclxuXHJcblx0XHRmdW5jdGlvbiByZWdpc3RlcigpIHtcclxuXHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdHJlZ2lzdGVyU2VydmljZS5yZWdpc3Rlcih2bS51c2VyKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgncmVnaXN0ZXJTZXJ2aWNlJywgcmVnaXN0ZXJTZXJ2aWNlKTtcclxuXHJcblx0cmVnaXN0ZXJTZXJ2aWNlLiRpbmplY3QgPSBbJyRsb2NhdGlvbicsICckbG9nJywgJ2NydWRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gcmVnaXN0ZXJTZXJ2aWNlKCRsb2NhdGlvbiwgJGxvZywgY3J1ZFNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmNydWQgPSBuZXcgY3J1ZFNlcnZpY2UoJ3VzZXInKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZWdpc3RlcjogcmVnaXN0ZXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXIodXNlcikge1xyXG5cdFx0XHRyZXR1cm4gdm0uY3J1ZC5jcmVhdGUodXNlcilcclxuXHRcdFx0XHQudGhlbihyZWdpc3RyYXRpb25Db21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZWdpc3RyYXRpb25Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5zdWNjZXNzID09PSAnZmFsc2UnKSB7XHJcblx0XHRcdFx0XHQkbG9nLmVycm9yKHJlc3BvbnNlLnRpdGxlKTtcclxuXHRcdFx0XHRcdHJldHVybiByZXNwb25zZS50aXRsZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGxvY2F0aW9uLnVybCgnL2xvZ2luJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2FjY2Vzc1NlcnZpY2UnLCBhY2Nlc3NTZXJ2aWNlKTtcclxuXHJcblx0YWNjZXNzU2VydmljZS4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnJHEnLCAnc2Vzc2lvblNlcnZpY2UnLCAnc3RhdHVzU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGFjY2Vzc1NlcnZpY2UoJGxvY2F0aW9uLCAkcSwgc2Vzc2lvblNlcnZpY2UsIHN0YXR1c1NlcnZpY2UpIHtcclxuXHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0aXNBdXRoZW50aWNhdGVkOiBpc0F1dGhlbnRpY2F0ZWQsXHJcblx0XHRcdGlzQWRtaW46IGlzQWRtaW5cclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKCkge1xyXG5cdFx0XHRyZXR1cm4gc2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCduYW1lJylcclxuXHRcdFx0XHQudGhlbihpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHN0YXR1c1NlcnZpY2UuT0spO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3Qoc3RhdHVzU2VydmljZS5VTkFVVEhPUklaRUQpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBpc0FkbWluKCkge1xyXG5cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBTdGF0dXMgY29kZXMgdXNlZCB3aGVuIGFjY2Vzc2luZyB2YXJpb3VzIHBhZ2VzIGluIHRoZSBhcHAuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5zZXJ2aWNlKCdzdGF0dXNTZXJ2aWNlJywgc3RhdHVzU2VydmljZSk7XHJcblxyXG5cdGZ1bmN0aW9uIHN0YXR1c1NlcnZpY2UoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRPSzogMjAwLFxyXG5cdFx0XHRVTkFVVEhPUklaRUQ6IDQwMSxcclxuXHRcdFx0Rk9SQklEREVOOiA0MDNcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnY2FsZW5kYXJTZXJ2aWNlJywgY2FsZW5kYXJTZXJ2aWNlKTtcclxuXHJcblx0Y2FsZW5kYXJTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnLCAnY3J1ZFNlcnZpY2UnLCAnc2Vzc2lvblNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBjYWxlbmRhclNlcnZpY2UoJGh0dHAsICRsb2csIGNydWRTZXJ2aWNlLCBzZXNzaW9uU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0dm0uY2FsZW5kYXIgPSBuZXcgY3J1ZFNlcnZpY2UoJ2NhbGVuZGFyJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y3JlYXRlQ2FsZW5kYXI6IGNyZWF0ZUNhbGVuZGFyLFxyXG5cdFx0XHRkZWxldGVDYWxlbmRhcjogZGVsZXRlQ2FsZW5kYXIsXHJcblx0XHRcdGdldENhbGVuZGFyczogZ2V0Q2FsZW5kYXJzLFxyXG5cdFx0XHR1cGRhdGVDYWxlbmRhcjogdXBkYXRlQ2FsZW5kYXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlQ2FsZW5kYXIoY2FsZW5kYXIpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyLmNyZWF0ZShjYWxlbmRhcikudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUNhbGVuZGFyKGlkKSB7XHJcblx0XHRcdHJldHVybiB2bS5jYWxlbmRhci5yZW1vdmUoaWQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRDYWxlbmRhcnMoKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ2lkJylcclxuXHRcdFx0XHQudGhlbihnZXRDYWxlbmRhcldpdGhVc2VySUQpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0Q2FsZW5kYXJXaXRoVXNlcklEKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXIuZ2V0V2hlcmUoJ3BlcnNvbl9pZD0nICsgcmVzLmRhdGEsICcnKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVDYWxlbmRhcihpZCwgY2FsZW5kYXIpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyLnVwZGF0ZShpZCwgY2FsZW5kYXIpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0dmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdGlmIChyZXMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdHJldHVybiByZXMuZGF0YTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzLnRpdGxlO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2V2ZW50TW9kYWxTZXJ2aWNlJywgZXZlbnRNb2RhbFNlcnZpY2UpO1xyXG5cclxuXHRldmVudE1vZGFsU2VydmljZS4kaW5qZWN0ID0gWyckdWliTW9kYWwnLCAnY2FsZW5kYXJTZXJ2aWNlJywgJ2V2ZW50c1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBldmVudE1vZGFsU2VydmljZSgkdWliTW9kYWwsIGNhbGVuZGFyU2VydmljZSwgZXZlbnRzU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG9wZW5FdmVudE1vZGFsOiBvcGVuRXZlbnRNb2RhbFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBvcGVuRXZlbnRNb2RhbChldmVudCwgY2FsZW5kYXJzKSB7XHJcblx0XHRcdHJldHVybiAkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9ldmVudHMvbW9kYWwvZXZlbnQubW9kYWwuaHRtbCcsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0Z3JvdXBzOiBmdW5jdGlvbigpIHsgcmV0dXJuIGNhbGVuZGFyczsgfSxcclxuXHRcdFx0XHRcdGl0ZW06IGV2ZW50XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGV2ZW50c1NlcnZpY2UuY3JlYXRlT3JVcGRhdGVFdmVudChyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0LnRoZW4oZXZlbnRzU2VydmljZS5nZXRFdmVudHMpO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHJlc3BvbnNlICE9PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXZlbnRzU2VydmljZS5kZWxldGVFdmVudChyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0XHQudGhlbihldmVudHNTZXJ2aWNlLmdldEV2ZW50cyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnY2FsZW5kYXJXaWRnZXRTZXJ2aWNlJywgY2FsZW5kYXJXaWRnZXRTZXJ2aWNlKTtcclxuXHJcblx0Y2FsZW5kYXJXaWRnZXRTZXJ2aWNlLiRpbmplY3QgPSBbJ21vbWVudCddO1xyXG5cdGZ1bmN0aW9uIGNhbGVuZGFyV2lkZ2V0U2VydmljZShtb21lbnQpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldEVuZE9mRGF5OiBnZXRFbmRPZkRheSxcclxuXHRcdFx0Z2V0TW9udGg6IGdldE1vbnRoLFxyXG5cdFx0XHRnZXRUb2RheTogZ2V0VG9kYXksXHJcblx0XHRcdGdldFdlZWs6IGdldFdlZWssXHJcblx0XHRcdGlzU2FtZURheTogaXNTYW1lRGF5XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEVuZE9mRGF5KGRheSkge1xyXG5cdFx0XHRyZXR1cm4gZGF5LmNsb25lKCkuYWRkKDEsICdkYXknKS5zdWJ0cmFjdCgxLCAnbXMnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHtNb21lbnQgT2JqZWN0fSBhRGF5IERheSB0byBidWlsZCBtb250aCBhcm91bmQuXHJcblx0XHQqIEByZXR1cm4ge01vbWVudCBPYmplY3RbXVtdfVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldE1vbnRoKGFEYXkpIHtcclxuXHRcdFx0dmFyIG1vbnRoID0gW107XHJcblx0XHRcdHZhciBkYXkgPSBhRGF5LmNsb25lKCkuZGF0ZSgxKS5zdGFydE9mKCd3ZWVrJyk7XHJcblx0XHRcdGZvciAodmFyIGkgPSBhRGF5Lm1vbnRoKCk7IGkgPT09IGFEYXkubW9udGgoKTsgaSA9IGRheS5tb250aCgpKSB7XHJcblx0XHRcdFx0bW9udGgucHVzaChnZXRXZWVrKGRheSwgYURheS5tb250aCgpKSk7XHJcblx0XHRcdFx0ZGF5ID0gZGF5LmFkZCgxLCAnd2Vla3MnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbW9udGg7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VG9kYXkoKSB7XHJcblx0XHRcdHJldHVybiBtb21lbnQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHtNb21lbnQgT2JqZWN0fVx0c3RhcnREYXlcdFN0YXJ0aW5nIGRheSBvZiBhIHdlZWsuXHJcblx0XHQqIEBwYXJhbSB7aW50fVx0XHRcdFx0dGFyZ2V0TW9udGhcdE1vbnRoIG51bWJlciBiZWluZyBidWlsdC5cclxuXHRcdCpcclxuXHRcdCogQHJldHVybiB7TW9tZW50IE9iamVjdFtdfVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFdlZWsoc3RhcnREYXksIHRhcmdldE1vbnRoKSB7XHJcblx0XHRcdHZhciB3ZWVrID0gW107XHJcblxyXG5cdFx0XHR2YXIgZGF5ID0gc3RhcnREYXkuY2xvbmUoKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcclxuXHRcdFx0XHR3ZWVrLnB1c2goe1xyXG5cdFx0XHRcdFx0bnVtYmVyOiBkYXkuZGF0ZSgpLFxyXG5cdFx0XHRcdFx0aXNUYXJnZXRNb250aDogKGRheS5tb250aCgpID09PSB0YXJnZXRNb250aCksXHJcblx0XHRcdFx0XHRpc1RvZGF5OiBkYXkuaXNTYW1lKG1vbWVudCgpLCAnZGF5JyksXHJcblx0XHRcdFx0XHRmdWxsRGF0ZTogZGF5XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0ZGF5ID0gZGF5LmNsb25lKCkuYWRkKDEsICdkYXlzJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB3ZWVrO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0ge01vbWVudCBPYmplY3R9XHRkYXkxXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH1cdGRheTJcclxuXHRcdCpcclxuXHRcdCogQHJldHVybiB7Ym9vbH1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBpc1NhbWVEYXkoZGF5MSwgZGF5Mikge1xyXG5cdFx0XHRyZXR1cm4gZGF5MS5pc1NhbWUoZGF5MiwgJ2RheScpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2xhYmVsU2VydmljZScsIGxhYmVsU2VydmljZSk7XHJcblxyXG5cdGxhYmVsU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ2NydWRTZXJ2aWNlJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gbGFiZWxTZXJ2aWNlKCRodHRwLCAkbG9nLCBjcnVkU2VydmljZSwgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmxhYmVsID0gbmV3IGNydWRTZXJ2aWNlKCdsYWJlbCcpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZUxhYmVsOiBjcmVhdGVMYWJlbCxcclxuXHRcdFx0ZGVsZXRlTGFiZWw6IGRlbGV0ZUxhYmVsLFxyXG5cdFx0XHRnZXRMYWJlbHM6IGdldExhYmVscyxcclxuXHRcdFx0dXBkYXRlTGFiZWw6IHVwZGF0ZUxhYmVsXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZUxhYmVsKGxhYmVsKSB7XHJcblx0XHRcdHJldHVybiB2bS5sYWJlbC5jcmVhdGUobGFiZWwpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVMYWJlbChpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWwucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0TGFiZWxzKCkge1xyXG5cdFx0XHRyZXR1cm4gc2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCdpZCcpXHJcblx0XHRcdFx0LnRoZW4oZ2V0TGFiZWxXaXRoVXNlcklEKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldExhYmVsV2l0aFVzZXJJRChyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGlmIChyZXMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHZtLmxhYmVsLmdldFdoZXJlKCdwZXJzb25faWQ9JyArIHJlcy5kYXRhLCAnJykudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gcmVzLnRpdGxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlTGFiZWwoaWQsIGxhYmVsKSB7XHJcblx0XHRcdHJldHVybiB2bS5sYWJlbC51cGRhdGUoaWQsIGxhYmVsKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd0YXNrTW9kYWxTZXJ2aWNlJywgdGFza01vZGFsU2VydmljZSk7XHJcblxyXG5cdHRhc2tNb2RhbFNlcnZpY2UuJGluamVjdCA9IFsnJHVpYk1vZGFsJywgJ2xhYmVsU2VydmljZScsICd0YXNrc1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiB0YXNrTW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgbGFiZWxTZXJ2aWNlLCB0YXNrc1NlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuVGFza01vZGFsOiBvcGVuVGFza01vZGFsXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIG9wZW5UYXNrTW9kYWwodGFzaywgbGFiZWxzKSB7XHJcblx0XHRcdHJldHVybiAkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy9tb2RhbC90YXNrLm1vZGFsLmh0bWwnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGdyb3VwczogZnVuY3Rpb24oKSB7IHJldHVybiBsYWJlbHM7IH0sXHJcblx0XHRcdFx0XHRpdGVtOiB0YXNrXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRhc2tzU2VydmljZS5jcmVhdGVPclVwZGF0ZVRhc2socmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdC50aGVuKHRhc2tzU2VydmljZS5nZXRUYXNrcyk7XHJcblx0XHRcdFx0fSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgcmVzcG9uc2UgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB0YXNrc1NlcnZpY2UuZGVsZXRlVGFzayhyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0XHQudGhlbih0YXNrc1NlcnZpY2UuZ2V0VGFza3MpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1NpZGViYXJDb250cm9sbGVyJywgU2lkZWJhckNvbnRyb2xsZXIpO1xyXG5cclxuXHRmdW5jdGlvbiBTaWRlYmFyQ29udHJvbGxlcigpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdFx0dm0uY29sbGFwc2VkID0gdHJ1ZTtcclxuXHJcblx0XHR2bS50b2dnbGVTaWRlYmFyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZtLmNvbGxhcHNlZCA9ICF2bS5jb2xsYXBzZWQ7XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFNpZGViYXInLCBzaWRlYmFyRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gc2lkZWJhckRpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvbGF5b3V0L3NpZGViYXIvc2lkZWJhci5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1NpZGViYXJDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0XHRcdHNjb3BlLiR3YXRjaChhdHRycy5zaWRlYmFyRGlyZWN0aXZlLCB0b2dnbGVTaWRlYmFyKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHRvZ2dsZVNpZGViYXIoY29sbGFwc2VkKSB7XHJcblx0XHRcdFx0aWYgKGNvbGxhcHNlZCkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignSGVhZGVyQ29udHJvbGxlcicsIEhlYWRlckNvbnRyb2xsZXIpO1xyXG5cclxuXHRIZWFkZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICdoZWFkZXJTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gSGVhZGVyQ29udHJvbGxlcigkc2NvcGUsIGhlYWRlclNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5uYW1lID0gJyc7XHJcblx0XHR2bS51cmwgPSAnJztcclxuXHJcblx0XHRoZWFkZXJTZXJ2aWNlLmdldFVzZXIoKVxyXG5cdFx0XHQudGhlbihnZXRVc2VyQ29tcGxldGUpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXJDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHQkc2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2bS5uYW1lID0gKHJlc3BvbnNlLm5hbWUgPT09IGZhbHNlKSA/ICdMb2dpbicgOiByZXNwb25zZS5uYW1lO1xyXG5cdFx0XHRcdHZtLnVybCA9IHJlc3BvbnNlLnVybDtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwSGVhZGVyJywgaGVhZGVyRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gaGVhZGVyRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bGluazogbGluayxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvaGVhZGVyL2hlYWRlci5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2hlYWRlclNlcnZpY2UnLCBoZWFkZXJTZXJ2aWNlKTtcclxuXHJcblx0aGVhZGVyU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gaGVhZGVyU2VydmljZSgkaHR0cCwgJGxvZywgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFVzZXI6IGdldFVzZXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlcigpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignbmFtZScpXHJcblx0XHRcdFx0LnRoZW4oZ2V0TmFtZUNvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldE5hbWVDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cclxuXHRcdFx0XHRpZiAocmVzLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4ge25hbWU6IGZhbHNlLCB1cmw6ICcjL2xvZ2luJ307XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB7bmFtZTogcmVzLmRhdGEsIHVybDogJyMvZGFzaGJvYXJkJ307XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
