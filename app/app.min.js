!function(){"use strict";function e(e,n,t){e.$on("$locationChangeStart",t.checkAuthentication)}angular.module("app",["ngRoute"]).controller("AppController",e),e.$inject=["$rootScope","$location","appService"]}(),function(){"use strict";function e(e){e.when("/login",{templateUrl:"modules/login/login.html",controller:"LoginController",controllerAs:"vm",adminOnly:!1}).when("/logout",{templateUrl:"modules/logout/logout.html",controller:"LogoutController",controllerAs:"vm",adminOnly:!1}).when("/register",{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm",adminOnly:!1}).when("/dashboard",{templateUrl:"pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",adminOnly:!1}).otherwise({redirectTo:"/dashboard"})}angular.module("app").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";function e(e,n){function t(){function t(n){"false"===n.data&&e.url("/login")}n.getVar("name").then(t)}return{checkAuthentication:t}}angular.module("app").factory("appService",e),e.$inject=["$location","sessionService"]}(),function(){"use strict";function e(e,n){function t(e){this.base="api/"+e+"/"+e+"Manager.php"}function r(n){return e.get(this.base+"?id="+n).then(l)["catch"](c)}function o(n){return e.post(this.base,n).then(l)["catch"](c)}function a(n,t){return e.put(this.base+"?id="+n,t).then(l)["catch"](c)}function i(n){return e["delete"](this.base+"?id="+n).then(l)["catch"](c)}function l(e){return e.data}function c(e){return n.error(e),!1}var u=t;return u.prototype={get:r,create:o,update:a,remove:i},u}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,n){function t(n){return e.get(i.base+n).then(o)["catch"](a)}function r(n,t){return e.post(i.base+n,t).then(o)["catch"](a)}function o(e){return e}function a(e){return n.error(e),!1}var i=this;return i.base="api/session/sessionVarManager.php?var=",{getVar:t,setVar:r}}angular.module("app").factory("sessionService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(){function e(e,n,t,r){function o(){l()}function a(n){return n===e.otherModel.$viewValue}function i(e,n){r.$validate()}var l=e.$watch("otherModel",i);r.$validators.spCompareTo=a,n.on("$destroy",o)}var n={require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e};return n}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){function n(){function n(e){t.loading=!1,t.error=e}t.loading=!0,e.login(t.user).then(n)}var t=this;t.loading=!1,t.error="",t.login=n}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,n,t){function r(r){function o(e){return"false"===e.data?"Username or password was incorrect.":void n.url("/dashboard")}function a(e){return t.error(e),"Something went wrong. Please try again."}return e.post("api/managers/loginManager.php",r).then(o)["catch"](a)}return{login:r}}angular.module("app").factory("loginService",e),e.$inject=["$http","$location","$log"]}(),function(){"use strict";function e(e){}angular.module("app").controller("TasksController",e),e.$inject=["tasksService"]}(),function(){"use strict";function e(){function e(e,n,t){}return{link:e,templateUrl:"modules/tasks/tasks.html",controller:"TasksController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spTasks",e)}(),function(){"use strict";function e(e,n){return{}}angular.module("app").factory("tasksService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(){}angular.module("app").controller("DashboardController",e)}(),function(){"use strict";function e(e){function n(){function n(e){t.loading=!1,t.error=e}t.loading=!0,e.register(t.user).then(n)}var t=this;t.loading=!1,t.error="",t.register=n}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,n){function t(n){function t(n){return"false"===n?"Username taken.":void e.url("/login")}return r.crud.create(n).then(t)}var r=this;return r.crud=new n("user"),{register:t}}angular.module("app").factory("registerService",e),e.$inject=["$location","crudService"]}(),function(){"use strict";function e(e,n,t){function r(n){e.$evalAsync(function(){a.name=n.name===!1?"Login":n.name,a.url=n.url})}function o(e){n.error(e)}var a=this;a.name="",a.url="",t.getUser().then(r)["catch"](o)}angular.module("app").controller("HeaderController",e),e.$inject=["$scope","$log","headerService"]}(),function(){"use strict";function e(){function e(e,n,t){}return{link:e,templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spHeader",e)}(),function(){"use strict";function e(e,n,t){function r(){function e(e){return"false"===e.data?{name:!1,url:"#/login"}:{name:e.data,url:"#/dashboard"}}function r(e){return n.error(e),"Something went wrong. Please try again."}return t.getVar("name").then(e)["catch"](r)}return{getUser:r}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log","sessionService"]}(),function(){"use strict";function e(){var e=this;e.collapsed=!0,e.toggleSidebar=function(){e.collapsed=!e.collapsed}}angular.module("app").controller("SidebarController",e)}(),function(){"use strict";function e(){function e(e,n,t){function r(e){e?n.removeClass("collapsed"):n.addClass("collapsed")}e.$watch(t.sidebarDirective,r)}return{link:e,templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spSidebar",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCIkbG9jYXRpb24iLCJhcHBTZXJ2aWNlIiwiJG9uIiwiY2hlY2tBdXRoZW50aWNhdGlvbiIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJGluamVjdCIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlckFzIiwiYWRtaW5Pbmx5Iiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsInNlc3Npb25TZXJ2aWNlIiwiaXNBdXRoZW50aWNhdGVkQ29tcGxldGUiLCJyZXNwb25zZSIsImRhdGEiLCJ1cmwiLCJnZXRWYXIiLCJ0aGVuIiwiZmFjdG9yeSIsImNydWRTZXJ2aWNlIiwiJGh0dHAiLCIkbG9nIiwiaW5pdCIsInR5cGUiLCJ0aGlzIiwiYmFzZSIsImdldCIsImlkIiwicHJvbWlzZUNvbXBsZXRlIiwicHJvbWlzZUZhaWxlZCIsImNyZWF0ZSIsInBvc3QiLCJ1cGRhdGUiLCJwdXQiLCJyZW1vdmUiLCJlcnJvciIsImNydWQiLCJwcm90b3R5cGUiLCIkbmFtZSIsInZtIiwic2V0VmFyIiwiJHZhbHVlIiwiY29tcGFyZVRvIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwibmdNb2RlbCIsImNsZWFuVXAiLCJ1bmJpbmRXYXRjaCIsImNvbXBhcmVWYWx1ZXMiLCJ2aWV3VmFsdWUiLCJvdGhlck1vZGVsIiwiJHZpZXdWYWx1ZSIsInZhbGlkYXRlT25DaGFuZ2UiLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwiJHZhbGlkYXRlIiwiJHdhdGNoIiwiJHZhbGlkYXRvcnMiLCJzcENvbXBhcmVUbyIsIm9uIiwiZGlyZWN0aXZlIiwicmVxdWlyZSIsIkxvZ2luQ29udHJvbGxlciIsImxvZ2luU2VydmljZSIsImxvZ2luIiwibG9naW5Db21wbGV0ZSIsImxvYWRpbmciLCJ1c2VyIiwibG9naW5GYWlsZWQiLCJUYXNrc0NvbnRyb2xsZXIiLCJ0YXNrc1NlcnZpY2UiLCJ0YXNrc0RpcmVjdGl2ZSIsImJpbmRUb0NvbnRyb2xsZXIiLCJEYXNoYm9hcmRDb250cm9sbGVyIiwiUmVnaXN0ZXJDb250cm9sbGVyIiwicmVnaXN0ZXJTZXJ2aWNlIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb25Db21wbGV0ZSIsIkhlYWRlckNvbnRyb2xsZXIiLCIkc2NvcGUiLCJoZWFkZXJTZXJ2aWNlIiwiZ2V0VXNlckNvbXBsZXRlIiwiJGV2YWxBc3luYyIsIm5hbWUiLCJnZXRVc2VyRmFpbGVkIiwiZ2V0VXNlciIsImhlYWRlckRpcmVjdGl2ZSIsImdldE5hbWVDb21wbGV0ZSIsImdldE5hbWVGYWlsZWQiLCJTaWRlYmFyQ29udHJvbGxlciIsImNvbGxhcHNlZCIsInRvZ2dsZVNpZGViYXIiLCJzaWRlYmFyRGlyZWN0aXZlIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQyxZQU9BLFNBQVNBLEdBQWNDLEVBQVlDLEVBQVdDLEdBQzdDRixFQUFXRyxJQUFJLHVCQUF3QkQsRUFBV0UscUJBTm5EQyxRQUNFQyxPQUFPLE9BQVEsWUFDZkMsV0FBVyxnQkFBaUJSLEdBRTlCQSxFQUFjUyxTQUFXLGFBQWMsWUFBYSxpQkFLckQsV0FDQyxZQU9BLFNBQVNDLEdBQU9DLEdBQ2ZBLEVBQ0VDLEtBQUssVUFDTEMsWUFBYSwyQkFDYkwsV0FBWSxrQkFDWk0sYUFBYyxLQUNkQyxXQUFXLElBRVhILEtBQUssV0FDTEMsWUFBYSw2QkFDYkwsV0FBWSxtQkFDWk0sYUFBYyxLQUNkQyxXQUFXLElBRVhILEtBQUssYUFDTEMsWUFBYSwrQkFDYkwsV0FBWSxxQkFDWk0sYUFBYyxLQUNkQyxXQUFXLElBRVhILEtBQUssY0FDTEMsWUFBYSxpQ0FDYkwsV0FBWSxzQkFDWk0sYUFBYyxLQUNkQyxXQUFXLElBRVhDLFdBQ0FDLFdBQVksZUFoQ2ZYLFFBQ0VDLE9BQU8sT0FDUEcsT0FBT0EsR0FFVEEsRUFBT0QsU0FBVyxx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QjNFLFFBQ0VDLE9BQU8sT0FDUDhELFVBQVUsWUFBYWdDIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnLCBbJ25nUm91dGUnXSlcclxuXHRcdC5jb250cm9sbGVyKCdBcHBDb250cm9sbGVyJywgQXBwQ29udHJvbGxlcik7XHJcblxyXG5cdEFwcENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckbG9jYXRpb24nLCAnYXBwU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoJHJvb3RTY29wZSwgJGxvY2F0aW9uLCBhcHBTZXJ2aWNlKSB7XHJcblx0XHQkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBhcHBTZXJ2aWNlLmNoZWNrQXV0aGVudGljYXRpb24pO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29uZmlnKGNvbmZpZyk7XHJcblxyXG5cdGNvbmZpZy4kaW5qZWN0ID0gWyckcm91dGVQcm92aWRlciddO1xyXG5cdGZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikge1xyXG5cdFx0JHJvdXRlUHJvdmlkZXJcclxuXHRcdFx0LndoZW4oJy9sb2dpbicsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvbG9naW4vbG9naW4uaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdGFkbWluT25seTogZmFsc2VcclxuXHRcdFx0fSlcclxuXHRcdFx0LndoZW4oJy9sb2dvdXQnLCB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL2xvZ291dC9sb2dvdXQuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0xvZ291dENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRhZG1pbk9ubHk6IGZhbHNlXHJcblx0XHRcdH0pXHJcblx0XHRcdC53aGVuKCcvcmVnaXN0ZXInLCB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9yZWdpc3Rlci9yZWdpc3Rlci5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnUmVnaXN0ZXJDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0YWRtaW5Pbmx5OiBmYWxzZVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQud2hlbignL2Rhc2hib2FyZCcsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2Rhc2hib2FyZC9kYXNoYm9hcmQuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRhZG1pbk9ubHk6IGZhbHNlXHJcblx0XHRcdH0pXHJcblx0XHRcdC5vdGhlcndpc2Uoe1xyXG5cdFx0XHRcdHJlZGlyZWN0VG86ICcvZGFzaGJvYXJkJ1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2FwcFNlcnZpY2UnLCBhcHBTZXJ2aWNlKTtcclxuXHJcblx0YXBwU2VydmljZS4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnc2Vzc2lvblNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBhcHBTZXJ2aWNlKCRsb2NhdGlvbiwgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNoZWNrQXV0aGVudGljYXRpb246IGNoZWNrQXV0aGVudGljYXRpb25cclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2hlY2tBdXRoZW50aWNhdGlvbigpIHtcclxuXHRcdFx0c2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCduYW1lJylcclxuXHRcdFx0XHQudGhlbihpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhID09PSAnZmFsc2UnKSB7XHJcblx0XHRcdFx0XHQkbG9jYXRpb24udXJsKCcvbG9naW4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyB0aGUgYXBpIG9mIHRoZSB2YXJpb3VzIGl0ZW0gdHlwZXMuXHJcblx0KiBBbiBpbnN0YW5jZSBvZiBjcnVkIG11c3QgYmUgY3JlYXRlZCBpbiBvcmRlciB0byB1c2UgdGhlIHNlcnZpY2UuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjcnVkU2VydmljZScsIGNydWRTZXJ2aWNlKTtcclxuXHJcblx0Y3J1ZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIGNydWRTZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgY3J1ZCA9IGluaXQ7XHJcblx0XHRjcnVkLnByb3RvdHlwZSA9IHtcclxuXHRcdFx0Z2V0OiBnZXQsXHJcblx0XHRcdGNyZWF0ZTogY3JlYXRlLFxyXG5cdFx0XHR1cGRhdGU6IHVwZGF0ZSxcclxuXHRcdFx0cmVtb3ZlOiByZW1vdmVcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGNydWQ7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gaW5pdCh0eXBlKSB7XHJcblx0XHRcdHRoaXMuYmFzZSA9ICdhcGkvJyArIHR5cGUgKyAnLycgKyB0eXBlICsgJ01hbmFnZXIucGhwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byBnZXQuXHJcblx0XHQqIEByZXR1cm5cdHttaXhlZFtdfHN0cmluZ31cdFF1ZXJ5IHJlc3VsdHMgb3IgXCJmYWxzZVwiIG9uIGZhaWx1cmUuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0KGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQodGhpcy5iYXNlICsgJz9pZD0nICsgaWQpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e21peGVkW119XHRkYXRhXHREYXRhIG9mIGl0ZW0gdG8gY3JlYXRlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfVx0XHRcdFwiMVwiIG9uIHN1Y2Nlc3Mgb3IgXCJmYWxzZVwiIG9uIGZhaWx1cmUuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlKGRhdGEpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QodGhpcy5iYXNlLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gdXBkYXRlLlxyXG5cdFx0KiBAcGFyYW1cdHttaXhlZFtdfVx0ZGF0YVx0RGF0YSBvZiBpdGVtIHRvIHVwZGF0ZS5cclxuXHRcdCpcclxuXHRcdCogQHJldHVyblx0e3N0cmluZ31cdFx0XHRcIjFcIiBvbiBzdWNjZXNzIG9yIFwiZmFsc2VcIiBvbiBmYWlsdXJlLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZShpZCwgZGF0YSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KHRoaXMuYmFzZSArICc/aWQ9JyArIGlkLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gZGVsZXRlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfVx0XHRcdFwiMVwiIG9uIHN1Y2Nlc3Mgb3IgXCJmYWxzZVwiIG9uIGZhaWx1cmUuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUodGhpcy5iYXNlICsgJz9pZD0nICsgaWQpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHJldHVybiByZXNwb25zZS5kYXRhO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VGYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyBzZXNzaW9uIHZhcmlhYmxlcy5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3Nlc3Npb25TZXJ2aWNlJywgc2Vzc2lvblNlcnZpY2UpO1xyXG5cclxuXHRzZXNzaW9uU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gc2Vzc2lvblNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmJhc2UgPSAnYXBpL3Nlc3Npb24vc2Vzc2lvblZhck1hbmFnZXIucGhwP3Zhcj0nO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFZhcjogZ2V0VmFyLFxyXG5cdFx0XHRzZXRWYXI6IHNldFZhclxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtICB7c3RyaW5nfSAkbmFtZSBWYXJpYWJsZSBuYW1lIHRvIGdldCBmcm9tIHNlc3Npb24uXHJcblx0XHQqIEByZXR1cm4ge3N0cmluZ30gXHRcdCBWYXJpYWJsZSB2YWx1ZSBvciBmYWxzZSBvbiBmYWlsdXJlLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFZhcigkbmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KHZtLmJhc2UgKyAkbmFtZSlcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0ge3N0cmluZ30gJG5hbWUgVmFyaWFibGUgbmFtZSB0byBnZXQgZnJvbSBzZXNzaW9uLlxyXG5cdFx0KiBAcmV0dXJuIHtib29sfSBcdFx0VHJ1ZSBvbiBzdWNjZXNzIG9yIGZhbHNlIG9uIGZhaWx1cmUuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gc2V0VmFyKCRuYW1lLCAkdmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3Qodm0uYmFzZSArICRuYW1lLCAkdmFsdWUpXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VGYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBDb21wYXJlIGFuIGlucHV0IGZpZWxkIHRvIGFub3RoZXIgZmllbGQsIGRldGVybWluZWQgYnkgdGhlIGRldi5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BDb21wYXJlVG8nLCBjb21wYXJlVG8pO1xyXG5cclxuXHRmdW5jdGlvbiBjb21wYXJlVG8oKSB7XHJcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xyXG5cdFx0XHRyZXF1aXJlOiAnbmdNb2RlbCcsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0b3RoZXJNb2RlbDogJz1zcENvbXBhcmVUbydcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogbGlua1xyXG5cdFx0fTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcclxuXHRcdFx0dmFyIHVuYmluZFdhdGNoID0gc2NvcGUuJHdhdGNoKCdvdGhlck1vZGVsJywgdmFsaWRhdGVPbkNoYW5nZSk7XHJcblx0XHRcdG5nTW9kZWwuJHZhbGlkYXRvcnMuc3BDb21wYXJlVG8gPSBjb21wYXJlVmFsdWVzO1xyXG5cdFx0XHRlbGVtZW50Lm9uKCckZGVzdHJveScsIGNsZWFuVXApO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY2xlYW5VcCgpIHtcclxuXHRcdFx0XHR1bmJpbmRXYXRjaCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjb21wYXJlVmFsdWVzKHZpZXdWYWx1ZSkge1xyXG5cdFx0XHRcdHJldHVybiAodmlld1ZhbHVlID09PSBzY29wZS5vdGhlck1vZGVsLiR2aWV3VmFsdWUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiB2YWxpZGF0ZU9uQ2hhbmdlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG5cdFx0XHRcdG5nTW9kZWwuJHZhbGlkYXRlKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XHJcblxyXG5cdExvZ2luQ29udHJvbGxlci4kaW5qZWN0ID0gWydsb2dpblNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBMb2dpbkNvbnRyb2xsZXIobG9naW5TZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0dm0uZXJyb3IgPSAnJztcclxuXHJcblx0XHR2bS5sb2dpbiA9IGxvZ2luO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxvZ2luKCkge1xyXG5cdFx0XHR2bS5sb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0bG9naW5TZXJ2aWNlLmxvZ2luKHZtLnVzZXIpXHJcblx0XHRcdFx0LnRoZW4obG9naW5Db21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dpbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdHZtLmVycm9yID0gcmVzcG9uc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2xvZ2luU2VydmljZScsIGxvZ2luU2VydmljZSk7XHJcblxyXG5cdGxvZ2luU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9jYXRpb24nLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIGxvZ2luU2VydmljZSgkaHR0cCwgJGxvY2F0aW9uLCAkbG9nKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bG9naW46IGxvZ2luXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxvZ2luKHVzZXIpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJ2FwaS9tYW5hZ2Vycy9sb2dpbk1hbmFnZXIucGhwJywgdXNlcilcclxuXHRcdFx0XHQudGhlbihsb2dpbkNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChsb2dpbkZhaWxlZCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dpbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEgPT09IFwiZmFsc2VcIikge1xyXG5cdFx0XHRcdFx0cmV0dXJuICdVc2VybmFtZSBvciBwYXNzd29yZCB3YXMgaW5jb3JyZWN0Lic7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRsb2NhdGlvbi51cmwoJy9kYXNoYm9hcmQnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5GYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0XHRyZXR1cm4gJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLic7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdUYXNrc0NvbnRyb2xsZXInLCBUYXNrc0NvbnRyb2xsZXIpO1xyXG5cclxuXHRUYXNrc0NvbnRyb2xsZXIuJGluamVjdCA9IFsndGFza3NTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gVGFza3NDb250cm9sbGVyKHRhc2tzU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BUYXNrcycsIHRhc2tzRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gdGFza3NEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRsaW5rOiBsaW5rLFxyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdGFza3MvdGFza3MuaHRtbCcsXHJcblx0XHRcdGNvbnRyb2xsZXI6ICdUYXNrc0NvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3Rhc2tzU2VydmljZScsIHRhc2tzU2VydmljZSk7XHJcblxyXG5cdHRhc2tzU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gdGFza3NTZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdH07XHJcblxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0Rhc2hib2FyZENvbnRyb2xsZXInLCBEYXNoYm9hcmRDb250cm9sbGVyKTtcclxuXHJcblx0ZnVuY3Rpb24gRGFzaGJvYXJkQ29udHJvbGxlcigpIHtcclxuXHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdSZWdpc3RlckNvbnRyb2xsZXInLCBSZWdpc3RlckNvbnRyb2xsZXIpO1xyXG5cclxuXHRSZWdpc3RlckNvbnRyb2xsZXIuJGluamVjdCA9IFsncmVnaXN0ZXJTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gUmVnaXN0ZXJDb250cm9sbGVyKHJlZ2lzdGVyU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdHZtLmVycm9yID0gJyc7XHJcblxyXG5cdFx0dm0ucmVnaXN0ZXIgPSByZWdpc3RlcjtcclxuXHJcblx0XHRmdW5jdGlvbiByZWdpc3RlcigpIHtcclxuXHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdHJlZ2lzdGVyU2VydmljZS5yZWdpc3Rlcih2bS51c2VyKVxyXG5cdFx0XHRcdC50aGVuKHJlZ2lzdHJhdGlvbkNvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHJlZ2lzdHJhdGlvbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdHZtLmVycm9yID0gcmVzcG9uc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3JlZ2lzdGVyU2VydmljZScsIHJlZ2lzdGVyU2VydmljZSk7XHJcblxyXG5cdHJlZ2lzdGVyU2VydmljZS4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnY3J1ZFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiByZWdpc3RlclNlcnZpY2UoJGxvY2F0aW9uLCBjcnVkU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0dm0uY3J1ZCA9IG5ldyBjcnVkU2VydmljZSgndXNlcicpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlZ2lzdGVyOiByZWdpc3RlclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiByZWdpc3Rlcih1c2VyKSB7XHJcblx0XHRcdHJldHVybiB2bS5jcnVkLmNyZWF0ZSh1c2VyKVxyXG5cdFx0XHRcdC50aGVuKHJlZ2lzdHJhdGlvbkNvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHJlZ2lzdHJhdGlvbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlID09PSBcImZhbHNlXCIpIHtcclxuXHRcdFx0XHRcdHJldHVybiAnVXNlcm5hbWUgdGFrZW4uJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGxvY2F0aW9uLnVybCgnL2xvZ2luJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0hlYWRlckNvbnRyb2xsZXInLCBIZWFkZXJDb250cm9sbGVyKTtcclxuXHJcblx0SGVhZGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICdoZWFkZXJTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gSGVhZGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2csIGhlYWRlclNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5uYW1lID0gJyc7XHJcblx0XHR2bS51cmwgPSAnJztcclxuXHJcblx0XHRoZWFkZXJTZXJ2aWNlLmdldFVzZXIoKVxyXG5cdFx0XHQudGhlbihnZXRVc2VyQ29tcGxldGUpXHJcblx0XHRcdC5jYXRjaChnZXRVc2VyRmFpbGVkKTtcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0JHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dm0ubmFtZSA9IChyZXNwb25zZS5uYW1lID09PSBmYWxzZSkgPyAnTG9naW4nIDogcmVzcG9uc2UubmFtZTtcclxuXHRcdFx0XHR2bS51cmwgPSByZXNwb25zZS51cmw7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXJGYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwSGVhZGVyJywgaGVhZGVyRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gaGVhZGVyRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bGluazogbGluayxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvaGVhZGVyL2hlYWRlci5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2hlYWRlclNlcnZpY2UnLCBoZWFkZXJTZXJ2aWNlKTtcclxuXHJcblx0aGVhZGVyU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gaGVhZGVyU2VydmljZSgkaHR0cCwgJGxvZywgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFVzZXI6IGdldFVzZXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlcigpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignbmFtZScpXHJcblx0XHRcdFx0LnRoZW4oZ2V0TmFtZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChnZXROYW1lRmFpbGVkKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldE5hbWVDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhID09PSAnZmFsc2UnKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4ge25hbWU6IGZhbHNlLCB1cmw6ICcjL2xvZ2luJ307XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB7bmFtZTogcmVzcG9uc2UuZGF0YSwgdXJsOiAnIy9kYXNoYm9hcmQnfTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0TmFtZUZhaWxlZChlcnJvcikge1xyXG5cdFx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRcdHJldHVybiAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1NpZGViYXJDb250cm9sbGVyJywgU2lkZWJhckNvbnRyb2xsZXIpO1xyXG5cclxuXHRmdW5jdGlvbiBTaWRlYmFyQ29udHJvbGxlcigpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdFx0dm0uY29sbGFwc2VkID0gdHJ1ZTtcclxuXHJcblx0XHR2bS50b2dnbGVTaWRlYmFyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZtLmNvbGxhcHNlZCA9ICF2bS5jb2xsYXBzZWQ7XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFNpZGViYXInLCBzaWRlYmFyRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gc2lkZWJhckRpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvbGF5b3V0L3NpZGViYXIvc2lkZWJhci5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1NpZGViYXJDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0XHRcdHNjb3BlLiR3YXRjaChhdHRycy5zaWRlYmFyRGlyZWN0aXZlLCB0b2dnbGVTaWRlYmFyKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHRvZ2dsZVNpZGViYXIoY29sbGFwc2VkKSB7XHJcblx0XHRcdFx0aWYgKGNvbGxhcHNlZCkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
