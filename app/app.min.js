!function(){"use strict";function e(){}angular.module("app",["ngRoute"]).controller("AppController",e)}(),function(){"use strict";function e(e){e.when("/login",{templateUrl:"modules/login/login.html",controller:"LoginController",controllerAs:"vm"}).when("/logout",{templateUrl:"modules/logout/logout.html",controller:"LogoutController",controllerAs:"vm"}).when("/register",{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm"}).when("/dashboard",{templateUrl:"pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"}).otherwise({redirectTo:"/dashboard"})}angular.module("app").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";function e(e,r){function t(e){this.base="api/"+e+"/"+e+"Manager.php"}function n(r){return e.get(this.base+"?id="+r).then(i)["catch"](u)}function o(r){return e.post(this.base,r).then(i)["catch"](u)}function a(r,t){return e.put(this.base+"?id="+r,t).then(i)["catch"](u)}function l(r){return e["delete"](this.base+"?id="+r).then(i)["catch"](u)}function i(e){return e.data}function u(e){return r.error(e),!1}var c=t;return c.prototype={get:n,create:o,update:a,remove:l},c}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(){function e(e,r,t,n){function o(){i()}function a(r){return r===e.otherModel.$viewValue}function l(e,r){n.$validate()}var i=e.$watch("otherModel",l);n.$validators.spCompareTo=a,r.on("$destroy",o)}var r={require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e};return r}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){function r(){function r(e){t.loading=!1,t.error=e}t.loading=!0,e.login(t.user).then(r)}var t=this;t.loading=!1,t.error="",t.login=r}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,r,t){function n(n){function o(e){return"true"===e.data&&r.url("/dashboard"),"Username or password was incorrect."}function a(e){return t.error(e),"Something went wrong. Please try again."}return e.post("api/managers/loginManager.php",n).then(o)["catch"](a)}return{login:n}}angular.module("app").factory("loginService",e),e.$inject=["$http","$location","$log"]}(),function(){"use strict";function e(){}angular.module("app").controller("DashboardController",e)}(),function(){"use strict";function e(e){function r(){function r(e){t.loading=!1,t.error=e}t.loading=!0,e.register(t.user).then(r)}var t=this;t.loading=!1,t.error="",t.register=r}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,r){function t(r){function t(r){return"1"===r&&e.url("/login"),"Username taken."}return n.crud.create(r).then(t)}var n=this;return n.crud=new r("user"),{register:t}}angular.module("app").factory("registerService",e),e.$inject=["$location","crudService"]}(),function(){"use strict";function e(e){function r(e){t.name=e.name,t.url=e.url}var t=this;t.name="",t.url="",e.getUser().then(r)}angular.module("app").controller("HeaderController",e),e.$inject=["headerService"]}(),function(){"use strict";function e(){function e(e,r,t){}return{link:e,templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spHeader",e)}(),function(){"use strict";function e(e,r){function t(){function t(e){return console.log(e),"false"===e.data?{name:"Login",url:"#/login"}:{name:e.data,url:"#/dashboard"}}function n(e){return r.error(e),"Something went wrong. Please try again."}return e.get("api/session/sessionVarManager.php?var=name").then(t)["catch"](n)}return{getUser:t}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(){var e=this;e.collapsed=!0,e.toggleSidebar=function(){e.collapsed=!e.collapsed}}angular.module("app").controller("SidebarController",e)}(),function(){"use strict";function e(){function e(e,r,t){function n(e){e?r.removeClass("collapsed"):r.addClass("collapsed")}e.$watch(t.sidebarDirective,n)}return{link:e,templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spSidebar",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyQXMiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiJGluamVjdCIsImNydWRTZXJ2aWNlIiwiJGh0dHAiLCIkbG9nIiwiaW5pdCIsInR5cGUiLCJ0aGlzIiwiYmFzZSIsImdldCIsImlkIiwidGhlbiIsInByb21pc2VDb21wbGV0ZSIsInByb21pc2VGYWlsZWQiLCJjcmVhdGUiLCJkYXRhIiwicG9zdCIsInVwZGF0ZSIsInB1dCIsInJlbW92ZSIsInJlc3BvbnNlIiwiZXJyb3IiLCJjcnVkIiwicHJvdG90eXBlIiwiZmFjdG9yeSIsImNvbXBhcmVUbyIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsIm5nTW9kZWwiLCJjbGVhblVwIiwidW5iaW5kV2F0Y2giLCJjb21wYXJlVmFsdWVzIiwidmlld1ZhbHVlIiwib3RoZXJNb2RlbCIsIiR2aWV3VmFsdWUiLCJ2YWxpZGF0ZU9uQ2hhbmdlIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsIiR2YWxpZGF0ZSIsIiR3YXRjaCIsIiR2YWxpZGF0b3JzIiwic3BDb21wYXJlVG8iLCJvbiIsImRpcmVjdGl2ZSIsInJlcXVpcmUiLCJMb2dpbkNvbnRyb2xsZXIiLCJsb2dpblNlcnZpY2UiLCJsb2dpbiIsImxvZ2luQ29tcGxldGUiLCJ2bSIsImxvYWRpbmciLCJ1c2VyIiwiJGxvY2F0aW9uIiwidXJsIiwibG9naW5GYWlsZWQiLCJEYXNoYm9hcmRDb250cm9sbGVyIiwiUmVnaXN0ZXJDb250cm9sbGVyIiwicmVnaXN0ZXJTZXJ2aWNlIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb25Db21wbGV0ZSIsIkhlYWRlckNvbnRyb2xsZXIiLCJoZWFkZXJTZXJ2aWNlIiwiZ2V0VXNlckNvbXBsZXRlIiwibmFtZSIsImdldFVzZXIiLCJoZWFkZXJEaXJlY3RpdmUiLCJiaW5kVG9Db250cm9sbGVyIiwiZ2V0TmFtZUNvbXBsZXRlIiwiY29uc29sZSIsImxvZyIsImdldE5hbWVGYWlsZWQiLCJTaWRlYmFyQ29udHJvbGxlciIsImNvbGxhcHNlZCIsInRvZ2dsZVNpZGViYXIiLCJzaWRlYmFyRGlyZWN0aXZlIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQyxZQU1BLFNBQVNBLE1BSlRDLFFBQ0VDLE9BQU8sT0FBUSxZQUNmQyxXQUFXLGdCQUFpQkgsTUFLL0IsV0FDQyxZQU9BLFNBQVNJLEdBQU9DLEdBQ2ZBLEVBQ0VDLEtBQUssVUFDTEMsWUFBYSwyQkFDYkosV0FBWSxrQkFDWkssYUFBYyxPQUVkRixLQUFLLFdBQ0xDLFlBQWEsNkJBQ2JKLFdBQVksbUJBQ1pLLGFBQWMsT0FFZEYsS0FBSyxhQUNMQyxZQUFhLCtCQUNiSixXQUFZLHFCQUNaSyxhQUFjLE9BRWRGLEtBQUssY0FDTEMsWUFBYSxpQ0FDYkosV0FBWSxzQkFDWkssYUFBYyxPQUVkQyxXQUNBQyxXQUFZLGVBNUJmVCxRQUNFQyxPQUFPLE9BQ1BFLE9BQU9BLEdBRVRBLEVBQU9PLFNBQVcscUJBNEJuQixXQUNDLFlBWUEsU0FBU0MsR0FBWUMsRUFBT0MsR0FjM0IsUUFBU0MsR0FBS0MsR0FDYkMsS0FBS0MsS0FBTyxPQUFTRixFQUFPLElBQU1BLEVBQU8sY0FPMUMsUUFBU0csR0FBSUMsR0FDWixNQUFPUCxHQUFNTSxJQUFJRixLQUFLQyxLQUFPLE9BQVNFLEdBQ3BDQyxLQUFLQyxHQURBVCxTQUVDVSxHQU9ULFFBQVNDLEdBQU9DLEdBQ2YsTUFBT1osR0FBTWEsS0FBS1QsS0FBS0MsS0FBTU8sR0FDM0JKLEtBQUtDLEdBREFULFNBRUNVLEdBU1QsUUFBU0ksR0FBT1AsRUFBSUssR0FDbkIsTUFBT1osR0FBTWUsSUFBSVgsS0FBS0MsS0FBTyxPQUFTRSxFQUFJSyxHQUN4Q0osS0FBS0MsR0FEQVQs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WUFNQSxTQUFTd0UsS0FDUixHQUFJdEIsR0FBSzVDLElBRVQ0QyxHQUFHdUIsV0FBWSxFQUVmdkIsRUFBR3dCLGNBQWdCLFdBQ2xCeEIsRUFBR3VCLFdBQWF2QixFQUFHdUIsV0FWckJuRixRQUNFQyxPQUFPLE9BQ1BDLFdBQVcsb0JBQXFCZ0YsTUFZbkMsV0FDQyxZQU1BLFNBQVNHLEtBU1IsUUFBU2xELEdBQUtDLEVBQU9DLEVBQVNDLEdBRzdCLFFBQVM4QyxHQUFjRCxHQUNsQkEsRUFDSDlDLEVBQVFpRCxZQUFZLGFBRXBCakQsRUFBUWtELFNBQVMsYUFObkJuRCxFQUFNYyxPQUFPWixFQUFNK0MsaUJBQWtCRCxHQVR0QyxPQUNDakQsS0FBTUEsRUFDTjdCLFlBQWEsb0NBQ2JKLFdBQVksb0JBQ1pLLGFBQWMsS0FDZHNFLGtCQUFrQixHQVZwQjdFLFFBQ0VDLE9BQU8sT0FDUHFELFVBQVUsWUFBYStCIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnLCBbJ25nUm91dGUnXSlcclxuXHRcdC5jb250cm9sbGVyKCdBcHBDb250cm9sbGVyJywgQXBwQ29udHJvbGxlcik7XHJcblxyXG5cdGZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoKSB7XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb25maWcoY29uZmlnKTtcclxuXHJcblx0Y29uZmlnLiRpbmplY3QgPSBbJyRyb3V0ZVByb3ZpZGVyJ107XHJcblx0ZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7XHJcblx0XHQkcm91dGVQcm92aWRlclxyXG5cdFx0XHQud2hlbignL2xvZ2luJywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2dpbi9sb2dpbi5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bSdcclxuXHRcdFx0fSlcclxuXHRcdFx0LndoZW4oJy9sb2dvdXQnLCB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL2xvZ291dC9sb2dvdXQuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0xvZ291dENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQud2hlbignL3JlZ2lzdGVyJywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ1JlZ2lzdGVyQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nXHJcblx0XHRcdH0pXHJcblx0XHRcdC53aGVuKCcvZGFzaGJvYXJkJywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnRGFzaGJvYXJkQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nXHJcblx0XHRcdH0pXHJcblx0XHRcdC5vdGhlcndpc2Uoe1xyXG5cdFx0XHRcdHJlZGlyZWN0VG86ICcvZGFzaGJvYXJkJ1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFVzZWQgdG8gYWNjZXNzIHRoZSBhcGkgb2YgdGhlIHZhcmlvdXMgaXRlbSB0eXBlcy5cclxuXHQqIEFuIGluc3RhbmNlIG9mIGNydWQgbXVzdCBiZSBjcmVhdGVkIGluIG9yZGVyIHRvIHVzZSB0aGUgc2VydmljZS5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2NydWRTZXJ2aWNlJywgY3J1ZFNlcnZpY2UpO1xyXG5cclxuXHRjcnVkU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gY3J1ZFNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciBjcnVkID0gaW5pdDtcclxuXHRcdGNydWQucHJvdG90eXBlID0ge1xyXG5cdFx0XHRnZXQ6IGdldCxcclxuXHRcdFx0Y3JlYXRlOiBjcmVhdGUsXHJcblx0XHRcdHVwZGF0ZTogdXBkYXRlLFxyXG5cdFx0XHRyZW1vdmU6IHJlbW92ZVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gY3J1ZDtcclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHtzdHJpbmd9IHR5cGVcclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBpbml0KHR5cGUpIHtcclxuXHRcdFx0dGhpcy5iYXNlID0gJ2FwaS8nICsgdHlwZSArICcvJyArIHR5cGUgKyAnTWFuYWdlci5waHAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0aWRcdFx0SUQgb2YgaXRlbSB0eXBlIHRvIGdldC5cclxuXHRcdCogQHJldHVyblx0e21peGVkW118c3RyaW5nfVx0UXVlcnkgcmVzdWx0cyBvciBcImZhbHNlXCIgb24gZmFpbHVyZS5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXQoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX1cdGRhdGFcdERhdGEgb2YgaXRlbSB0byBjcmVhdGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmd9XHRcdFx0XCIxXCIgb24gc3VjY2VzcyBvciBcImZhbHNlXCIgb24gZmFpbHVyZS5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBjcmVhdGUoZGF0YSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCh0aGlzLmJhc2UsIGRhdGEpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byB1cGRhdGUuXHJcblx0XHQqIEBwYXJhbVx0e21peGVkW119XHRkYXRhXHREYXRhIG9mIGl0ZW0gdG8gdXBkYXRlLlxyXG5cdFx0KlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfVx0XHRcdFwiMVwiIG9uIHN1Y2Nlc3Mgb3IgXCJmYWxzZVwiIG9uIGZhaWx1cmUuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlKGlkLCBkYXRhKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQodGhpcy5iYXNlICsgJz9pZD0nICsgaWQsIGRhdGEpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byBkZWxldGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmd9XHRcdFx0XCIxXCIgb24gc3VjY2VzcyBvciBcImZhbHNlXCIgb24gZmFpbHVyZS5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmUoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUZhaWxlZChlcnJvcikge1xyXG5cdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIENvbXBhcmUgYW4gaW5wdXQgZmllbGQgdG8gYW5vdGhlciBmaWVsZCwgZGV0ZXJtaW5lZCBieSB0aGUgZGV2LlxyXG5cdCovXHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcENvbXBhcmVUbycsIGNvbXBhcmVUbyk7XHJcblxyXG5cdGZ1bmN0aW9uIGNvbXBhcmVUbygpIHtcclxuXHRcdHZhciBkaXJlY3RpdmUgPSB7XHJcblx0XHRcdHJlcXVpcmU6ICduZ01vZGVsJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRvdGhlck1vZGVsOiAnPXNwQ29tcGFyZVRvJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBsaW5rXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG5cdFx0XHR2YXIgdW5iaW5kV2F0Y2ggPSBzY29wZS4kd2F0Y2goJ290aGVyTW9kZWwnLCB2YWxpZGF0ZU9uQ2hhbmdlKTtcclxuXHRcdFx0bmdNb2RlbC4kdmFsaWRhdG9ycy5zcENvbXBhcmVUbyA9IGNvbXBhcmVWYWx1ZXM7XHJcblx0XHRcdGVsZW1lbnQub24oJyRkZXN0cm95JywgY2xlYW5VcCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjbGVhblVwKCkge1xyXG5cdFx0XHRcdHVuYmluZFdhdGNoKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNvbXBhcmVWYWx1ZXModmlld1ZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuICh2aWV3VmFsdWUgPT09IHNjb3BlLm90aGVyTW9kZWwuJHZpZXdWYWx1ZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHZhbGlkYXRlT25DaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcblx0XHRcdFx0bmdNb2RlbC4kdmFsaWRhdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgTG9naW5Db250cm9sbGVyKTtcclxuXHJcblx0TG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ2luU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihsb2dpblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR2bS5lcnJvciA9ICcnO1xyXG5cclxuXHRcdHZtLmxvZ2luID0gbG9naW47XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9naW4oKSB7XHJcblx0XHRcdHZtLmxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRsb2dpblNlcnZpY2UubG9naW4odm0udXNlcilcclxuXHRcdFx0XHQudGhlbihsb2dpbkNvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGxvZ2luQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0dm0uZXJyb3IgPSByZXNwb25zZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnbG9naW5TZXJ2aWNlJywgbG9naW5TZXJ2aWNlKTtcclxuXHJcblx0bG9naW5TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2NhdGlvbicsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gbG9naW5TZXJ2aWNlKCRodHRwLCAkbG9jYXRpb24sICRsb2cpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRsb2dpbjogbG9naW5cclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9naW4odXNlcikge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnYXBpL21hbmFnZXJzL2xvZ2luTWFuYWdlci5waHAnLCB1c2VyKVxyXG5cdFx0XHRcdC50aGVuKGxvZ2luQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKGxvZ2luRmFpbGVkKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGxvZ2luQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YSA9PT0gXCJ0cnVlXCIpIHtcclxuXHRcdFx0XHRcdCRsb2NhdGlvbi51cmwoXCIvZGFzaGJvYXJkXCIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gJ1VzZXJuYW1lIG9yIHBhc3N3b3JkIHdhcyBpbmNvcnJlY3QuJztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5GYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0XHRyZXR1cm4gJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLic7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdEYXNoYm9hcmRDb250cm9sbGVyJywgRGFzaGJvYXJkQ29udHJvbGxlcik7XHJcblxyXG5cdGZ1bmN0aW9uIERhc2hib2FyZENvbnRyb2xsZXIoKSB7XHJcblxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignUmVnaXN0ZXJDb250cm9sbGVyJywgUmVnaXN0ZXJDb250cm9sbGVyKTtcclxuXHJcblx0UmVnaXN0ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJ3JlZ2lzdGVyU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcihyZWdpc3RlclNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR2bS5lcnJvciA9ICcnO1xyXG5cclxuXHRcdHZtLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XHJcblx0XHRcdHZtLmxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRyZWdpc3RlclNlcnZpY2UucmVnaXN0ZXIodm0udXNlcilcclxuXHRcdFx0XHQudGhlbihyZWdpc3RyYXRpb25Db21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZWdpc3RyYXRpb25Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdyZWdpc3RlclNlcnZpY2UnLCByZWdpc3RlclNlcnZpY2UpO1xyXG5cclxuXHRyZWdpc3RlclNlcnZpY2UuJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJ2NydWRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gcmVnaXN0ZXJTZXJ2aWNlKCRsb2NhdGlvbiwgY3J1ZFNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmNydWQgPSBuZXcgY3J1ZFNlcnZpY2UoJ3VzZXInKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZWdpc3RlcjogcmVnaXN0ZXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXIodXNlcikge1xyXG5cdFx0XHRyZXR1cm4gdm0uY3J1ZC5jcmVhdGUodXNlcilcclxuXHRcdFx0XHQudGhlbihyZWdpc3RyYXRpb25Db21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZWdpc3RyYXRpb25Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZSA9PT0gXCIxXCIpIHtcclxuXHRcdFx0XHRcdCRsb2NhdGlvbi51cmwoXCIvbG9naW5cIik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiAnVXNlcm5hbWUgdGFrZW4uJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignSGVhZGVyQ29udHJvbGxlcicsIEhlYWRlckNvbnRyb2xsZXIpO1xyXG5cclxuXHRIZWFkZXJDb250cm9sbGVyLiRpbmplY3QgPSBbICdoZWFkZXJTZXJ2aWNlJyBdO1xyXG5cdGZ1bmN0aW9uIEhlYWRlckNvbnRyb2xsZXIoaGVhZGVyU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLm5hbWUgPSAnJztcclxuXHRcdHZtLnVybCA9ICcnO1xyXG5cclxuXHRcdGhlYWRlclNlcnZpY2UuZ2V0VXNlcigpXHJcblx0XHRcdC50aGVuKGdldFVzZXJDb21wbGV0ZSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlckNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZtLm5hbWUgPSByZXNwb25zZS5uYW1lO1xyXG5cdFx0XHR2bS51cmwgPSByZXNwb25zZS51cmw7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwSGVhZGVyJywgaGVhZGVyRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gaGVhZGVyRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bGluazogbGluayxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvaGVhZGVyL2hlYWRlci5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2hlYWRlclNlcnZpY2UnLCBoZWFkZXJTZXJ2aWNlKTtcclxuXHJcblx0aGVhZGVyU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gaGVhZGVyU2VydmljZSgkaHR0cCwgJGxvZykge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFVzZXI6IGdldFVzZXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlcigpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCgnYXBpL3Nlc3Npb24vc2Vzc2lvblZhck1hbmFnZXIucGhwP3Zhcj1uYW1lJylcclxuXHRcdFx0XHQudGhlbihnZXROYW1lQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKGdldE5hbWVGYWlsZWQpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0TmFtZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhID09PSAnZmFsc2UnKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4ge25hbWU6ICdMb2dpbicsIHVybDogJyMvbG9naW4nfTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiB7bmFtZTogcmVzcG9uc2UuZGF0YSwgdXJsOiAnIy9kYXNoYm9hcmQnfTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0TmFtZUZhaWxlZChlcnJvcikge1xyXG5cdFx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRcdHJldHVybiAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1NpZGViYXJDb250cm9sbGVyJywgU2lkZWJhckNvbnRyb2xsZXIpO1xyXG5cclxuXHRmdW5jdGlvbiBTaWRlYmFyQ29udHJvbGxlcigpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdFx0dm0uY29sbGFwc2VkID0gdHJ1ZTtcclxuXHJcblx0XHR2bS50b2dnbGVTaWRlYmFyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZtLmNvbGxhcHNlZCA9ICF2bS5jb2xsYXBzZWQ7XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFNpZGViYXInLCBzaWRlYmFyRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gc2lkZWJhckRpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvbGF5b3V0L3NpZGViYXIvc2lkZWJhci5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1NpZGViYXJDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0XHRcdHNjb3BlLiR3YXRjaChhdHRycy5zaWRlYmFyRGlyZWN0aXZlLCB0b2dnbGVTaWRlYmFyKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHRvZ2dsZVNpZGViYXIoY29sbGFwc2VkKSB7XHJcblx0XHRcdFx0aWYgKGNvbGxhcHNlZCkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
