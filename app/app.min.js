!function(){"use strict";function e(e,r){e.$on("$routeChangeError",r.routeChangeError)}angular.module("app",["ngRoute"]).controller("AppController",e),e.$inject=["$rootScope","appService"]}(),function(){"use strict";function e(e){function r(e){return e.isAuthenticated()}function t(e){return e.isAdmin()}e.when("/login",{templateUrl:"modules/login/login.html",controller:"LoginController",controllerAs:"vm"}).when("/logout",{templateUrl:"modules/logout/logout.html",controller:"LogoutController",controllerAs:"vm"}).when("/register",{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm"}).when("/dashboard",{templateUrl:"pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",r]}}).when("/admin",{templateUrl:"pages/admin/admin.html",controller:"AdminController",controllerAs:"vm",resolve:{isAdmin:["accessService",t]}}).otherwise({redirectTo:"/login"})}angular.module("app").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";function e(e,r){function t(t,n,o,i){i===r.UNAUTHORIZED?e.path("/login"):i===r.FORBIDDEN&&e.path("/forbidden")}return{routeChangeError:t}}angular.module("app").factory("appService",e),e.$inject=["$location","statusService"]}(),function(){"use strict";function e(){function e(e,r,t,n){function o(){c()}function i(r){return r===e.otherModel.$viewValue}function a(e,r){n.$validate()}var c=e.$watch("otherModel",a);n.$validators.spCompareTo=i,r.on("$destroy",o)}var r={require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e};return r}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){}angular.module("app").controller("TasksController",e),e.$inject=["tasksService"]}(),function(){"use strict";function e(){function e(e,r,t){}return{link:e,templateUrl:"modules/tasks/tasks.html",controller:"TasksController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spTasks",e)}(),function(){"use strict";function e(e,r){return{}}angular.module("app").factory("tasksService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,r){function t(e){this.base="api/"+e+"/"+e+"Manager.php"}function n(r){return e.get(this.base+"?id="+r).then(c)["catch"](l)}function o(r){return e.post(this.base,r).then(c)["catch"](l)}function i(r,t){return e.put(this.base+"?id="+r,t).then(c)["catch"](l)}function a(r){return e["delete"](this.base+"?id="+r).then(c)["catch"](l)}function c(e){return e}function l(e){return r.error(e),{success:"false",title:"Error when querying server.",message:e}}var u=t;return u.prototype={get:n,create:o,update:i,remove:a},u}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,r){function t(r){return e.get(a.base+r).then(o)["catch"](i)}function n(r,t){return e.post(a.base+r,t).then(o)["catch"](i)}function o(e){return e}function i(e){return r.error(e),{success:"false",title:"Error when accessing variable.",message:e}}var a=this;return a.base="api/session/sessionVarManager.php?var=",{getVar:t,setVar:n}}angular.module("app").factory("sessionService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e){function r(){function r(e){t.loading=!1,t.error=e}t.loading=!0,e.login(t.user).then(r)}var t=this;t.loading=!1,t.error="",t.login=r}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,r,t){function n(n){function o(e){return e.data.success===!1?e.data.title:void r.path("/dashboard")}function i(e){return t.error(e),"Something went wrong. Please try again."}return e.post("api/managers/loginManager.php",n).then(o)["catch"](i)}return{login:n}}angular.module("app").factory("loginService",e),e.$inject=["$http","$location","$log"]}(),function(){"use strict";function e(){}angular.module("app").controller("DashboardController",e)}(),function(){"use strict";function e(e){function r(){function r(e){t.loading=!1,t.error=e}t.loading=!0,e.register(t.user).then(r)}var t=this;t.loading=!1,t.error="",t.register=r}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,r,t){function n(t){function n(t){return"false"===t.success?(r.error(t.title),t.title):void e.url("/login")}return o.crud.create(t).then(n)}var o=this;return o.crud=new t("user"),{register:n}}angular.module("app").factory("registerService",e),e.$inject=["$location","$log","crudService"]}(),function(){"use strict";function e(){var e=this;e.collapsed=!0,e.toggleSidebar=function(){e.collapsed=!e.collapsed}}angular.module("app").controller("SidebarController",e)}(),function(){"use strict";function e(){function e(e,r,t){function n(e){e?r.removeClass("collapsed"):r.addClass("collapsed")}e.$watch(t.sidebarDirective,n)}return{link:e,templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spSidebar",e)}(),function(){"use strict";function e(e,r,t,n){function o(){function e(e){return e.data.success!==!1?a.resolve(n.OK):a.reject(n.UNAUTHORIZED),a.promise}return t.getVar("name").then(e)}function i(){}var a=r.defer();return{isAuthenticated:o,isAdmin:i}}angular.module("app").factory("accessService",e),e.$inject=["$location","$q","sessionService","statusService"]}(),function(){"use strict";function e(){return{OK:200,UNAUTHORIZED:401,FORBIDDEN:403}}angular.module("app").service("statusService",e)}(),function(){"use strict";function e(e,r){function t(r){e.$evalAsync(function(){n.name=r.name===!1?"Login":r.name,n.url=r.url})}var n=this;n.name="",n.url="",r.getUser().then(t)}angular.module("app").controller("HeaderController",e),e.$inject=["$scope","headerService"]}(),function(){"use strict";function e(){function e(e,r,t){}return{link:e,templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spHeader",e)}(),function(){"use strict";function e(e,r,t){function n(){function e(e){var r=e.data;return r.success===!1?{name:!1,url:"#/login"}:{name:r.data,url:"#/dashboard"}}return t.getVar("name").then(e)}return{getUser:n}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log","sessionService"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCJhcHBTZXJ2aWNlIiwiJG9uIiwicm91dGVDaGFuZ2VFcnJvciIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJGluamVjdCIsImFwcENvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiaXNBdXRoZW50aWNhdGVkIiwiYWNjZXNzU2VydmljZSIsImlzQWRtaW4iLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyQXMiLCJyZXNvbHZlIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImNvbmZpZyIsIiRsb2NhdGlvbiIsInN0YXR1c1NlcnZpY2UiLCJldmVudCIsImN1cnJlbnQiLCJwcmV2aW91cyIsInJlamVjdGlvbiIsIlVOQVVUSE9SSVpFRCIsInBhdGgiLCJGT1JCSURERU4iLCJmYWN0b3J5IiwiY29tcGFyZVRvIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwibmdNb2RlbCIsImNsZWFuVXAiLCJ1bmJpbmRXYXRjaCIsImNvbXBhcmVWYWx1ZXMiLCJ2aWV3VmFsdWUiLCJvdGhlck1vZGVsIiwiJHZpZXdWYWx1ZSIsInZhbGlkYXRlT25DaGFuZ2UiLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwiJHZhbGlkYXRlIiwiJHdhdGNoIiwiJHZhbGlkYXRvcnMiLCJzcENvbXBhcmVUbyIsIm9uIiwiZGlyZWN0aXZlIiwicmVxdWlyZSIsIlRhc2tzQ29udHJvbGxlciIsInRhc2tzU2VydmljZSIsInRhc2tzRGlyZWN0aXZlIiwiYmluZFRvQ29udHJvbGxlciIsIiRodHRwIiwiJGxvZyIsImNydWRTZXJ2aWNlIiwiaW5pdCIsInR5cGUiLCJ0aGlzIiwiYmFzZSIsImdldCIsImlkIiwidGhlbiIsInByb21pc2VDb21wbGV0ZSIsInByb21pc2VGYWlsZWQiLCJjcmVhdGUiLCJkYXRhIiwicG9zdCIsInVwZGF0ZSIsInB1dCIsInJlbW92ZSIsInJlc3BvbnNlIiwiZXJyb3IiLCJzdWNjZXNzIiwidGl0bGUiLCJtZXNzYWdlIiwiY3J1ZCIsInByb3RvdHlwZSIsInNlc3Npb25TZXJ2aWNlIiwiZ2V0VmFyIiwiJG5hbWUiLCJ2bSIsInNldFZhciIsIiR2YWx1ZSIsIkxvZ2luQ29udHJvbGxlciIsImxvZ2luU2VydmljZSIsImxvZ2luIiwibG9naW5Db21wbGV0ZSIsImxvYWRpbmciLCJ1c2VyIiwibG9naW5GYWlsZWQiLCJEYXNoYm9hcmRDb250cm9sbGVyIiwiUmVnaXN0ZXJDb250cm9sbGVyIiwicmVnaXN0ZXJTZXJ2aWNlIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb25Db21wbGV0ZSIsInVybCIsIlNpZGViYXJDb250cm9sbGVyIiwiY29sbGFwc2VkIiwidG9nZ2xlU2lkZWJhciIsInNpZGViYXJEaXJlY3RpdmUiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiJHEiLCJpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZSIsImRlZmVycmVkIiwiT0siLCJyZWplY3QiLCJwcm9taXNlIiwiZGVmZXIiLCJzZXJ2aWNlIiwiSGVhZGVyQ29udHJvbGxlciIsIiRzY29wZSIsImhlYWRlclNlcnZpY2UiLCJnZXRVc2VyQ29tcGxldGUiLCIkZXZhbEFzeW5jIiwibmFtZSIsImdldFVzZXIiLCJoZWFkZXJEaXJlY3RpdmUiLCJnZXROYW1lQ29tcGxldGUiLCJyZXMiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0MsWUFPQSxTQUFTQSxHQUFjQyxFQUFZQyxHQUNsQ0QsRUFBV0UsSUFBSSxvQkFBcUJELEVBQVdFLGtCQU5oREMsUUFDRUMsT0FBTyxPQUFRLFlBQ2ZDLFdBQVcsZ0JBQWlCUCxHQUU5QkEsRUFBY1EsU0FBVyxhQUFjLGlCQUt4QyxXQUNDLFlBT0EsU0FBU0MsR0FBVUMsR0FxQ2xCLFFBQVNDLEdBQWdCQyxHQUN4QixNQUFPQSxHQUFjRCxrQkFHdEIsUUFBU0UsR0FBUUQsR0FDaEIsTUFBT0EsR0FBY0MsVUF6Q3RCSCxFQUNFSSxLQUFLLFVBQ0xDLFlBQWEsMkJB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bnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJywgWyduZ1JvdXRlJ10pXHJcblx0XHQuY29udHJvbGxlcignQXBwQ29udHJvbGxlcicsIEFwcENvbnRyb2xsZXIpO1xyXG5cclxuXHRBcHBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnYXBwU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIEFwcENvbnRyb2xsZXIoJHJvb3RTY29wZSwgYXBwU2VydmljZSkge1xyXG5cdFx0JHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZUVycm9yJywgYXBwU2VydmljZS5yb3V0ZUNoYW5nZUVycm9yKTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbmZpZyhhcHBDb25maWcpO1xyXG5cclxuXHRhcHBDb25maWcuJGluamVjdCA9IFsnJHJvdXRlUHJvdmlkZXInXTtcclxuXHRmdW5jdGlvbiBhcHBDb25maWcoJHJvdXRlUHJvdmlkZXIpIHtcclxuXHRcdCRyb3V0ZVByb3ZpZGVyXHJcblx0XHRcdC53aGVuKCcvbG9naW4nLCB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL2xvZ2luL2xvZ2luLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0fSlcclxuXHRcdFx0LndoZW4oJy9sb2dvdXQnLCB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL2xvZ291dC9sb2dvdXQuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0xvZ291dENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQud2hlbignL3JlZ2lzdGVyJywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ1JlZ2lzdGVyQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nXHJcblx0XHRcdH0pXHJcblx0XHRcdC53aGVuKCcvZGFzaGJvYXJkJywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnRGFzaGJvYXJkQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGlzQXV0aGVudGljYXRlZDogWydhY2Nlc3NTZXJ2aWNlJywgaXNBdXRoZW50aWNhdGVkXVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbicsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2FkbWluL2FkbWluLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRpc0FkbWluOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0FkbWluXVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0Lm90aGVyd2lzZSh7XHJcblx0XHRcdFx0cmVkaXJlY3RUbzogJy9sb2dpbidcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKGFjY2Vzc1NlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGFjY2Vzc1NlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNBZG1pbihhY2Nlc3NTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBhY2Nlc3NTZXJ2aWNlLmlzQWRtaW4oKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2FwcFNlcnZpY2UnLCBhcHBTZXJ2aWNlKTtcclxuXHJcblx0YXBwU2VydmljZS4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnc3RhdHVzU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGFwcFNlcnZpY2UoJGxvY2F0aW9uLCBzdGF0dXNTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyb3V0ZUNoYW5nZUVycm9yOiByb3V0ZUNoYW5nZUVycm9yXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJvdXRlQ2hhbmdlRXJyb3IoZXZlbnQsIGN1cnJlbnQsIHByZXZpb3VzLCByZWplY3Rpb24pIHtcclxuXHRcdFx0aWYgKHJlamVjdGlvbiA9PT0gc3RhdHVzU2VydmljZS5VTkFVVEhPUklaRUQpIHtcclxuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcblx0XHRcdH0gZWxzZSBpZiAocmVqZWN0aW9uID09PSBzdGF0dXNTZXJ2aWNlLkZPUkJJRERFTikge1xyXG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvZm9yYmlkZGVuJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBDb21wYXJlIGFuIGlucHV0IGZpZWxkIHRvIGFub3RoZXIgZmllbGQsIGRldGVybWluZWQgYnkgdGhlIGRldi5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BDb21wYXJlVG8nLCBjb21wYXJlVG8pO1xyXG5cclxuXHRmdW5jdGlvbiBjb21wYXJlVG8oKSB7XHJcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xyXG5cdFx0XHRyZXF1aXJlOiAnbmdNb2RlbCcsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0b3RoZXJNb2RlbDogJz1zcENvbXBhcmVUbydcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogbGlua1xyXG5cdFx0fTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcclxuXHRcdFx0dmFyIHVuYmluZFdhdGNoID0gc2NvcGUuJHdhdGNoKCdvdGhlck1vZGVsJywgdmFsaWRhdGVPbkNoYW5nZSk7XHJcblx0XHRcdG5nTW9kZWwuJHZhbGlkYXRvcnMuc3BDb21wYXJlVG8gPSBjb21wYXJlVmFsdWVzO1xyXG5cdFx0XHRlbGVtZW50Lm9uKCckZGVzdHJveScsIGNsZWFuVXApO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY2xlYW5VcCgpIHtcclxuXHRcdFx0XHR1bmJpbmRXYXRjaCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjb21wYXJlVmFsdWVzKHZpZXdWYWx1ZSkge1xyXG5cdFx0XHRcdHJldHVybiAodmlld1ZhbHVlID09PSBzY29wZS5vdGhlck1vZGVsLiR2aWV3VmFsdWUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiB2YWxpZGF0ZU9uQ2hhbmdlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG5cdFx0XHRcdG5nTW9kZWwuJHZhbGlkYXRlKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1Rhc2tzQ29udHJvbGxlcicsIFRhc2tzQ29udHJvbGxlcik7XHJcblxyXG5cdFRhc2tzQ29udHJvbGxlci4kaW5qZWN0ID0gWyd0YXNrc1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBUYXNrc0NvbnRyb2xsZXIodGFza3NTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFRhc2tzJywgdGFza3NEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiB0YXNrc0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy90YXNrcy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1Rhc2tzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgndGFza3NTZXJ2aWNlJywgdGFza3NTZXJ2aWNlKTtcclxuXHJcblx0dGFza3NTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnXTtcclxuXHRmdW5jdGlvbiB0YXNrc1NlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0fTtcclxuXHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCogVXNlZCB0byBhY2Nlc3MgdGhlIGFwaSBvZiB0aGUgdmFyaW91cyBpdGVtIHR5cGVzLlxyXG5cdCogQW4gaW5zdGFuY2Ugb2YgY3J1ZCBtdXN0IGJlIGNyZWF0ZWQgaW4gb3JkZXIgdG8gdXNlIHRoZSBzZXJ2aWNlLlxyXG5cdCpcclxuXHQqIEFsbCBwcm9taXNlcyByZXR1cm4gJ3N1Y2Nlc3MnIGFuZCBlaXRoZXIgJ2RhdGEnIG9uIHN1Y2Nlc3Mgb3IsIG9uIGVycm9yLCAndGl0bGUnXHJcblx0KiB3aXRoIGEgZ2VuZXJhbCBlcnJvciBhbmQgJ2RldGFpbHMnIHdpdGggbW9yZSBkZXRhaWxzLlxyXG5cdCovXHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnY3J1ZFNlcnZpY2UnLCBjcnVkU2VydmljZSk7XHJcblxyXG5cdGNydWRTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnXTtcclxuXHRmdW5jdGlvbiBjcnVkU2VydmljZSgkaHR0cCwgJGxvZykge1xyXG5cdFx0dmFyIGNydWQgPSBpbml0O1xyXG5cdFx0Y3J1ZC5wcm90b3R5cGUgPSB7XHJcblx0XHRcdGdldDogZ2V0LFxyXG5cdFx0XHRjcmVhdGU6IGNyZWF0ZSxcclxuXHRcdFx0dXBkYXRlOiB1cGRhdGUsXHJcblx0XHRcdHJlbW92ZTogcmVtb3ZlXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBjcnVkO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0ge3N0cmluZ30gdHlwZSBTZXQgdGhlIGJhc2UgdXJsIHVzaW5nIHRoZSBDUlVEIHR5cGUuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gaW5pdCh0eXBlKSB7XHJcblx0XHRcdHRoaXMuYmFzZSA9ICdhcGkvJyArIHR5cGUgKyAnLycgKyB0eXBlICsgJ01hbmFnZXIucGhwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byBnZXQuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09IHF1ZXJ5IHJlc3VsdHMgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXQoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX1cdGRhdGFcdERhdGEgb2YgaXRlbSB0byBjcmVhdGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAnMScgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBjcmVhdGUoZGF0YSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCh0aGlzLmJhc2UsIGRhdGEpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byB1cGRhdGUuXHJcblx0XHQqIEBwYXJhbVx0e21peGVkW119XHRkYXRhXHREYXRhIG9mIGl0ZW0gdG8gdXBkYXRlLlxyXG5cdFx0KlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PT0gJzEnIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlKGlkLCBkYXRhKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQodGhpcy5iYXNlICsgJz9pZD0nICsgaWQsIGRhdGEpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byBkZWxldGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAnMScgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmUoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VGYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0c3VjY2VzczogJ2ZhbHNlJyxcclxuXHRcdFx0XHR0aXRsZTogJ0Vycm9yIHdoZW4gcXVlcnlpbmcgc2VydmVyLicsXHJcblx0XHRcdFx0bWVzc2FnZTogZXJyb3JcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyBzZXNzaW9uIHZhcmlhYmxlcy5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3Nlc3Npb25TZXJ2aWNlJywgc2Vzc2lvblNlcnZpY2UpO1xyXG5cclxuXHRzZXNzaW9uU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gc2Vzc2lvblNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmJhc2UgPSAnYXBpL3Nlc3Npb24vc2Vzc2lvblZhck1hbmFnZXIucGhwP3Zhcj0nO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFZhcjogZ2V0VmFyLFxyXG5cdFx0XHRzZXRWYXI6IHNldFZhclxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfSAkbmFtZVx0VmFyaWFibGUgbmFtZSB0byBnZXQgZnJvbSBzZXNzaW9uLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfSBcdFx0UHJvbWlzZSBvciBlcnJvciBvbiBmYWlsLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFZhcigkbmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KHZtLmJhc2UgKyAkbmFtZSlcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9ICRuYW1lXHRWYXJpYWJsZSBuYW1lIHRvIGdldCBmcm9tIHNlc3Npb24uXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmd9IFx0XHRQcm9taXNlIG9yIGVycm9yIG9uIGZhaWwuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gc2V0VmFyKCRuYW1lLCAkdmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3Qodm0uYmFzZSArICRuYW1lLCAkdmFsdWUpXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VGYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0c3VjY2VzczogJ2ZhbHNlJyxcclxuXHRcdFx0XHR0aXRsZTogJ0Vycm9yIHdoZW4gYWNjZXNzaW5nIHZhcmlhYmxlLicsXHJcblx0XHRcdFx0bWVzc2FnZTogZXJyb3JcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXIpO1xyXG5cclxuXHRMb2dpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnbG9naW5TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gTG9naW5Db250cm9sbGVyKGxvZ2luU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdHZtLmVycm9yID0gJyc7XHJcblxyXG5cdFx0dm0ubG9naW4gPSBsb2dpbjtcclxuXHJcblx0XHRmdW5jdGlvbiBsb2dpbigpIHtcclxuXHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdGxvZ2luU2VydmljZS5sb2dpbih2bS51c2VyKVxyXG5cdFx0XHRcdC50aGVuKGxvZ2luQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdsb2dpblNlcnZpY2UnLCBsb2dpblNlcnZpY2UpO1xyXG5cclxuXHRsb2dpblNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvY2F0aW9uJywgJyRsb2cnXTtcclxuXHRmdW5jdGlvbiBsb2dpblNlcnZpY2UoJGh0dHAsICRsb2NhdGlvbiwgJGxvZykge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxvZ2luOiBsb2dpblxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsb2dpbih1c2VyKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCdhcGkvbWFuYWdlcnMvbG9naW5NYW5hZ2VyLnBocCcsIHVzZXIpXHJcblx0XHRcdFx0LnRoZW4obG9naW5Db21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gobG9naW5GYWlsZWQpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UuZGF0YS50aXRsZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9kYXNoYm9hcmQnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5GYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0XHRyZXR1cm4gJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLic7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdEYXNoYm9hcmRDb250cm9sbGVyJywgRGFzaGJvYXJkQ29udHJvbGxlcik7XHJcblxyXG5cdGZ1bmN0aW9uIERhc2hib2FyZENvbnRyb2xsZXIoKSB7XHJcblxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignUmVnaXN0ZXJDb250cm9sbGVyJywgUmVnaXN0ZXJDb250cm9sbGVyKTtcclxuXHJcblx0UmVnaXN0ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJ3JlZ2lzdGVyU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcihyZWdpc3RlclNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR2bS5lcnJvciA9ICcnO1xyXG5cclxuXHRcdHZtLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XHJcblx0XHRcdHZtLmxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRyZWdpc3RlclNlcnZpY2UucmVnaXN0ZXIodm0udXNlcilcclxuXHRcdFx0XHQudGhlbihyZWdpc3RyYXRpb25Db21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZWdpc3RyYXRpb25Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdyZWdpc3RlclNlcnZpY2UnLCByZWdpc3RlclNlcnZpY2UpO1xyXG5cclxuXHRyZWdpc3RlclNlcnZpY2UuJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJyRsb2cnLCAnY3J1ZFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiByZWdpc3RlclNlcnZpY2UoJGxvY2F0aW9uLCAkbG9nLCBjcnVkU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0dm0uY3J1ZCA9IG5ldyBjcnVkU2VydmljZSgndXNlcicpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlZ2lzdGVyOiByZWdpc3RlclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiByZWdpc3Rlcih1c2VyKSB7XHJcblx0XHRcdHJldHVybiB2bS5jcnVkLmNyZWF0ZSh1c2VyKVxyXG5cdFx0XHRcdC50aGVuKHJlZ2lzdHJhdGlvbkNvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHJlZ2lzdHJhdGlvbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLnN1Y2Nlc3MgPT09ICdmYWxzZScpIHtcclxuXHRcdFx0XHRcdCRsb2cuZXJyb3IocmVzcG9uc2UudGl0bGUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLnRpdGxlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkbG9jYXRpb24udXJsKCcvbG9naW4nKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignU2lkZWJhckNvbnRyb2xsZXInLCBTaWRlYmFyQ29udHJvbGxlcik7XHJcblxyXG5cdGZ1bmN0aW9uIFNpZGViYXJDb250cm9sbGVyKCkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHJcblx0XHR2bS5jb2xsYXBzZWQgPSB0cnVlO1xyXG5cclxuXHRcdHZtLnRvZ2dsZVNpZGViYXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0dm0uY29sbGFwc2VkID0gIXZtLmNvbGxhcHNlZDtcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwU2lkZWJhcicsIHNpZGViYXJEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBzaWRlYmFyRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bGluazogbGluayxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvc2lkZWJhci9zaWRlYmFyLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnU2lkZWJhckNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdFx0c2NvcGUuJHdhdGNoKGF0dHJzLnNpZGViYXJEaXJlY3RpdmUsIHRvZ2dsZVNpZGViYXIpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gdG9nZ2xlU2lkZWJhcihjb2xsYXBzZWQpIHtcclxuXHRcdFx0XHRpZiAoY29sbGFwc2VkKSB7XHJcblx0XHRcdFx0XHRlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5hZGRDbGFzcygnY29sbGFwc2VkJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdhY2Nlc3NTZXJ2aWNlJywgYWNjZXNzU2VydmljZSk7XHJcblxyXG5cdGFjY2Vzc1NlcnZpY2UuJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJyRxJywgJ3Nlc3Npb25TZXJ2aWNlJywgJ3N0YXR1c1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBhY2Nlc3NTZXJ2aWNlKCRsb2NhdGlvbiwgJHEsIHNlc3Npb25TZXJ2aWNlLCBzdGF0dXNTZXJ2aWNlKSB7XHJcblx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGlzQXV0aGVudGljYXRlZDogaXNBdXRoZW50aWNhdGVkLFxyXG5cdFx0XHRpc0FkbWluOiBpc0FkbWluXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZCgpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignbmFtZScpXHJcblx0XHRcdFx0LnRoZW4oaXNBdXRoZW50aWNhdGVkQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShzdGF0dXNTZXJ2aWNlLk9LKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KHN0YXR1c1NlcnZpY2UuVU5BVVRIT1JJWkVEKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNBZG1pbigpIHtcclxuXHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCogU3RhdHVzIGNvZGVzIHVzZWQgd2hlbiBhY2Nlc3NpbmcgdmFyaW91cyBwYWdlcyBpbiB0aGUgYXBwLlxyXG5cdCovXHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuc2VydmljZSgnc3RhdHVzU2VydmljZScsIHN0YXR1c1NlcnZpY2UpO1xyXG5cclxuXHRmdW5jdGlvbiBzdGF0dXNTZXJ2aWNlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0T0s6IDIwMCxcclxuXHRcdFx0VU5BVVRIT1JJWkVEOiA0MDEsXHJcblx0XHRcdEZPUkJJRERFTjogNDAzXHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0hlYWRlckNvbnRyb2xsZXInLCBIZWFkZXJDb250cm9sbGVyKTtcclxuXHJcblx0SGVhZGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnaGVhZGVyU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIEhlYWRlckNvbnRyb2xsZXIoJHNjb3BlLCBoZWFkZXJTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0ubmFtZSA9ICcnO1xyXG5cdFx0dm0udXJsID0gJyc7XHJcblxyXG5cdFx0aGVhZGVyU2VydmljZS5nZXRVc2VyKClcclxuXHRcdFx0LnRoZW4oZ2V0VXNlckNvbXBsZXRlKTtcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0JHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dm0ubmFtZSA9IChyZXNwb25zZS5uYW1lID09PSBmYWxzZSkgPyAnTG9naW4nIDogcmVzcG9uc2UubmFtZTtcclxuXHRcdFx0XHR2bS51cmwgPSByZXNwb25zZS51cmw7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcEhlYWRlcicsIGhlYWRlckRpcmVjdGl2ZSk7XHJcblxyXG5cdGZ1bmN0aW9uIGhlYWRlckRpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvbGF5b3V0L2hlYWRlci9oZWFkZXIuaHRtbCcsXHJcblx0XHRcdGNvbnRyb2xsZXI6ICdIZWFkZXJDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdoZWFkZXJTZXJ2aWNlJywgaGVhZGVyU2VydmljZSk7XHJcblxyXG5cdGhlYWRlclNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZycsICdzZXNzaW9uU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGhlYWRlclNlcnZpY2UoJGh0dHAsICRsb2csIHNlc3Npb25TZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRVc2VyOiBnZXRVc2VyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXIoKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ25hbWUnKVxyXG5cdFx0XHRcdC50aGVuKGdldE5hbWVDb21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBnZXROYW1lQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHJcblx0XHRcdFx0aWYgKHJlcy5zdWNjZXNzID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHtuYW1lOiBmYWxzZSwgdXJsOiAnIy9sb2dpbid9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4ge25hbWU6IHJlcy5kYXRhLCB1cmw6ICcjL2Rhc2hib2FyZCd9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
