!function(){"use strict";function e(e,t){e.$on("$routeChangeError",t.routeChangeError)}angular.module("app",["ngRoute","ui.bootstrap"]).controller("AppController",e),e.$inject=["$rootScope","appService"]}(),function(){"use strict";function e(e){function t(e){return e.getEvents()}function n(e){return e.getTasks()}function r(e){return e.isAuthenticated()}function o(e){return e.isAdmin()}e.when("/login",{templateUrl:"modules/login/login.html",controller:"LoginController",controllerAs:"vm"}).when("/logout",{templateUrl:"modules/logout/logout.html",controller:"LogoutController",controllerAs:"vm"}).when("/register",{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm"}).when("/dashboard",{templateUrl:"pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",r],tasks:["tasksService",n],events:["eventsService",t]}}).when("/admin",{templateUrl:"pages/admin/admin.html",controller:"AdminController",controllerAs:"vm",resolve:{isAdmin:["accessService",o]}}).otherwise({redirectTo:"/login"})}angular.module("app").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";function e(e,t){function n(n,r,o,a){a===t.UNAUTHORIZED?e.path("/login"):a===t.FORBIDDEN&&e.path("/forbidden")}return{routeChangeError:n}}angular.module("app").factory("appService",e),e.$inject=["$location","statusService"]}(),function(){"use strict";function e(e,t){function n(e){switch(this.type=e,this.base="api/",e){case"event":case"calendar":this.base+="activity/calendar/";break;case"label":case"task":this.base+="activity/task/";break;default:this.base+=e+"/"}this.base+=e+"Manager.php"}function r(t){return e.get(this.base+"?id="+t).then(u)["catch"](l)}function o(t,n){return e.get(this.base+"?usewhere=true&where="+escape(t)+"&id="+n).then(u)["catch"](l)}function a(t){return t=this.removeUnecessaryKeys(t),e.post(this.base,t).then(u)["catch"](l)}function i(t,n){return n=this.removeUnecessaryKeys(n),e.put(this.base+"?id="+t,n).then(u)["catch"](l)}function c(t){return e["delete"](this.base+"?id="+t).then(u)["catch"](l)}function s(t,n){return e["delete"](this.base+"?where=true&id="+n,t).then(u)["catch"](l)}function u(e){return e}function l(e){return t.error(e),{success:"false",title:"Error when querying server.",message:e}}function d(e){for(var t=["id","person_id",this.type+"_id","activity_info_id","parent_name"],n=0;n<t.length;n++)delete e[t[n]];return e}var p=n;return p.prototype={get:r,getWhere:o,create:a,update:i,remove:c,removeWhere:s,removeUnecessaryKeys:d},p}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t){function n(t){return e.get(i.base+t).then(o)["catch"](a)}function r(t,n){return e.post(i.base+t,n).then(o)["catch"](a)}function o(e){return e}function a(e){return t.error(e),{success:"false",title:"Error when accessing variable.",message:e}}var i=this;return i.base="api/session/sessionVarManager.php?var=",{getVar:n,setVar:r}}angular.module("app").factory("sessionService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t){function n(e){t.openEventModal(e).then(r)}function r(e){e&&(o.events=e)}var o=this;o.showEventModal=n}angular.module("app").controller("EventsController",e),e.$inject=["eventsService","eventModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/events/events.html",controller:"EventsController",controllerAs:"vm",bindToController:!0,scope:{events:"=",order:"="}}}angular.module("app").directive("spEvents",e)}(),function(){"use strict";function e(e,t,n,r){function o(e){return l.event.create(e).then(u)}function a(e){return e.event_id?s(e.event_id,e):o(e)}function i(e){return l.event.remove(e).then(u)}function c(){function e(e){var t=e.data;return t.success?l.event.getWhere("",t.data).then(u):t.title}return r.getVar("id").then(e)}function s(e,t){return l.event.update(e,t).then(u)}function u(e){var t=e.data;return t.success?t.data:t.title}var l=this;return l.event=new n("event"),{createEvent:o,createOrUpdateEvent:a,deleteEvent:i,getEvents:c,updateEvent:s}}angular.module("app").factory("eventsService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(){function e(e,t,n,r){function o(){c()}function a(t){return t===e.otherModel.$viewValue}function i(e,t){r.$validate()}var c=e.$watch("otherModel",i);r.$validators.spCompareTo=a,t.on("$destroy",o)}var t={require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e};return t}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.login(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.loading=!1,n.error="",n.login=t}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,t,n){function r(r){function o(e){return e.data.success===!1?e.data.title:void t.path("/dashboard")}function a(e){return n.error(e),"Something went wrong. Please try again."}return e.post("api/user/loginManager.php",r).then(o)["catch"](a)}return{login:r}}angular.module("app").factory("loginService",e),e.$inject=["$http","$location","$log"]}(),function(){"use strict";function e(e,t,n){function r(){e.close()}function o(){e.dismiss("cancel")}function a(t){e.dismiss(t)}function i(t){e.close(t)}var c=this;c.groups=t,c.item=n,c.close=r,c.cancel=o,c.confirm=i,c.remove=a}angular.module("app").controller("ModalController",e),e.$inject=["$uibModalInstance","groups","item"]}(),function(){"use strict";function e(e,t){function n(e){t.openTaskModal(e).then(o)}function r(t){e.toggleCompleted(t).then(o)}function o(e){e&&(a.tasks=e)}var a=this;a.showTaskModal=n,a.toggleCompleted=r}angular.module("app").controller("TasksController",e),e.$inject=["tasksService","taskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/tasks/tasks.html",controller:"TasksController",controllerAs:"vm",bindToController:!0,scope:{tasks:"=",order:"="}}}angular.module("app").directive("spTasks",e)}(),function(){"use strict";function e(e,t,n,r){function o(e){return d.task.create(e).then(l)}function a(e){return e.task_id?u(e.task_id,e):o(e)}function i(e){return d.task.remove(e).then(l)}function c(){function e(e){var t=e.data;return t.success?d.task.getWhere("",t.data).then(l):t.title}return r.getVar("id").then(e)}function s(e){return e.completed=!parseInt(e.completed),u(e.task_id,e).then(c)}function u(e,t){return d.task.update(e,t).then(l)}function l(e){var t=e.data;return t.success?t.data:t.title}var d=this;return d.task=new n("task"),{createTask:o,createOrUpdateTask:a,deleteTask:i,getTasks:c,toggleCompleted:s,updateTask:u}}angular.module("app").factory("tasksService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t,n){var r=this;r.tasks=t,r.events=n}angular.module("app").controller("DashboardController",e),e.$inject=["isAuthenticated","tasks","events"]}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.register(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.error="",n.loading=!1,n.register=t}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,t,n){function r(n){function r(n){return"false"===n.success?(t.error(n.title),n.title):void e.url("/login")}return o.crud.create(n).then(r)}var o=this;return o.crud=new n("user"),{register:r}}angular.module("app").factory("registerService",e),e.$inject=["$location","$log","crudService"]}(),function(){"use strict";function e(e,t,n,r){function o(){function e(e){return e.data.success!==!1?i.resolve(r.OK):i.reject(r.UNAUTHORIZED),i.promise}return n.getVar("name").then(e)}function a(){}var i=t.defer();return{isAuthenticated:o,isAdmin:a}}angular.module("app").factory("accessService",e),e.$inject=["$location","$q","sessionService","statusService"]}(),function(){"use strict";function e(){return{OK:200,UNAUTHORIZED:401,FORBIDDEN:403}}angular.module("app").service("statusService",e)}(),function(){"use strict";function e(e,t,n){function r(r){return angular.isString(r.due)&&(r.due=new Date(r.due.replace(/(.+) (.+)/,"$1T$2Z"))),angular.isString(r.reminder)&&(r.reminder=new Date(r.reminder.replace(/(.+) (.+)/,"$1T$2Z"))),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/events/modal/event.modal.html",resolve:{groups:t.getCalendars(),item:r}}).result.then(function(e){return n.createOrUpdateEvent(e).then(n.getEvents)},function(e){return"string"!=typeof e?n.deleteEvent(e).then(n.getEvents):void 0})}return{openEventModal:r}}angular.module("app").factory("eventModalService",e),e.$inject=["$uibModal","calendarService","eventsService"]}(),function(){"use strict";function e(e,t,n,r){function o(e){return u.calendar.create(e).then(s)}function a(e){return u.calendar.remove(e).then(s)}function i(){function e(e){var t=e.data;return t.success?u.calendar.getWhere("person_id="+t.data,"").then(s):t.title}return r.getVar("id").then(e)}function c(e,t){return u.calendar.update(e,t).then(s)}function s(e){var t=e.data;return t.success?t.data:t.title}var u=this;return u.calendar=new n("calendar"),{createCalendar:o,deleteCalendar:a,getCalendars:i,updateCalendar:c}}angular.module("app").factory("calendarService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t,n,r){function o(e){return u.label.create(e).then(s)}function a(e){return u.label.remove(e).then(s)}function i(){function e(e){var t=e.data;return t.success?u.label.getWhere("person_id="+t.data,"").then(s):t.title}return r.getVar("id").then(e)}function c(e,t){return u.label.update(e,t).then(s)}function s(e){var t=e.data;return t.success?t.data:t.title}var u=this;return u.label=new n("label"),{createLabel:o,deleteLabel:a,getLabels:i,updateLabel:c}}angular.module("app").factory("labelService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t){function n(t){e.$evalAsync(function(){r.name=t.name===!1?"Login":t.name,r.url=t.url})}var r=this;r.name="",r.url="",t.getUser().then(n)}angular.module("app").controller("HeaderController",e),e.$inject=["$scope","headerService"]}(),function(){"use strict";function e(){function e(e,t,n){}return{link:e,templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spHeader",e)}(),function(){"use strict";function e(e,t,n){function r(){function e(e){var t=e.data;return t.success===!1?{name:!1,url:"#/login"}:{name:t.data,url:"#/dashboard"}}return n.getVar("name").then(e)}return{getUser:r}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log","sessionService"]}(),function(){"use strict";function e(e,t,n){function r(r){return angular.isString(r.due)&&(r.due=new Date(r.due.replace(/(.+) (.+)/,"$1T$2Z"))),angular.isString(r.reminder)&&(r.reminder=new Date(r.reminder.replace(/(.+) (.+)/,"$1T$2Z"))),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/tasks/modal/task.modal.html",resolve:{groups:t.getLabels(),item:r}}).result.then(function(e){return n.createOrUpdateTask(e).then(n.getTasks)},function(e){return"string"!=typeof e?n.deleteTask(e).then(n.getTasks):void 0})}return{openTaskModal:r}}angular.module("app").factory("taskModalService",e),e.$inject=["$uibModal","labelService","tasksService"]}(),function(){"use strict";function e(){var e=this;e.collapsed=!0,e.toggleSidebar=function(){e.collapsed=!e.collapsed}}angular.module("app").controller("SidebarController",e)}(),function(){"use strict";function e(){function e(e,t,n){function r(e){e?t.removeClass("collapsed"):t.addClass("collapsed")}e.$watch(n.sidebarDirective,r)}return{link:e,templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spSidebar",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCJhcHBTZXJ2aWNlIiwiJG9uIiwicm91dGVDaGFuZ2VFcnJvciIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJGluamVjdCIsImFwcENvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiZ2V0RXZlbnRzIiwiZXZlbnRzU2VydmljZSIsImdldFRhc2tzIiwidGFza3NTZXJ2aWNlIiwiaXNBdXRoZW50aWNhdGVkIiwiYWNjZXNzU2VydmljZSIsImlzQWRtaW4iLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyQXMiLCJyZXNvbHZlIiwidGFza3MiLCJldmVudHMiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiY29uZmlnIiwiJGxvY2F0aW9uIiwic3RhdHVzU2VydmljZSIsImV2ZW50IiwiY3VycmVudCIsInByZXZpb3VzIiwicmVqZWN0aW9uIiwiVU5BVVRIT1JJWkVEIiwicGF0aCIsIkZPUkJJRERFTiIsImZhY3RvcnkiLCJjcnVkU2VydmljZSIsIiRodHRwIiwiJGxvZyIsImluaXQiLCJ0eXBlIiwidGhpcyIsImJhc2UiLCJnZXQiLCJpZCIsInRoZW4iLCJwcm9taXNlQ29tcGxldGUiLCJwcm9taXNlRmFpbGVkIiwiZ2V0V2hlcmUiLCJ3aGVyZSIsInVzZXJJRCIsImVzY2FwZSIsImNyZWF0ZSIsImRhdGEiLCJyZW1vdmVVbmVjZXNzYXJ5S2V5cyIsInBvc3QiLCJ1cGRhdGUiLCJwdXQiLCJyZW1vdmUiLCJyZW1vdmVXaGVyZSIsInJlc3BvbnNlIiwiZXJyb3IiLCJzdWNjZXNzIiwidGl0bGUiLCJtZXNzYWdlIiwidG9EZWxldGUiLCJpIiwibGVuZ3RoIiwiY3J1ZCIsInByb3RvdHlwZSIsInNlc3Npb25TZXJ2aWNlIiwiZ2V0VmFyIiwiJG5hbWUiLCJ2bSIsInNldFZhciIsIiR2YWx1ZSIsIkV2ZW50c0NvbnRyb2xsZXIiLCJldmVudE1vZGFsU2VydmljZSIsInNob3dFdmVudE1vZGFsIiwib3BlbkV2ZW50TW9kYWwiLCJ1cGRhdGVFdmVudHMiLCJldmVudHNEaXJlY3RpdmUiLCJiaW5kVG9Db250cm9sbGVyIiwic2NvcGUiLCJvcmRlciIsImRpcmVjdGl2ZSIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlT3JVcGRhdGVFdmVudCIsImV2ZW50X2lkIiwidXBkYXRlRXZlbnQiLCJkZWxldGVFdmVudCIsImdldEV2ZW50V2l0aFVzZXJJRCIsInJlcyIsImNvbXBhcmVUbyIsImxpbmsiLCJlbGVtZW50IiwiYXR0cnMiLCJuZ01vZGVsIiwiY2xlYW5VcCIsInVuYmluZFdhdGNoIiwiY29tcGFyZVZhbHVlcyIsInZpZXdWYWx1ZSIsIm90aGVyTW9kZWwiLCIkdmlld1ZhbHVlIiwidmFsaWRhdGVPbkNoYW5nZSIsIm5ld1ZhbHVlIiwib2xkVmFsdWUiLCIkdmFsaWRhdGUiLCIkd2F0Y2giLCIkdmFsaWRhdG9ycyIsInNwQ29tcGFyZVRvIiwib24iLCJyZXF1aXJlIiwiTG9naW5Db250cm9sbGVyIiwibG9naW5TZXJ2aWNlIiwibG9naW4iLCJsb2FkaW5nIiwidXNlciIsImxvZ2luQ29tcGxldGUiLCJsb2dpbkZhaWxlZCIsIk1vZGFsQ29udHJvbGxlciIsIiR1aWJNb2RhbEluc3RhbmNlIiwiZ3JvdXBzIiwiaXRlbSIsImNsb3NlIiwiY2FuY2VsIiwiZGlzbWlzcyIsImNvbmZpcm0iLCJUYXNrc0NvbnRyb2xsZXIiLCJ0YXNrTW9kYWxTZXJ2aWNlIiwic2hvd1Rhc2tNb2RhbCIsInRhc2siLCJvcGVuVGFza01vZGFsIiwidXBkYXRlVGFza3MiLCJ0b2dnbGVDb21wbGV0ZWQiLCJ0YXNrc0RpcmVjdGl2ZSIsImNyZWF0ZVRhc2siLCJjcmVhdGVPclVwZGF0ZVRhc2siLCJ0YXNrX2lkIiwidXBkYXRlVGFzayIsImRlbGV0ZVRhc2siLCJnZXRUYXNrV2l0aFVzZXJJRCIsImNvbXBsZXRlZCIsInBhcnNlSW50IiwiRGFzaGJvYXJkQ29udHJvbGxlciIsIlJlZ2lzdGVyQ29udHJvbGxlciIsInJlZ2lzdGVyU2VydmljZSIsInJlZ2lzdGVyIiwicmVnaXN0cmF0aW9uQ29tcGxldGUiLCJ1cmwiLCIkcSIsImlzQXV0aGVudGljYXRlZENvbXBsZXRlIiwiZGVmZXJyZWQiLCJPSyIsInJlamVjdCIsInByb21pc2UiLCJkZWZlciIsInNlcnZpY2UiLCIkdWliTW9kYWwiLCJjYWxlbmRhclNlcnZpY2UiLCJpc1N0cmluZyIsImR1ZSIsIkRhdGUiLCJyZXBsYWNlIiwicmVtaW5kZXIiLCJvcGVuIiwiZ2V0Q2FsZW5kYXJzIiwicmVzdWx0IiwiY3JlYXRlQ2FsZW5kYXIiLCJjYWxlbmRhciIsImRlbGV0ZUNhbGVuZGFyIiwiZ2V0Q2FsZW5kYXJXaXRoVXNlcklEIiwidXBkYXRlQ2FsZW5kYXIiLCJsYWJlbFNlcnZpY2UiLCJjcmVhdGVMYWJlbCIsImxhYmVsIiwiZGVsZXRlTGFiZWwiLCJnZXRMYWJlbHMiLCJnZXRMYWJlbFdpdGhVc2VySUQiLCJ1cGRhdGVMYWJlbCIsIkhlYWRlckNvbnRyb2xsZXIiLCIkc2NvcGUiLCJoZWFkZXJTZXJ2aWNlIiwiZ2V0VXNlckNvbXBsZXRlIiwiJGV2YWxBc3luYyIsIm5hbWUiLCJnZXRVc2VyIiwiaGVhZGVyRGlyZWN0aXZlIiwiZ2V0TmFtZUNvbXBsZXRlIiwiU2lkZWJhckNvbnRyb2xsZXIiLCJjb2xsYXBzZWQiLCJ0b2dnbGVTaWRlYmFyIiwic2lkZWJhckRpcmVjdGl2ZSIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0MsWUFPQSxTQUFTQSxHQUFjQyxFQUFZQyxHQUNsQ0QsRUFBV0UsSUFBSSxvQkFBcUJELEVBQVdFLGtCQU5oREMsUUFDRUMsT0FBTyxPQUFRLFVBQVcsaUJBQzFCQyxXQUFXLGdCQUFpQlAsR0FFOUJBLEVBQWNRLFNBQVcsYUFBYyxpQkFLeEMsV0FDQyxZQU9BLFNBQVNDLEdBQVVDLEdBdUNsQixRQUFTQyxHQUFVQyxHQUNsQixNQUFPQSxHQUFjRCxZQUd0QixRQUFTRSxHQUFT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QU1RLEtBRUxvQyxPQUNEMUgsS0FBSyxTQUFTZSxHQUNkLE1BQU8vQyxHQUFhNEgsbUJBQW1CN0UsR0FDckNmLEtBQUtoQyxFQUFhRCxXQUNsQixTQUFTZ0QsR0FDWCxNQUF3QixnQkFBYkEsR0FDSC9DLEVBQWErSCxXQUFXaEYsR0FDN0JmLEtBQUtoQyxFQUFhRCxVQUZyQixTQXpCSCxPQUNDd0gsY0FBZUEsR0FUakJoSSxRQUNFQyxPQUFPLE9BQ1A4QixRQUFRLG1CQUFvQjhGLEdBRTlCQSxFQUFpQjFILFNBQVcsWUFBYSxlQUFnQixtQkFzQzFELFdBQ0MsWUFNQSxTQUFTc0wsS0FDUixHQUFJcEgsR0FBS2hDLElBRVRnQyxHQUFHcUgsV0FBWSxFQUVmckgsRUFBR3NILGNBQWdCLFdBQ2xCdEgsRUFBR3FILFdBQWFySCxFQUFHcUgsV0FWckIxTCxRQUNFQyxPQUFPLE9BQ1BDLFdBQVcsb0JBQXFCdUwsTUFZbkMsV0FDQyxZQU1BLFNBQVNHLEtBU1IsUUFBU2xHLEdBQUtYLEVBQU9ZLEVBQVNDLEdBRzdCLFFBQVMrRixHQUFjRCxHQUNsQkEsRUFDSC9GLEVBQVFrRyxZQUFZLGFBRXBCbEcsRUFBUW1HLFNBQVMsYUFObkIvRyxFQUFNeUIsT0FBT1osRUFBTWdHLGlCQUFrQkQsR0FUdEMsT0FDQ2pHLEtBQU1BLEVBQ041RSxZQUFhLG9DQUNiWixXQUFZLG9CQUNaYSxhQUFjLEtBQ2QrRCxrQkFBa0IsR0FWcEI5RSxRQUNFQyxPQUFPLE9BQ1BnRixVQUFVLFlBQWEyRyIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJywgWyduZ1JvdXRlJywgJ3VpLmJvb3RzdHJhcCddKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0FwcENvbnRyb2xsZXInLCBBcHBDb250cm9sbGVyKTtcclxuXHJcblx0QXBwQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ2FwcFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBBcHBDb250cm9sbGVyKCRyb290U2NvcGUsIGFwcFNlcnZpY2UpIHtcclxuXHRcdCRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VFcnJvcicsIGFwcFNlcnZpY2Uucm91dGVDaGFuZ2VFcnJvcik7XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb25maWcoYXBwQ29uZmlnKTtcclxuXHJcblx0YXBwQ29uZmlnLiRpbmplY3QgPSBbJyRyb3V0ZVByb3ZpZGVyJ107XHJcblx0ZnVuY3Rpb24gYXBwQ29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7XHJcblx0XHQkcm91dGVQcm92aWRlclxyXG5cdFx0XHQud2hlbignL2xvZ2luJywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2dpbi9sb2dpbi5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdH0pXHJcblx0XHRcdC53aGVuKCcvbG9nb3V0Jywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2dvdXQvbG9nb3V0Lmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdMb2dvdXRDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bSdcclxuXHRcdFx0fSlcclxuXHRcdFx0LndoZW4oJy9yZWdpc3RlcicsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL3JlZ2lzdGVyL3JlZ2lzdGVyLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQud2hlbignL2Rhc2hib2FyZCcsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2Rhc2hib2FyZC9kYXNoYm9hcmQuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IFsnYWNjZXNzU2VydmljZScsIGlzQXV0aGVudGljYXRlZF0sXHJcblx0XHRcdFx0XHR0YXNrczogWyd0YXNrc1NlcnZpY2UnLCBnZXRUYXNrc10sXHJcblx0XHRcdFx0XHRldmVudHM6IFsnZXZlbnRzU2VydmljZScsIGdldEV2ZW50c11cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC53aGVuKCcvYWRtaW4nLCB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9hZG1pbi9hZG1pbi5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnQWRtaW5Db250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0aXNBZG1pbjogWydhY2Nlc3NTZXJ2aWNlJywgaXNBZG1pbl1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5vdGhlcndpc2Uoe1xyXG5cdFx0XHRcdHJlZGlyZWN0VG86ICcvbG9naW4nXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEV2ZW50cyhldmVudHNTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBldmVudHNTZXJ2aWNlLmdldEV2ZW50cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFRhc2tzKHRhc2tzU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gdGFza3NTZXJ2aWNlLmdldFRhc2tzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKGFjY2Vzc1NlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGFjY2Vzc1NlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNBZG1pbihhY2Nlc3NTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBhY2Nlc3NTZXJ2aWNlLmlzQWRtaW4oKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2FwcFNlcnZpY2UnLCBhcHBTZXJ2aWNlKTtcclxuXHJcblx0YXBwU2VydmljZS4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnc3RhdHVzU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGFwcFNlcnZpY2UoJGxvY2F0aW9uLCBzdGF0dXNTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyb3V0ZUNoYW5nZUVycm9yOiByb3V0ZUNoYW5nZUVycm9yXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJvdXRlQ2hhbmdlRXJyb3IoZXZlbnQsIGN1cnJlbnQsIHByZXZpb3VzLCByZWplY3Rpb24pIHtcclxuXHRcdFx0aWYgKHJlamVjdGlvbiA9PT0gc3RhdHVzU2VydmljZS5VTkFVVEhPUklaRUQpIHtcclxuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcblx0XHRcdH0gZWxzZSBpZiAocmVqZWN0aW9uID09PSBzdGF0dXNTZXJ2aWNlLkZPUkJJRERFTikge1xyXG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvZm9yYmlkZGVuJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyB0aGUgYXBpIG9mIHRoZSB2YXJpb3VzIGl0ZW0gdHlwZXMuXHJcblx0KiBBbiBpbnN0YW5jZSBvZiBjcnVkIG11c3QgYmUgY3JlYXRlZCBpbiBvcmRlciB0byB1c2UgdGhlIHNlcnZpY2UuXHJcblx0KlxyXG5cdCogQWxsIHByb21pc2VzIHJldHVybiAnc3VjY2VzcycgYW5kIGVpdGhlciAnZGF0YScgb24gc3VjY2VzcyBvciwgb24gZXJyb3IsICd0aXRsZSdcclxuXHQqIHdpdGggYSBnZW5lcmFsIGVycm9yIGFuZCAnZGV0YWlscycgd2l0aCBtb3JlIGRldGFpbHMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjcnVkU2VydmljZScsIGNydWRTZXJ2aWNlKTtcclxuXHJcblx0Y3J1ZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIGNydWRTZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgY3J1ZCA9IGluaXQ7XHJcblx0XHRjcnVkLnByb3RvdHlwZSA9IHtcclxuXHRcdFx0Z2V0OiBnZXQsXHJcblx0XHRcdGdldFdoZXJlOiBnZXRXaGVyZSxcclxuXHRcdFx0Y3JlYXRlOiBjcmVhdGUsXHJcblx0XHRcdHVwZGF0ZTogdXBkYXRlLFxyXG5cdFx0XHRyZW1vdmU6IHJlbW92ZSxcclxuXHRcdFx0cmVtb3ZlV2hlcmU6IHJlbW92ZVdoZXJlLFxyXG5cdFx0XHRyZW1vdmVVbmVjZXNzYXJ5S2V5czogcmVtb3ZlVW5lY2Vzc2FyeUtleXNcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGNydWQ7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgdGhlIGJhc2UgdXJsIHVzaW5nIHRoZSB0eXBlIG9mIGl0ZW0gdG8gYmUgY2FsbGVkIG9uLlxyXG5cdFx0KiBBY3Rpdml0aWVzIGFuZCB0aGVpciBwYXJlbnRzIGhhdmUgYSBzcGVjaWZpYyBzdWJmb2xkZXIgdG8gYmUgcG9pbnRlZCB0byxcclxuXHRcdCogd2hpbGUgb3RoZXJzIGRvIG5vdC5cclxuXHRcdCpcclxuXHRcdCogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZSBvZiBpdGVtLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGluaXQodHlwZSkge1xyXG5cdFx0XHQvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXHJcblx0XHRcdHRoaXMudHlwZSA9IHR5cGU7XHJcblx0XHRcdHRoaXMuYmFzZSA9ICdhcGkvJztcclxuXHRcdFx0c3dpdGNoICh0eXBlKSB7XHJcblx0XHRcdFx0Y2FzZSAnZXZlbnQnOlxyXG5cdFx0XHRcdGNhc2UgJ2NhbGVuZGFyJzpcclxuXHRcdFx0XHRcdHRoaXMuYmFzZSArPSAnYWN0aXZpdHkvY2FsZW5kYXIvJztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ2xhYmVsJzpcclxuXHRcdFx0XHRjYXNlICd0YXNrJzpcclxuXHRcdFx0XHRcdHRoaXMuYmFzZSArPSAnYWN0aXZpdHkvdGFzay8nO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdHRoaXMuYmFzZSArPSB0eXBlICsgJy8nO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuYmFzZSArPSB0eXBlICsgJ01hbmFnZXIucGhwJztcclxuXHRcdFx0LyoganNoaW50IGlnbm9yZTplbmQgKi9cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0aWRcdFx0SUQgb2YgaXRlbSB0eXBlIHRvIGdldC5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT0gcXVlcnkgcmVzdWx0cyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldChpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KHRoaXMuYmFzZSArICc/aWQ9JyArIGlkKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0gXHR7c3RyaW5nfVx0d2hlcmUgXHRXaGVyZSBjbGF1c2UuXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdHVzZXJJRFx0Rm9yIGFjdGl2aXRpZXMgKHRhc2tzLCBldmVudHMpLCB0aGUgY29ycmVzcG9uZGluZ1xyXG5cdFx0Klx0XHRcdFx0XHRcdFx0XHR1c2VyIGZvciB0aGUgYWN0aXZpdHkuIFBhc3MgZW1wdHkgc3RyaW5nXHJcblx0XHQqXHRcdFx0XHRcdFx0XHRcdG90aGVyd2lzZS5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT0gcXVlcnkgcmVzdWx0cyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFdoZXJlKHdoZXJlLCB1c2VySUQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGlzLmJhc2UgKyAnP3VzZXdoZXJlPXRydWUmd2hlcmU9JyArIGVzY2FwZSh3aGVyZSkgKyAnJmlkPScgKyB1c2VySUQpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e21peGVkW119XHRkYXRhXHREYXRhIG9mIGl0ZW0gdG8gY3JlYXRlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PT0gMSBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZShkYXRhKSB7XHJcblx0XHRcdGRhdGEgPSB0aGlzLnJlbW92ZVVuZWNlc3NhcnlLZXlzKGRhdGEpOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KHRoaXMuYmFzZSwgZGF0YSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0aWRcdFx0SUQgb2YgaXRlbSB0eXBlIHRvIHVwZGF0ZS5cclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX1cdGRhdGFcdERhdGEgb2YgaXRlbSB0byB1cGRhdGUuXHJcblx0XHQqXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAnMScgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiB1cGRhdGUoaWQsIGRhdGEpIHtcclxuXHRcdFx0ZGF0YSA9IHRoaXMucmVtb3ZlVW5lY2Vzc2FyeUtleXMoZGF0YSk7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCwgZGF0YSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0aWRcdFx0SUQgb2YgaXRlbSB0eXBlIHRvIGRlbGV0ZS5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT09IDEgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmUoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIFx0e3N0cmluZ31cdHdoZXJlIFx0V2hlcmUgY2xhdXNlLlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHR1c2VySURcdEZvciBhY3Rpdml0aWVzICh0YXNrcywgZXZlbnRzKSwgdGhlIGNvcnJlc3BvbmRpbmdcclxuXHRcdCpcdFx0XHRcdFx0XHRcdFx0dXNlciBmb3IgdGhlIGFjdGl2aXR5LiBQYXNzIGVtcHR5IHN0cmluZ1xyXG5cdFx0Klx0XHRcdFx0XHRcdFx0XHRvdGhlcndpc2UuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID49IDAgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmVXaGVyZSh3aGVyZSwgdXNlcklEKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUodGhpcy5iYXNlICsgJz93aGVyZT10cnVlJmlkPScgKyB1c2VySUQsIHdoZXJlKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUZhaWxlZChlcnJvcikge1xyXG5cdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRzdWNjZXNzOiAnZmFsc2UnLFxyXG5cdFx0XHRcdHRpdGxlOiAnRXJyb3Igd2hlbiBxdWVyeWluZyBzZXJ2ZXIuJyxcclxuXHRcdFx0XHRtZXNzYWdlOiBlcnJvclxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJdGVtIGRhdGEgcGFzc2VkIGluIG1heSBzdGlsbCBoYXZlIHRoZWlyIGlkcyBvciBhbGlhcyBmaWVsZHMgKGZvciBhY3Rpdml0aWVzKVxyXG5cdFx0KiBlbWJlZGRlZCwgd2hpY2ggd2lsbCBjYW4gY2F1c2UgZXJyb3JzIGluIHRoZSBTUUwuXHJcblx0XHQqXHJcblx0XHQqIEBwYXJhbVx0e21peGVkW119IGRhdGFcclxuXHRcdCogQHJldHVyblx0e21peGVkW119XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlVW5lY2Vzc2FyeUtleXMoZGF0YSkge1xyXG5cdFx0XHR2YXIgdG9EZWxldGUgPSBbJ2lkJywgJ3BlcnNvbl9pZCcsIHRoaXMudHlwZSArICdfaWQnLCAnYWN0aXZpdHlfaW5mb19pZCcsICdwYXJlbnRfbmFtZSddOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdG9EZWxldGUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRkZWxldGUgZGF0YVt0b0RlbGV0ZVtpXV07XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCogVXNlZCB0byBhY2Nlc3Mgc2Vzc2lvbiB2YXJpYWJsZXMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdzZXNzaW9uU2VydmljZScsIHNlc3Npb25TZXJ2aWNlKTtcclxuXHJcblx0c2Vzc2lvblNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIHNlc3Npb25TZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5iYXNlID0gJ2FwaS9zZXNzaW9uL3Nlc3Npb25WYXJNYW5hZ2VyLnBocD92YXI9JztcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRWYXI6IGdldFZhcixcclxuXHRcdFx0c2V0VmFyOiBzZXRWYXJcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ30gJG5hbWVcdFZhcmlhYmxlIG5hbWUgdG8gZ2V0IGZyb20gc2Vzc2lvbi5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ30gXHRcdFByb21pc2Ugb3IgZXJyb3Igb24gZmFpbC5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXRWYXIoJG5hbWUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh2bS5iYXNlICsgJG5hbWUpXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfSAkbmFtZVx0VmFyaWFibGUgbmFtZSB0byBnZXQgZnJvbSBzZXNzaW9uLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfSBcdFx0UHJvbWlzZSBvciBlcnJvciBvbiBmYWlsLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHNldFZhcigkbmFtZSwgJHZhbHVlKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KHZtLmJhc2UgKyAkbmFtZSwgJHZhbHVlKVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHJldHVybiByZXNwb25zZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlRmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHN1Y2Nlc3M6ICdmYWxzZScsXHJcblx0XHRcdFx0dGl0bGU6ICdFcnJvciB3aGVuIGFjY2Vzc2luZyB2YXJpYWJsZS4nLFxyXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignRXZlbnRzQ29udHJvbGxlcicsIEV2ZW50c0NvbnRyb2xsZXIpO1xyXG5cclxuXHRFdmVudHNDb250cm9sbGVyLiRpbmplY3QgPSBbJ2V2ZW50c1NlcnZpY2UnLCAnZXZlbnRNb2RhbFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBFdmVudHNDb250cm9sbGVyKGV2ZW50c1NlcnZpY2UsIGV2ZW50TW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uc2hvd0V2ZW50TW9kYWwgPSBzaG93RXZlbnRNb2RhbDtcclxuXHJcblx0XHRmdW5jdGlvbiBzaG93RXZlbnRNb2RhbChldmVudCkge1xyXG5cdFx0XHRldmVudE1vZGFsU2VydmljZS5vcGVuRXZlbnRNb2RhbChldmVudCkudGhlbih1cGRhdGVFdmVudHMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUV2ZW50cyhyZXNwb25zZSkge1xyXG5cdFx0XHRpZiAocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2bS5ldmVudHMgPSByZXNwb25zZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcEV2ZW50cycsIGV2ZW50c0RpcmVjdGl2ZSk7XHJcblxyXG5cdGZ1bmN0aW9uIGV2ZW50c0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9ldmVudHMvZXZlbnRzLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnRXZlbnRzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRldmVudHM6ICc9JyxcclxuXHRcdFx0XHRvcmRlcjogJz0nXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdldmVudHNTZXJ2aWNlJywgZXZlbnRzU2VydmljZSk7XHJcblxyXG5cdGV2ZW50c1NlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZycsICdjcnVkU2VydmljZScsICdzZXNzaW9uU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGV2ZW50c1NlcnZpY2UoJGh0dHAsICRsb2csIGNydWRTZXJ2aWNlLCBzZXNzaW9uU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0dm0uZXZlbnQgPSBuZXcgY3J1ZFNlcnZpY2UoJ2V2ZW50Jyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y3JlYXRlRXZlbnQ6IGNyZWF0ZUV2ZW50LFxyXG5cdFx0XHRjcmVhdGVPclVwZGF0ZUV2ZW50OiBjcmVhdGVPclVwZGF0ZUV2ZW50LFxyXG5cdFx0XHRkZWxldGVFdmVudDogZGVsZXRlRXZlbnQsXHJcblx0XHRcdGdldEV2ZW50czogZ2V0RXZlbnRzLFxyXG5cdFx0XHR1cGRhdGVFdmVudDogdXBkYXRlRXZlbnRcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlRXZlbnQoZXZlbnQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmV2ZW50LmNyZWF0ZShldmVudCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRXZlbnQoZXZlbnQpIHtcclxuXHRcdFx0aWYgKCFldmVudC5ldmVudF9pZCkge1xyXG5cdFx0XHRcdHJldHVybiBjcmVhdGVFdmVudChldmVudCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHVwZGF0ZUV2ZW50KGV2ZW50LmV2ZW50X2lkLCBldmVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlRXZlbnQoaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmV2ZW50LnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEV2ZW50cygpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignaWQnKVxyXG5cdFx0XHRcdC50aGVuKGdldEV2ZW50V2l0aFVzZXJJRCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBnZXRFdmVudFdpdGhVc2VySUQocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRcdHJldHVybiB2bS5ldmVudC5nZXRXaGVyZSgnJywgcmVzLmRhdGEpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUV2ZW50KGlkLCBldmVudCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uZXZlbnQudXBkYXRlKGlkLCBldmVudCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCogQ29tcGFyZSBhbiBpbnB1dCBmaWVsZCB0byBhbm90aGVyIGZpZWxkLCBkZXRlcm1pbmVkIGJ5IHRoZSBkZXYuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwQ29tcGFyZVRvJywgY29tcGFyZVRvKTtcclxuXHJcblx0ZnVuY3Rpb24gY29tcGFyZVRvKCkge1xyXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcclxuXHRcdFx0cmVxdWlyZTogJ25nTW9kZWwnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdG90aGVyTW9kZWw6ICc9c3BDb21wYXJlVG8nXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGxpbmtcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XHJcblx0XHRcdHZhciB1bmJpbmRXYXRjaCA9IHNjb3BlLiR3YXRjaCgnb3RoZXJNb2RlbCcsIHZhbGlkYXRlT25DaGFuZ2UpO1xyXG5cdFx0XHRuZ01vZGVsLiR2YWxpZGF0b3JzLnNwQ29tcGFyZVRvID0gY29tcGFyZVZhbHVlcztcclxuXHRcdFx0ZWxlbWVudC5vbignJGRlc3Ryb3knLCBjbGVhblVwKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNsZWFuVXAoKSB7XHJcblx0XHRcdFx0dW5iaW5kV2F0Y2goKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY29tcGFyZVZhbHVlcyh2aWV3VmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gKHZpZXdWYWx1ZSA9PT0gc2NvcGUub3RoZXJNb2RlbC4kdmlld1ZhbHVlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gdmFsaWRhdGVPbkNoYW5nZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuXHRcdFx0XHRuZ01vZGVsLiR2YWxpZGF0ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXIpO1xyXG5cclxuXHRMb2dpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnbG9naW5TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gTG9naW5Db250cm9sbGVyKGxvZ2luU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdHZtLmVycm9yID0gJyc7XHJcblxyXG5cdFx0dm0ubG9naW4gPSBsb2dpbjtcclxuXHJcblx0XHQvKipcclxuXHRcdCogTG9naW5TZXJ2aWNlIHdpbGwgcmVkaXJlY3QgaWYgdGhlcmUgaXMgbm8gZXJyb3IuIFRodXMsIHRoZXJlJ3Mgb25seSBhXHJcblx0XHQqIG5lZWQgdG8gcmV0dXJuIGEgcHJvbWlzZSBpZiB0aGVyZSdzIGFuIGVycm9yLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGxvZ2luKCkge1xyXG5cdFx0XHR2bS5sb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0bG9naW5TZXJ2aWNlLmxvZ2luKHZtLnVzZXIpXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHZtLmVycm9yID0gcmVzcG9uc2U7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdsb2dpblNlcnZpY2UnLCBsb2dpblNlcnZpY2UpO1xyXG5cclxuXHRsb2dpblNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvY2F0aW9uJywgJyRsb2cnXTtcclxuXHRmdW5jdGlvbiBsb2dpblNlcnZpY2UoJGh0dHAsICRsb2NhdGlvbiwgJGxvZykge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxvZ2luOiBsb2dpblxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsb2dpbih1c2VyKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCdhcGkvdXNlci9sb2dpbk1hbmFnZXIucGhwJywgdXNlcilcclxuXHRcdFx0XHQudGhlbihsb2dpbkNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChsb2dpbkZhaWxlZCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dpbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdHJldHVybiByZXNwb25zZS5kYXRhLnRpdGxlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2Rhc2hib2FyZCcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dpbkZhaWxlZChlcnJvcikge1xyXG5cdFx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRcdHJldHVybiAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ01vZGFsQ29udHJvbGxlcicsIE1vZGFsQ29udHJvbGxlcik7XHJcblxyXG5cdE1vZGFsQ29udHJvbGxlci4kaW5qZWN0ID0gWyckdWliTW9kYWxJbnN0YW5jZScsICdncm91cHMnLCAnaXRlbSddO1xyXG5cdGZ1bmN0aW9uIE1vZGFsQ29udHJvbGxlcigkdWliTW9kYWxJbnN0YW5jZSwgZ3JvdXBzLCBpdGVtKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uZ3JvdXBzID0gZ3JvdXBzO1xyXG5cdFx0dm0uaXRlbSA9IGl0ZW07XHJcblx0XHR2bS5jbG9zZSA9IGNsb3NlO1xyXG5cdFx0dm0uY2FuY2VsID0gY2FuY2VsO1xyXG5cdFx0dm0uY29uZmlybSA9IGNvbmZpcm07XHJcblx0XHR2bS5yZW1vdmUgPSByZW1vdmU7XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2xvc2UoKSB7XHJcblx0XHRcdCR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2FuY2VsKCkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZW1vdmUoZGF0YSkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKGRhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNvbmZpcm0oZGF0YSkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShkYXRhKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1Rhc2tzQ29udHJvbGxlcicsIFRhc2tzQ29udHJvbGxlcik7XHJcblxyXG5cdFRhc2tzQ29udHJvbGxlci4kaW5qZWN0ID0gWyd0YXNrc1NlcnZpY2UnLCAndGFza01vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFRhc2tzQ29udHJvbGxlcih0YXNrc1NlcnZpY2UsIHRhc2tNb2RhbFNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5zaG93VGFza01vZGFsID0gc2hvd1Rhc2tNb2RhbDtcclxuXHRcdHZtLnRvZ2dsZUNvbXBsZXRlZCA9IHRvZ2dsZUNvbXBsZXRlZDtcclxuXHJcblx0XHRmdW5jdGlvbiBzaG93VGFza01vZGFsKHRhc2spIHtcclxuXHRcdFx0dGFza01vZGFsU2VydmljZS5vcGVuVGFza01vZGFsKHRhc2spLnRoZW4odXBkYXRlVGFza3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZCh0YXNrKSB7XHJcblx0XHRcdHRhc2tzU2VydmljZS50b2dnbGVDb21wbGV0ZWQodGFzaykudGhlbih1cGRhdGVUYXNrcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlVGFza3MocmVzcG9uc2UpIHtcclxuXHRcdFx0aWYgKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dm0udGFza3MgPSByZXNwb25zZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFRhc2tzJywgdGFza3NEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiB0YXNrc0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy90YXNrcy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1Rhc2tzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHR0YXNrczogJz0nLFxyXG5cdFx0XHRcdG9yZGVyOiAnPSdcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3Rhc2tzU2VydmljZScsIHRhc2tzU2VydmljZSk7XHJcblxyXG5cdHRhc2tzU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ2NydWRTZXJ2aWNlJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gdGFza3NTZXJ2aWNlKCRodHRwLCAkbG9nLCBjcnVkU2VydmljZSwgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLnRhc2sgPSBuZXcgY3J1ZFNlcnZpY2UoJ3Rhc2snKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVUYXNrOiBjcmVhdGVUYXNrLFxyXG5cdFx0XHRjcmVhdGVPclVwZGF0ZVRhc2s6IGNyZWF0ZU9yVXBkYXRlVGFzayxcclxuXHRcdFx0ZGVsZXRlVGFzazogZGVsZXRlVGFzayxcclxuXHRcdFx0Z2V0VGFza3M6IGdldFRhc2tzLFxyXG5cdFx0XHR0b2dnbGVDb21wbGV0ZWQ6IHRvZ2dsZUNvbXBsZXRlZCxcclxuXHRcdFx0dXBkYXRlVGFzazogdXBkYXRlVGFza1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVUYXNrKHRhc2spIHtcclxuXHRcdFx0cmV0dXJuIHZtLnRhc2suY3JlYXRlKHRhc2spLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVRhc2sodGFzaykge1xyXG5cdFx0XHRpZiAoIXRhc2sudGFza19pZCkge1xyXG5cdFx0XHRcdHJldHVybiBjcmVhdGVUYXNrKHRhc2spO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB1cGRhdGVUYXNrKHRhc2sudGFza19pZCwgdGFzayk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlVGFzayhpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0udGFzay5yZW1vdmUoaWQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRUYXNrcygpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignaWQnKVxyXG5cdFx0XHRcdC50aGVuKGdldFRhc2tXaXRoVXNlcklEKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldFRhc2tXaXRoVXNlcklEKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdm0udGFzay5nZXRXaGVyZSgnJywgcmVzLmRhdGEpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZCh0YXNrKSB7XHJcblx0XHRcdHRhc2suY29tcGxldGVkID0gIXBhcnNlSW50KHRhc2suY29tcGxldGVkKTtcclxuXHRcdFx0cmV0dXJuIHVwZGF0ZVRhc2sodGFzay50YXNrX2lkLCB0YXNrKS50aGVuKGdldFRhc2tzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVUYXNrKGlkLCB0YXNrKSB7XHJcblx0XHRcdHJldHVybiB2bS50YXNrLnVwZGF0ZShpZCwgdGFzaykudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignRGFzaGJvYXJkQ29udHJvbGxlcicsIERhc2hib2FyZENvbnRyb2xsZXIpO1xyXG5cclxuXHREYXNoYm9hcmRDb250cm9sbGVyLiRpbmplY3QgPSBbJ2lzQXV0aGVudGljYXRlZCcsICd0YXNrcycsICdldmVudHMnXTtcclxuXHRmdW5jdGlvbiBEYXNoYm9hcmRDb250cm9sbGVyKGlzQXV0aGVudGljYXRlZCwgdGFza3MsIGV2ZW50cykge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLnRhc2tzID0gdGFza3M7XHJcblx0XHR2bS5ldmVudHMgPSBldmVudHM7XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdSZWdpc3RlckNvbnRyb2xsZXInLCBSZWdpc3RlckNvbnRyb2xsZXIpO1xyXG5cclxuXHRSZWdpc3RlckNvbnRyb2xsZXIuJGluamVjdCA9IFsncmVnaXN0ZXJTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gUmVnaXN0ZXJDb250cm9sbGVyKHJlZ2lzdGVyU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmVycm9yID0gJyc7XHJcblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR2bS5yZWdpc3RlciA9IHJlZ2lzdGVyO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xyXG5cdFx0XHR2bS5sb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0cmVnaXN0ZXJTZXJ2aWNlLnJlZ2lzdGVyKHZtLnVzZXIpXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHZtLmVycm9yID0gcmVzcG9uc2U7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdyZWdpc3RlclNlcnZpY2UnLCByZWdpc3RlclNlcnZpY2UpO1xyXG5cclxuXHRyZWdpc3RlclNlcnZpY2UuJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJyRsb2cnLCAnY3J1ZFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiByZWdpc3RlclNlcnZpY2UoJGxvY2F0aW9uLCAkbG9nLCBjcnVkU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0dm0uY3J1ZCA9IG5ldyBjcnVkU2VydmljZSgndXNlcicpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlZ2lzdGVyOiByZWdpc3RlclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiByZWdpc3Rlcih1c2VyKSB7XHJcblx0XHRcdHJldHVybiB2bS5jcnVkLmNyZWF0ZSh1c2VyKVxyXG5cdFx0XHRcdC50aGVuKHJlZ2lzdHJhdGlvbkNvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHJlZ2lzdHJhdGlvbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLnN1Y2Nlc3MgPT09ICdmYWxzZScpIHtcclxuXHRcdFx0XHRcdCRsb2cuZXJyb3IocmVzcG9uc2UudGl0bGUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLnRpdGxlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkbG9jYXRpb24udXJsKCcvbG9naW4nKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnYWNjZXNzU2VydmljZScsIGFjY2Vzc1NlcnZpY2UpO1xyXG5cclxuXHRhY2Nlc3NTZXJ2aWNlLiRpbmplY3QgPSBbJyRsb2NhdGlvbicsICckcScsICdzZXNzaW9uU2VydmljZScsICdzdGF0dXNTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gYWNjZXNzU2VydmljZSgkbG9jYXRpb24sICRxLCBzZXNzaW9uU2VydmljZSwgc3RhdHVzU2VydmljZSkge1xyXG5cdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IGlzQXV0aGVudGljYXRlZCxcclxuXHRcdFx0aXNBZG1pbjogaXNBZG1pblxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ25hbWUnKVxyXG5cdFx0XHRcdC50aGVuKGlzQXV0aGVudGljYXRlZENvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZENvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoc3RhdHVzU2VydmljZS5PSyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChzdGF0dXNTZXJ2aWNlLlVOQVVUSE9SSVpFRCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQWRtaW4oKSB7XHJcblxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFN0YXR1cyBjb2RlcyB1c2VkIHdoZW4gYWNjZXNzaW5nIHZhcmlvdXMgcGFnZXMgaW4gdGhlIGFwcC5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LnNlcnZpY2UoJ3N0YXR1c1NlcnZpY2UnLCBzdGF0dXNTZXJ2aWNlKTtcclxuXHJcblx0ZnVuY3Rpb24gc3RhdHVzU2VydmljZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdE9LOiAyMDAsXHJcblx0XHRcdFVOQVVUSE9SSVpFRDogNDAxLFxyXG5cdFx0XHRGT1JCSURERU46IDQwM1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdldmVudE1vZGFsU2VydmljZScsIGV2ZW50TW9kYWxTZXJ2aWNlKTtcclxuXHJcblx0ZXZlbnRNb2RhbFNlcnZpY2UuJGluamVjdCA9IFsnJHVpYk1vZGFsJywgJ2NhbGVuZGFyU2VydmljZScsICdldmVudHNTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gZXZlbnRNb2RhbFNlcnZpY2UoJHVpYk1vZGFsLCBjYWxlbmRhclNlcnZpY2UsIGV2ZW50c1NlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuRXZlbnRNb2RhbDogb3BlbkV2ZW50TW9kYWxcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gb3BlbkV2ZW50TW9kYWwoZXZlbnQpIHtcclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcoZXZlbnQuZHVlKSkge1xyXG5cdFx0XHRcdGV2ZW50LmR1ZSA9IG5ldyBEYXRlKGV2ZW50LmR1ZS5yZXBsYWNlKC8oLispICguKykvLCBcIiQxVCQyWlwiKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGFuZ3VsYXIuaXNTdHJpbmcoZXZlbnQucmVtaW5kZXIpKSB7XHJcblx0XHRcdFx0ZXZlbnQucmVtaW5kZXIgPSBuZXcgRGF0ZShldmVudC5yZW1pbmRlci5yZXBsYWNlKC8oLispICguKykvLCBcIiQxVCQyWlwiKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiAkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9ldmVudHMvbW9kYWwvZXZlbnQubW9kYWwuaHRtbCcsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0Z3JvdXBzOiBjYWxlbmRhclNlcnZpY2UuZ2V0Q2FsZW5kYXJzKCksXHJcblx0XHRcdFx0XHRpdGVtOiBldmVudFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkucmVzdWx0XHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHJldHVybiBldmVudHNTZXJ2aWNlLmNyZWF0ZU9yVXBkYXRlRXZlbnQocmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdC50aGVuKGV2ZW50c1NlcnZpY2UuZ2V0RXZlbnRzKTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiByZXNwb25zZSAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGV2ZW50c1NlcnZpY2UuZGVsZXRlRXZlbnQocmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4oZXZlbnRzU2VydmljZS5nZXRFdmVudHMpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2NhbGVuZGFyU2VydmljZScsIGNhbGVuZGFyU2VydmljZSk7XHJcblxyXG5cdGNhbGVuZGFyU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ2NydWRTZXJ2aWNlJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gY2FsZW5kYXJTZXJ2aWNlKCRodHRwLCAkbG9nLCBjcnVkU2VydmljZSwgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmNhbGVuZGFyID0gbmV3IGNydWRTZXJ2aWNlKCdjYWxlbmRhcicpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZUNhbGVuZGFyOiBjcmVhdGVDYWxlbmRhcixcclxuXHRcdFx0ZGVsZXRlQ2FsZW5kYXI6IGRlbGV0ZUNhbGVuZGFyLFxyXG5cdFx0XHRnZXRDYWxlbmRhcnM6IGdldENhbGVuZGFycyxcclxuXHRcdFx0dXBkYXRlQ2FsZW5kYXI6IHVwZGF0ZUNhbGVuZGFyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZUNhbGVuZGFyKGNhbGVuZGFyKSB7XHJcblx0XHRcdHJldHVybiB2bS5jYWxlbmRhci5jcmVhdGUoY2FsZW5kYXIpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVDYWxlbmRhcihpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXIucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0Q2FsZW5kYXJzKCkge1xyXG5cdFx0XHRyZXR1cm4gc2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCdpZCcpXHJcblx0XHRcdFx0LnRoZW4oZ2V0Q2FsZW5kYXJXaXRoVXNlcklEKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldENhbGVuZGFyV2l0aFVzZXJJRChyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGlmIChyZXMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyLmdldFdoZXJlKCdwZXJzb25faWQ9JyArIHJlcy5kYXRhLCAnJykudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gcmVzLnRpdGxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlQ2FsZW5kYXIoaWQsIGNhbGVuZGFyKSB7XHJcblx0XHRcdHJldHVybiB2bS5jYWxlbmRhci51cGRhdGUoaWQsIGNhbGVuZGFyKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdsYWJlbFNlcnZpY2UnLCBsYWJlbFNlcnZpY2UpO1xyXG5cclxuXHRsYWJlbFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZycsICdjcnVkU2VydmljZScsICdzZXNzaW9uU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGxhYmVsU2VydmljZSgkaHR0cCwgJGxvZywgY3J1ZFNlcnZpY2UsIHNlc3Npb25TZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5sYWJlbCA9IG5ldyBjcnVkU2VydmljZSgnbGFiZWwnKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVMYWJlbDogY3JlYXRlTGFiZWwsXHJcblx0XHRcdGRlbGV0ZUxhYmVsOiBkZWxldGVMYWJlbCxcclxuXHRcdFx0Z2V0TGFiZWxzOiBnZXRMYWJlbHMsXHJcblx0XHRcdHVwZGF0ZUxhYmVsOiB1cGRhdGVMYWJlbFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVMYWJlbChsYWJlbCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWwuY3JlYXRlKGxhYmVsKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlTGFiZWwoaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmxhYmVsLnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldExhYmVscygpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignaWQnKVxyXG5cdFx0XHRcdC50aGVuKGdldExhYmVsV2l0aFVzZXJJRCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBnZXRMYWJlbFdpdGhVc2VySUQocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRcdHJldHVybiB2bS5sYWJlbC5nZXRXaGVyZSgncGVyc29uX2lkPScgKyByZXMuZGF0YSwgJycpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUxhYmVsKGlkLCBsYWJlbCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWwudXBkYXRlKGlkLCBsYWJlbCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignSGVhZGVyQ29udHJvbGxlcicsIEhlYWRlckNvbnRyb2xsZXIpO1xyXG5cclxuXHRIZWFkZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICdoZWFkZXJTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gSGVhZGVyQ29udHJvbGxlcigkc2NvcGUsIGhlYWRlclNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5uYW1lID0gJyc7XHJcblx0XHR2bS51cmwgPSAnJztcclxuXHJcblx0XHRoZWFkZXJTZXJ2aWNlLmdldFVzZXIoKVxyXG5cdFx0XHQudGhlbihnZXRVc2VyQ29tcGxldGUpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXJDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHQkc2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2bS5uYW1lID0gKHJlc3BvbnNlLm5hbWUgPT09IGZhbHNlKSA/ICdMb2dpbicgOiByZXNwb25zZS5uYW1lO1xyXG5cdFx0XHRcdHZtLnVybCA9IHJlc3BvbnNlLnVybDtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwSGVhZGVyJywgaGVhZGVyRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gaGVhZGVyRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bGluazogbGluayxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvaGVhZGVyL2hlYWRlci5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2hlYWRlclNlcnZpY2UnLCBoZWFkZXJTZXJ2aWNlKTtcclxuXHJcblx0aGVhZGVyU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gaGVhZGVyU2VydmljZSgkaHR0cCwgJGxvZywgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFVzZXI6IGdldFVzZXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlcigpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignbmFtZScpXHJcblx0XHRcdFx0LnRoZW4oZ2V0TmFtZUNvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldE5hbWVDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cclxuXHRcdFx0XHRpZiAocmVzLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4ge25hbWU6IGZhbHNlLCB1cmw6ICcjL2xvZ2luJ307XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB7bmFtZTogcmVzLmRhdGEsIHVybDogJyMvZGFzaGJvYXJkJ307XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd0YXNrTW9kYWxTZXJ2aWNlJywgdGFza01vZGFsU2VydmljZSk7XHJcblxyXG5cdHRhc2tNb2RhbFNlcnZpY2UuJGluamVjdCA9IFsnJHVpYk1vZGFsJywgJ2xhYmVsU2VydmljZScsICd0YXNrc1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiB0YXNrTW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgbGFiZWxTZXJ2aWNlLCB0YXNrc1NlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuVGFza01vZGFsOiBvcGVuVGFza01vZGFsXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIG9wZW5UYXNrTW9kYWwodGFzaykge1xyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyh0YXNrLmR1ZSkpIHtcclxuXHRcdFx0XHR0YXNrLmR1ZSA9IG5ldyBEYXRlKHRhc2suZHVlLnJlcGxhY2UoLyguKykgKC4rKS8sIFwiJDFUJDJaXCIpKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoYW5ndWxhci5pc1N0cmluZyh0YXNrLnJlbWluZGVyKSkge1xyXG5cdFx0XHRcdHRhc2sucmVtaW5kZXIgPSBuZXcgRGF0ZSh0YXNrLnJlbWluZGVyLnJlcGxhY2UoLyguKykgKC4rKS8sIFwiJDFUJDJaXCIpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuICR1aWJNb2RhbC5vcGVuKHtcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTW9kYWxDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL3Rhc2tzL21vZGFsL3Rhc2subW9kYWwuaHRtbCcsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0Z3JvdXBzOiBsYWJlbFNlcnZpY2UuZ2V0TGFiZWxzKCksXHJcblx0XHRcdFx0XHRpdGVtOiB0YXNrXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRhc2tzU2VydmljZS5jcmVhdGVPclVwZGF0ZVRhc2socmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdC50aGVuKHRhc2tzU2VydmljZS5nZXRUYXNrcyk7XHJcblx0XHRcdFx0fSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgcmVzcG9uc2UgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB0YXNrc1NlcnZpY2UuZGVsZXRlVGFzayhyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0XHQudGhlbih0YXNrc1NlcnZpY2UuZ2V0VGFza3MpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1NpZGViYXJDb250cm9sbGVyJywgU2lkZWJhckNvbnRyb2xsZXIpO1xyXG5cclxuXHRmdW5jdGlvbiBTaWRlYmFyQ29udHJvbGxlcigpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdFx0dm0uY29sbGFwc2VkID0gdHJ1ZTtcclxuXHJcblx0XHR2bS50b2dnbGVTaWRlYmFyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZtLmNvbGxhcHNlZCA9ICF2bS5jb2xsYXBzZWQ7XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFNpZGViYXInLCBzaWRlYmFyRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gc2lkZWJhckRpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvbGF5b3V0L3NpZGViYXIvc2lkZWJhci5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1NpZGViYXJDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0XHRcdHNjb3BlLiR3YXRjaChhdHRycy5zaWRlYmFyRGlyZWN0aXZlLCB0b2dnbGVTaWRlYmFyKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHRvZ2dsZVNpZGViYXIoY29sbGFwc2VkKSB7XHJcblx0XHRcdFx0aWYgKGNvbGxhcHNlZCkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
