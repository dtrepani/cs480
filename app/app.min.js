!function(){"use strict";function e(e,t){e.$on("$routeChangeError",t.routeChangeError)}angular.module("app",["ngRoute","ui.bootstrap","angularMoment"]).controller("AppController",e),e.$inject=["$rootScope","appService"]}(),function(){"use strict";function e(e){function t(e){return e.getCalendars()}function n(e){return e.getEvents()}function r(e){return e.getLabels()}function a(e){return e.getTasks()}function o(e){return e.isAuthenticated()}function i(e){return e.isAdmin()}e.when("/login",{templateUrl:"modules/login/login.html",controller:"LoginController",controllerAs:"vm"}).when("/logout",{templateUrl:"modules/logout/logout.html",controller:"LogoutController",controllerAs:"vm"}).when("/register",{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm"}).when("/dashboard",{templateUrl:"pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",o],tasks:["tasksService",a],events:["eventsService",n],labels:["labelService",r],calendars:["calendarService",t]}}).when("/admin",{templateUrl:"pages/admin/admin.html",controller:"AdminController",controllerAs:"vm",resolve:{isAdmin:["accessService",i]}}).otherwise({redirectTo:"/dashboard"})}angular.module("app").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";function e(e,t){function n(n,r,a,o){o===t.UNAUTHORIZED?e.path("/login"):o===t.FORBIDDEN&&e.path("/forbidden")}return{routeChangeError:n}}angular.module("app").factory("appService",e),e.$inject=["$location","statusService"]}(),function(){"use strict";function e(e){return function(t,n){for(var r=[],a=0;a<t.length;a++){var o=n.isSame(e(t[a].dt_start),"day");o||(o=n.isSame(e(t[a].dt_end),"day")),o&&r.push(t[a])}return r}}angular.module("app").filter("sameDayAs",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t){function n(e){switch(this.type=e,this.base="api/",e){case"event":case"calendar":this.base+="activity/calendar/";break;case"label":case"task":this.base+="activity/task/";break;default:this.base+=e+"/"}this.base+=e+"Manager.php"}function r(t){return e.get(this.base+"?id="+t).then(s)["catch"](l)}function a(t,n){return e.get(this.base+"?usewhere=true&where="+escape(t)+"&id="+n).then(s)["catch"](l)}function o(t){return t=this.removeUnecessaryKeys(t),e.post(this.base,t).then(s)["catch"](l)}function i(t,n){return n=this.removeUnecessaryKeys(n),e.put(this.base+"?id="+t,n).then(s)["catch"](l)}function c(t){return e["delete"](this.base+"?id="+t).then(s)["catch"](l)}function u(t,n){return e["delete"](this.base+"?where=true&id="+n,t).then(s)["catch"](l)}function s(e){return e}function l(e){return t.error(e),{success:"false",title:"Error when querying server.",message:e}}function d(e){for(var t=["id","person_id",this.type+"_id","activity_info_id","parent_name"],n=0;n<t.length;n++)delete e[t[n]];return e}var f=n;return f.prototype={get:r,getWhere:a,create:o,update:i,remove:c,removeWhere:u,removeUnecessaryKeys:d},f}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t){function n(t){return e.get(i.base+t).then(a)["catch"](o)}function r(t,n){return e.post(i.base+t,n).then(a)["catch"](o)}function a(e){return e}function o(e){return t.error(e),{success:"false",title:"Error when accessing variable.",message:e}}var i=this;return i.base="api/session/sessionVarManager.php?var=",{getVar:n,setVar:r}}angular.module("app").factory("sessionService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t,n,r){function a(){l.today=t.getToday(),l.selectedDay=l.today,l.month=t.getMonth(l.today)}function o(e){return t.getEndOfDay(e)}function i(e){return t.isSameDay(e,l.selectedDay)}function c(e){l.selectedDay=e.fullDate}function u(e){r.openEventModal(e,l.calendars).then(s)}function s(e){e&&(l.events=e)}var l=this;l.isSameDayAsSelected=i,l.getEndOfDay=o,l.selectDay=c,l.showEventModal=u,a()}angular.module("app").controller("EventsController",e),e.$inject=["moment","calendarWidgetService","eventsService","eventModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/events/events.html",controller:"EventsController",controllerAs:"vm",bindToController:!0,scope:{events:"=",calendars:"="}}}angular.module("app").directive("spEvents",e)}(),function(){"use strict";function e(e,t,n,r){function a(e){return l.event.create(e).then(s)}function o(e){return e.event_id?u(e.event_id,e):a(e)}function i(e){return l.event.remove(e).then(s)}function c(){function e(e){var t=e.data;return t.success?l.event.getWhere("",t.data).then(s):t.title}return r.getVar("id").then(e)}function u(e,t){return l.event.update(e,t).then(s)}function s(e){var t=e.data;return t.success?t.data:t.title}var l=this;return l.event=new n("event"),{createEvent:a,createOrUpdateEvent:o,deleteEvent:i,getEvents:c,updateEvent:u}}angular.module("app").factory("eventsService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(){function e(e,t,n,r){function a(){c()}function o(t){return t===e.otherModel.$viewValue}function i(e,t){r.$validate()}var c=e.$watch("otherModel",i);r.$validators.spCompareTo=o,t.on("$destroy",a)}var t={require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e};return t}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.login(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.loading=!1,n.error="",n.login=t}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,t,n){function r(r){function a(e){return e.data.success===!1?e.data.title:void t.path("/dashboard")}function o(e){return n.error(e),"Something went wrong. Please try again."}return e.post("api/user/loginManager.php",r).then(a)["catch"](o)}return{login:r}}angular.module("app").factory("loginService",e),e.$inject=["$http","$location","$log"]}(),function(){"use strict";function e(e,t,n){function r(){e.close()}function a(){e.dismiss("cancel")}function o(t){e.dismiss(t)}function i(t){e.close(t)}var c=this;c.groups=t,c.item=n,c.close=r,c.cancel=a,c.confirm=i,c.remove=o}angular.module("app").controller("ModalController",e),e.$inject=["$uibModalInstance","groups","item"]}(),function(){"use strict";function e(e,t){function n(e){t.openTaskModal(e,o.labels).then(a)}function r(t){e.toggleCompleted(t).then(a)}function a(e){e&&(o.tasks=e)}var o=this;o.showTaskModal=n,o.toggleCompleted=r}angular.module("app").controller("TasksController",e),e.$inject=["tasksService","taskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/tasks/tasks.html",controller:"TasksController",controllerAs:"vm",bindToController:!0,scope:{tasks:"=",labels:"=",order:"="}}}angular.module("app").directive("spTasks",e)}(),function(){"use strict";function e(e,t,n,r){function a(e){return d.task.create(e).then(l)}function o(e){return e.task_id?s(e.task_id,e):a(e)}function i(e){return d.task.remove(e).then(l)}function c(){function e(e){var t=e.data;return t.success?d.task.getWhere("",t.data).then(l):t.title}return r.getVar("id").then(e)}function u(e){return e.completed=!parseInt(e.completed),s(e.task_id,e).then(c)}function s(e,t){return d.task.update(e,t).then(l)}function l(e){var t=e.data;return t.success?t.data:t.title}var d=this;return d.task=new n("task"),{createTask:a,createOrUpdateTask:o,deleteTask:i,getTasks:c,toggleCompleted:u,updateTask:s}}angular.module("app").factory("tasksService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t,n){function r(e,t){return n.uploadFile(e).then(function(e){return e})}var a=this;a.uploadFile=r}angular.module("app").controller("UploadController",e),e.$inject=["$scope","$http","uploadService"]}(),function(){"use strict";function e(e){function t(t,n,r){function a(e){t.$apply(function(){var e=n[0].files[0];e.size<=o?t.uc.uploadFile(e).then(function(e){t.spFileChange=e}):alert("File must be less than "+o/1024/1024+"MB.")})}var o=2097152;e(r.spFileChange);n[0].addEventListener("change",a,!1)}return{restrict:"A",controller:"UploadController",controllerAs:"uc",link:t,scope:{spFileChange:"="}}}angular.module("app").directive("spFileChange",e),e.$inject=["$parse"]}(),function(){"use strict";function e(e,t){function n(n){var r=new FormData;return r.append("file",n),e.post("api/upload/uploadManager.php",r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return e.data.success?e.data.data:(t.error(e.title),"")})["catch"](function(e){t.error(e)})}return{uploadFile:n}}angular.module("app").factory("uploadService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t,n,r,a){var o=this;o.tasks=t,o.events=n,o.labels=r,o.calendars=a}angular.module("app").controller("DashboardController",e),e.$inject=["isAuthenticated","tasks","events","labels","calendars"]}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.register(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.error="",n.loading=!1,n.register=t}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,t,n){function r(n){function r(n){return"false"===n.success?(t.error(n.title),n.title):void e.url("/login")}return a.crud.create(n).then(r)}var a=this;return a.crud=new n("user"),{register:r}}angular.module("app").factory("registerService",e),e.$inject=["$location","$log","crudService"]}(),function(){"use strict";function e(e,t,n,r){function a(){function e(e){return e.data.success!==!1?i.resolve(r.OK):i.reject(r.UNAUTHORIZED),i.promise}return n.getVar("name").then(e)}function o(){}var i=t.defer();return{isAuthenticated:a,isAdmin:o}}angular.module("app").factory("accessService",e),e.$inject=["$location","$q","sessionService","statusService"]}(),function(){"use strict";function e(){return{OK:200,UNAUTHORIZED:401,FORBIDDEN:403}}angular.module("app").service("statusService",e)}(),function(){"use strict";function e(e,t,n,r){function a(e){return s.calendar.create(e).then(u)}function o(e){return s.calendar.remove(e).then(u)}function i(){function e(e){var t=e.data;return t.success?s.calendar.getWhere("person_id="+t.data,"").then(u):t.title}return r.getVar("id").then(e)}function c(e,t){return s.calendar.update(e,t).then(u)}function u(e){var t=e.data;return t.success?t.data:t.title}var s=this;return s.calendar=new n("calendar"),{createCalendar:a,deleteCalendar:o,getCalendars:i,updateCalendar:c}}angular.module("app").factory("calendarService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/events/modal/event.modal.html",resolve:{groups:function(){return r},item:t}}).result.then(function(e){return n.createOrUpdateEvent(e).then(n.getEvents)},function(e){return"string"!=typeof e?n.deleteEvent(e).then(n.getEvents):void 0})}return{openEventModal:r}}angular.module("app").factory("eventModalService",e),e.$inject=["$uibModal","calendarService","eventsService"]}(),function(){"use strict";function e(e){function t(e){return e.clone().add(1,"day").subtract(1,"ms")}function n(e){for(var t=[],n=e.clone().date(1).startOf("week"),r=e.month();r===e.month();r=n.month())t.push(a(n,e.month())),n=n.add(1,"weeks");return t}function r(){return e()}function a(t,n){for(var r=[],a=t.clone(),o=0;7>o;o++)r.push({number:a.date(),isTargetMonth:a.month()===n,isToday:a.isSame(e(),"day"),fullDate:a}),a=a.clone().add(1,"days");return r}function o(e,t){return e.isSame(t,"day")}return{getEndOfDay:t,getMonth:n,getToday:r,getWeek:a,isSameDay:o}}angular.module("app").factory("calendarWidgetService",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t,n,r){function a(e){return s.label.create(e).then(u)}function o(e){return s.label.remove(e).then(u)}function i(){function e(e){var t=e.data;return t.success?s.label.getWhere("person_id="+t.data,"").then(u):t.title}return r.getVar("id").then(e)}function c(e,t){return s.label.update(e,t).then(u)}function u(e){var t=e.data;return t.success?t.data:t.title}var s=this;return s.label=new n("label"),{createLabel:a,deleteLabel:o,getLabels:i,updateLabel:c}}angular.module("app").factory("labelService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/tasks/modal/task.modal.html",resolve:{groups:function(){return r},item:t}}).result.then(function(e){return n.createOrUpdateTask(e).then(n.getTasks)},function(e){return"string"!=typeof e?n.deleteTask(e).then(n.getTasks):void 0})}return{openTaskModal:r}}angular.module("app").factory("taskModalService",e),e.$inject=["$uibModal","labelService","tasksService"]}(),function(){"use strict";function e(e,t){function n(t){e.$evalAsync(function(){r.name=t.name===!1?"Login":t.name,r.url=t.url})}var r=this;r.name="",r.url="",t.getUser().then(n)}angular.module("app").controller("HeaderController",e),e.$inject=["$scope","headerService"]}(),function(){"use strict";function e(){function e(e,t,n){}return{link:e,templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spHeader",e)}(),function(){"use strict";function e(e,t,n){function r(){function e(e){var t=e.data;return t.success===!1?{name:!1,url:"#/login"}:{name:t.data,url:"#/dashboard"}}return n.getVar("name").then(e)}return{getUser:r}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log","sessionService"]}(),function(){"use strict";function e(){var e=this;e.collapsed=!0,e.toggleSidebar=function(){e.collapsed=!e.collapsed}}angular.module("app").controller("SidebarController",e)}(),function(){"use strict";function e(){function e(e,t,n){function r(e){e?t.removeClass("collapsed"):t.addClass("collapsed")}e.$watch(n.sidebarDirective,r)}return{link:e,templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spSidebar",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCJhcHBTZXJ2aWNlIiwiJG9uIiwicm91dGVDaGFuZ2VFcnJvciIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJGluamVjdCIsImFwcENvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiZ2V0Q2FsZW5kYXJzIiwiY2FsZW5kYXJTZXJ2aWNlIiwiZ2V0RXZlbnRzIiwiZXZlbnRzU2VydmljZSIsImdldExhYmVscyIsImxhYmVsU2VydmljZSIsImdldFRhc2tzIiwidGFza3NTZXJ2aWNlIiwiaXNBdXRoZW50aWNhdGVkIiwiYWNjZXNzU2VydmljZSIsImlzQWRtaW4iLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyQXMiLCJyZXNvbHZlIiwidGFza3MiLCJldmVudHMiLCJsYWJlbHMiLCJjYWxlbmRhcnMiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiY29uZmlnIiwiJGxvY2F0aW9uIiwic3RhdHVzU2VydmljZSIsImV2ZW50IiwiY3VycmVudCIsInByZXZpb3VzIiwicmVqZWN0aW9uIiwiVU5BVVRIT1JJWkVEIiwicGF0aCIsIkZPUkJJRERFTiIsImZhY3RvcnkiLCJzYW1lRGF5QXMiLCJtb21lbnQiLCJkYXkiLCJzYW1lRGF5RXZlbnRzIiwiaSIsImxlbmd0aCIsInJlc3VsdCIsImlzU2FtZSIsImR0X3N0YXJ0IiwiZHRfZW5kIiwicHVzaCIsImZpbHRlciIsImNydWRTZXJ2aWNlIiwiJGh0dHAiLCIkbG9nIiwiaW5pdCIsInR5cGUiLCJ0aGlzIiwiYmFzZSIsImdldCIsImlkIiwidGhlbiIsInByb21pc2VDb21wbGV0ZSIsInByb21pc2VGYWlsZWQiLCJnZXRXaGVyZSIsIndoZXJlIiwidXNlcklEIiwiZXNjYXBlIiwiY3JlYXRlIiwiZGF0YSIsInJlbW92ZVVuZWNlc3NhcnlLZXlzIiwicG9zdCIsInVwZGF0ZSIsInB1dCIsInJlbW92ZSIsInJlbW92ZVdoZXJlIiwicmVzcG9uc2UiLCJlcnJvciIsInN1Y2Nlc3MiLCJ0aXRsZSIsIm1lc3NhZ2UiLCJ0b0RlbGV0ZSIsImNydWQiLCJwcm90b3R5cGUiLCJzZXNzaW9uU2VydmljZSIsImdldFZhciIsIiRuYW1lIiwidm0iLCJzZXRWYXIiLCIkdmFsdWUiLCJFdmVudHNDb250cm9sbGVyIiwiY2FsZW5kYXJXaWRnZXRTZXJ2aWNlIiwiZXZlbnRNb2RhbFNlcnZpY2UiLCJhY3RpdmF0ZSIsInRvZGF5IiwiZ2V0VG9kYXkiLCJzZWxlY3RlZERheSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJnZXRFbmRPZkRheSIsImlzU2FtZURheUFzU2VsZWN0ZWQiLCJpc1NhbWVEYXkiLCJzZWxlY3REYXkiLCJmdWxsRGF0ZSIsInNob3dFdmVudE1vZGFsIiwib3BlbkV2ZW50TW9kYWwiLCJ1cGRhdGVFdmVudHMiLCJldmVudHNEaXJlY3RpdmUiLCJiaW5kVG9Db250cm9sbGVyIiwic2NvcGUiLCJkaXJlY3RpdmUiLCJjcmVhdGVFdmVudCIsImNyZWF0ZU9yVXBkYXRlRXZlbnQiLCJldmVudF9pZCIsInVwZGF0ZUV2ZW50IiwiZGVsZXRlRXZlbnQiLCJnZXRFdmVudFdpdGhVc2VySUQiLCJyZXMiLCJjb21wYXJlVG8iLCJsaW5rIiwiZWxlbWVudCIsImF0dHJzIiwibmdNb2RlbCIsImNsZWFuVXAiLCJ1bmJpbmRXYXRjaCIsImNvbXBhcmVWYWx1ZXMiLCJ2aWV3VmFsdWUiLCJvdGhlck1vZGVsIiwiJHZpZXdWYWx1ZSIsInZhbGlkYXRlT25DaGFuZ2UiLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwiJHZhbGlkYXRlIiwiJHdhdGNoIiwiJHZhbGlkYXRvcnMiLCJzcENvbXBhcmVUbyIsIm9uIiwicmVxdWlyZSIsIkxvZ2luQ29udHJvbGxlciIsImxvZ2luU2VydmljZSIsImxvZ2luIiwibG9hZGluZyIsInVzZXIiLCJsb2dpbkNvbXBsZXRlIiwibG9naW5GYWlsZWQiLCJNb2RhbENvbnRyb2xsZXIiLCIkdWliTW9kYWxJbnN0YW5jZSIsImdyb3VwcyIsIml0ZW0iLCJjbG9zZSIsImNhbmNlbCIsImRpc21pc3MiLCJjb25maXJtIiwiVGFza3NDb250cm9sbGVyIiwidGFza01vZGFsU2VydmljZSIsInNob3dUYXNrTW9kYWwiLCJ0YXNrIiwib3BlblRhc2tNb2RhbCIsInVwZGF0ZVRhc2tzIiwidG9nZ2xlQ29tcGxldGVkIiwidGFza3NEaXJlY3RpdmUiLCJvcmRlciIsImNyZWF0ZVRhc2siLCJjcmVhdGVPclVwZGF0ZVRhc2siLCJ0YXNrX2lkIiwidXBkYXRlVGFzayIsImRlbGV0ZVRhc2siLCJnZXRUYXNrV2l0aFVzZXJJRCIsImNvbXBsZXRlZCIsInBhcnNlSW50IiwiVXBsb2FkQ29udHJvbGxlciIsIiRzY29wZSIsInVwbG9hZFNlcnZpY2UiLCJ1cGxvYWRGaWxlIiwiZmlsZSIsIm9sZEZpbGUiLCJmaWxlUGF0aCIsInVjIiwic3BGaWxlQ2hhbmdlIiwiJHBhcnNlIiwiZmlsZUhhbmRsZXIiLCIkYXBwbHkiLCJmaWxlcyIsInNpemUiLCJtYXhGaWxlU2l6ZSIsImFsZXJ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3RyaWN0IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInRyYW5zZm9ybVJlcXVlc3QiLCJpZGVudGl0eSIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJ1bmRlZmluZWQiLCJEYXNoYm9hcmRDb250cm9sbGVyIiwiUmVnaXN0ZXJDb250cm9sbGVyIiwicmVnaXN0ZXJTZXJ2aWNlIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb25Db21wbGV0ZSIsInVybCIsIiRxIiwiaXNBdXRoZW50aWNhdGVkQ29tcGxldGUiLCJkZWZlcnJlZCIsIk9LIiwicmVqZWN0IiwicHJvbWlzZSIsImRlZmVyIiwic2VydmljZSIsImNyZWF0ZUNhbGVuZGFyIiwiY2FsZW5kYXIiLCJkZWxldGVDYWxlbmRhciIsImdldENhbGVuZGFyV2l0aFVzZXJJRCIsInVwZGF0ZUNhbGVuZGFyIiwiJHVpYk1vZGFsIiwib3BlbiIsImNsb25lIiwiYWRkIiwic3VidHJhY3QiLCJhRGF5IiwiZGF0ZSIsInN0YXJ0T2YiLCJnZXRXZWVrIiwic3RhcnREYXkiLCJ0YXJnZXRNb250aCIsIndlZWsiLCJudW1iZXIiLCJpc1RhcmdldE1vbnRoIiwiaXNUb2RheSIsImRheTEiLCJkYXkyIiwiY3JlYXRlTGFiZWwiLCJsYWJlbCIsImRlbGV0ZUxhYmVsIiwiZ2V0TGFiZWxXaXRoVXNlcklEIiwidXBkYXRlTGFiZWwiLCJIZWFkZXJDb250cm9sbGVyIiwiaGVhZGVyU2VydmljZSIsImdldFVzZXJDb21wbGV0ZSIsIiRldmFsQXN5bmMiLCJuYW1lIiwiZ2V0VXNlciIsImhlYWRlckRpcmVjdGl2ZSIsImdldE5hbWVDb21wbGV0ZSIsIlNpZGViYXJDb250cm9sbGVyIiwiY29sbGFwc2VkIiwidG9nZ2xlU2lkZWJhciIsInNpZGViYXJEaXJlY3RpdmUiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNDLFlBT0EsU0FBU0EsR0FBY0MsRUFBWUMsR0FDbENELEVBQVdFLElBQUksb0JBQXFCRCxFQUFXRSxrQkFOaERDLFFBQ0VDLE9BQU8sT0FBUSxVQUFXLGVBQWdCLGtCQUMxQ0MsV0FBVyxnQkFBaUJQLEdBRTlCQSxFQUFjUSxTQUFXLGFBQWMsaUJBS3hDLFdBQ0MsWUFPQSxTQUFTQyxHQUFVQyxHQXlDbEIsUUFBU0MsR0FBYUMsR0FDckIsTUFBT0EsR0FBZ0JELGVBR3hCLFFBQVNFLEdBQVVDLEdBQ2xCLE1BQU9BLEdBQWNELFlBR3RCLFFBQVNFLEdBQVVDLEdBQ2xCLE1BQU9BLEdBQWFELFlBR3JCLFFBQVNFLEdBQVNDLEdBQ2pCLE1BQU9BLEdBQWFELFdBR3JCLFFBQVNFLEdBQWdCQyxHQUN4QixNQUFPQSxHQUFjRCxrQkFHdEIsUUFBU0UsR0FBUUQsR0FDaEIsTUFBT0EsR0FBY0MsVUE3RHRCWCxFQUNFWSxLQUFLLFVBQ0xDLFlBQWEsMkJBQ2JoQixXQUFZLGtCQUNaaUIsYUFBYyxPQUVkRixLQUFLLFdBQ0xD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SCxHQUFjRCxHQUNsQkEsRUFDSDlILEVBQVFpSSxZQUFZLGFBRXBCakksRUFBUWtJLFNBQVMsYUFObkI3SSxFQUFNd0IsT0FBT1osRUFBTStILGlCQUFrQkQsR0FUdEMsT0FDQ2hJLEtBQU1BLEVBQ05uRyxZQUFhLG9DQUNiaEIsV0FBWSxvQkFDWmlCLGFBQWMsS0FDZHVGLGtCQUFrQixHQVZwQjFHLFFBQ0VDLE9BQU8sT0FDUDJHLFVBQVUsWUFBYTBJIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnLCBbJ25nUm91dGUnLCAndWkuYm9vdHN0cmFwJywgJ2FuZ3VsYXJNb21lbnQnXSlcclxuXHRcdC5jb250cm9sbGVyKCdBcHBDb250cm9sbGVyJywgQXBwQ29udHJvbGxlcik7XHJcblxyXG5cdEFwcENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdhcHBTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gQXBwQ29udHJvbGxlcigkcm9vdFNjb3BlLCBhcHBTZXJ2aWNlKSB7XHJcblx0XHQkcm9vdFNjb3BlLiRvbignJHJvdXRlQ2hhbmdlRXJyb3InLCBhcHBTZXJ2aWNlLnJvdXRlQ2hhbmdlRXJyb3IpO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29uZmlnKGFwcENvbmZpZyk7XHJcblxyXG5cdGFwcENvbmZpZy4kaW5qZWN0ID0gWyckcm91dGVQcm92aWRlciddO1xyXG5cdGZ1bmN0aW9uIGFwcENvbmZpZygkcm91dGVQcm92aWRlcikge1xyXG5cdFx0JHJvdXRlUHJvdmlkZXJcclxuXHRcdFx0LndoZW4oJy9sb2dpbicsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvbG9naW4vbG9naW4uaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHR9KVxyXG5cdFx0XHQud2hlbignL2xvZ291dCcsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvbG9nb3V0L2xvZ291dC5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTG9nb3V0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nXHJcblx0XHRcdH0pXHJcblx0XHRcdC53aGVuKCcvcmVnaXN0ZXInLCB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9yZWdpc3Rlci9yZWdpc3Rlci5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnUmVnaXN0ZXJDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bSdcclxuXHRcdFx0fSlcclxuXHRcdFx0LndoZW4oJy9kYXNoYm9hcmQnLCB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9kYXNoYm9hcmQvZGFzaGJvYXJkLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdEYXNoYm9hcmRDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0aXNBdXRoZW50aWNhdGVkOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0F1dGhlbnRpY2F0ZWRdLFxyXG5cdFx0XHRcdFx0dGFza3M6IFsndGFza3NTZXJ2aWNlJywgZ2V0VGFza3NdLFxyXG5cdFx0XHRcdFx0ZXZlbnRzOiBbJ2V2ZW50c1NlcnZpY2UnLCBnZXRFdmVudHNdLFxyXG5cdFx0XHRcdFx0bGFiZWxzOiBbJ2xhYmVsU2VydmljZScsIGdldExhYmVsc10sXHJcblx0XHRcdFx0XHRjYWxlbmRhcnM6IFsnY2FsZW5kYXJTZXJ2aWNlJywgZ2V0Q2FsZW5kYXJzXVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LndoZW4oJy9hZG1pbicsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2FkbWluL2FkbWluLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdBZG1pbkNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRpc0FkbWluOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0FkbWluXVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0Lm90aGVyd2lzZSh7XHJcblx0XHRcdFx0cmVkaXJlY3RUbzogJy9kYXNoYm9hcmQnXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENhbGVuZGFycyhjYWxlbmRhclNlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGNhbGVuZGFyU2VydmljZS5nZXRDYWxlbmRhcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRFdmVudHMoZXZlbnRzU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gZXZlbnRzU2VydmljZS5nZXRFdmVudHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRMYWJlbHMobGFiZWxTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBsYWJlbFNlcnZpY2UuZ2V0TGFiZWxzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VGFza3ModGFza3NTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiB0YXNrc1NlcnZpY2UuZ2V0VGFza3MoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoYWNjZXNzU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gYWNjZXNzU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBpc0FkbWluKGFjY2Vzc1NlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGFjY2Vzc1NlcnZpY2UuaXNBZG1pbigpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnYXBwU2VydmljZScsIGFwcFNlcnZpY2UpO1xyXG5cclxuXHRhcHBTZXJ2aWNlLiRpbmplY3QgPSBbJyRsb2NhdGlvbicsICdzdGF0dXNTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gYXBwU2VydmljZSgkbG9jYXRpb24sIHN0YXR1c1NlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJvdXRlQ2hhbmdlRXJyb3I6IHJvdXRlQ2hhbmdlRXJyb3JcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gcm91dGVDaGFuZ2VFcnJvcihldmVudCwgY3VycmVudCwgcHJldmlvdXMsIHJlamVjdGlvbikge1xyXG5cdFx0XHRpZiAocmVqZWN0aW9uID09PSBzdGF0dXNTZXJ2aWNlLlVOQVVUSE9SSVpFRCkge1xyXG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuXHRcdFx0fSBlbHNlIGlmIChyZWplY3Rpb24gPT09IHN0YXR1c1NlcnZpY2UuRk9SQklEREVOKSB7XHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9mb3JiaWRkZW4nKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZpbHRlcignc2FtZURheUFzJywgc2FtZURheUFzKTtcclxuXHJcblx0c2FtZURheUFzLiRpbmplY3QgPSBbJ21vbWVudCddO1xyXG5cdGZ1bmN0aW9uIHNhbWVEYXlBcyhtb21lbnQpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbihldmVudHMsIGRheSkge1xyXG5cdFx0XHR2YXIgc2FtZURheUV2ZW50cyA9IFtdO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgcmVzdWx0ID0gZGF5LmlzU2FtZShtb21lbnQoZXZlbnRzW2ldLmR0X3N0YXJ0KSwgJ2RheScpO1xyXG5cclxuXHRcdFx0XHRpZiAoIXJlc3VsdCkge1xyXG5cdFx0XHRcdFx0cmVzdWx0ID0gZGF5LmlzU2FtZShtb21lbnQoZXZlbnRzW2ldLmR0X2VuZCksICdkYXknKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmKHJlc3VsdCkge1xyXG5cdFx0XHRcdFx0c2FtZURheUV2ZW50cy5wdXNoKGV2ZW50c1tpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gc2FtZURheUV2ZW50cztcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyB0aGUgYXBpIG9mIHRoZSB2YXJpb3VzIGl0ZW0gdHlwZXMuXHJcblx0KiBBbiBpbnN0YW5jZSBvZiBjcnVkIG11c3QgYmUgY3JlYXRlZCBpbiBvcmRlciB0byB1c2UgdGhlIHNlcnZpY2UuXHJcblx0KlxyXG5cdCogQWxsIHByb21pc2VzIHJldHVybiAnc3VjY2VzcycgYW5kIGVpdGhlciAnZGF0YScgb24gc3VjY2VzcyBvciwgb24gZXJyb3IsICd0aXRsZSdcclxuXHQqIHdpdGggYSBnZW5lcmFsIGVycm9yIGFuZCAnZGV0YWlscycgd2l0aCBtb3JlIGRldGFpbHMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjcnVkU2VydmljZScsIGNydWRTZXJ2aWNlKTtcclxuXHJcblx0Y3J1ZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIGNydWRTZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgY3J1ZCA9IGluaXQ7XHJcblx0XHRjcnVkLnByb3RvdHlwZSA9IHtcclxuXHRcdFx0Z2V0OiBnZXQsXHJcblx0XHRcdGdldFdoZXJlOiBnZXRXaGVyZSxcclxuXHRcdFx0Y3JlYXRlOiBjcmVhdGUsXHJcblx0XHRcdHVwZGF0ZTogdXBkYXRlLFxyXG5cdFx0XHRyZW1vdmU6IHJlbW92ZSxcclxuXHRcdFx0cmVtb3ZlV2hlcmU6IHJlbW92ZVdoZXJlLFxyXG5cdFx0XHRyZW1vdmVVbmVjZXNzYXJ5S2V5czogcmVtb3ZlVW5lY2Vzc2FyeUtleXNcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGNydWQ7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgdGhlIGJhc2UgdXJsIHVzaW5nIHRoZSB0eXBlIG9mIGl0ZW0gdG8gYmUgY2FsbGVkIG9uLlxyXG5cdFx0KiBBY3Rpdml0aWVzIGFuZCB0aGVpciBwYXJlbnRzIGhhdmUgYSBzcGVjaWZpYyBzdWJmb2xkZXIgdG8gYmUgcG9pbnRlZCB0byxcclxuXHRcdCogd2hpbGUgb3RoZXJzIGRvIG5vdC5cclxuXHRcdCpcclxuXHRcdCogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZSBvZiBpdGVtLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGluaXQodHlwZSkge1xyXG5cdFx0XHQvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXHJcblx0XHRcdHRoaXMudHlwZSA9IHR5cGU7XHJcblx0XHRcdHRoaXMuYmFzZSA9ICdhcGkvJztcclxuXHRcdFx0c3dpdGNoICh0eXBlKSB7XHJcblx0XHRcdFx0Y2FzZSAnZXZlbnQnOlxyXG5cdFx0XHRcdGNhc2UgJ2NhbGVuZGFyJzpcclxuXHRcdFx0XHRcdHRoaXMuYmFzZSArPSAnYWN0aXZpdHkvY2FsZW5kYXIvJztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ2xhYmVsJzpcclxuXHRcdFx0XHRjYXNlICd0YXNrJzpcclxuXHRcdFx0XHRcdHRoaXMuYmFzZSArPSAnYWN0aXZpdHkvdGFzay8nO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdHRoaXMuYmFzZSArPSB0eXBlICsgJy8nO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuYmFzZSArPSB0eXBlICsgJ01hbmFnZXIucGhwJztcclxuXHRcdFx0LyoganNoaW50IGlnbm9yZTplbmQgKi9cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0aWRcdFx0SUQgb2YgaXRlbSB0eXBlIHRvIGdldC5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT0gcXVlcnkgcmVzdWx0cyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldChpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KHRoaXMuYmFzZSArICc/aWQ9JyArIGlkKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0gXHR7c3RyaW5nfVx0d2hlcmUgXHRXaGVyZSBjbGF1c2UuXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdHVzZXJJRFx0Rm9yIGFjdGl2aXRpZXMgKHRhc2tzLCBldmVudHMpLCB0aGUgY29ycmVzcG9uZGluZ1xyXG5cdFx0Klx0XHRcdFx0XHRcdFx0XHR1c2VyIGZvciB0aGUgYWN0aXZpdHkuIFBhc3MgZW1wdHkgc3RyaW5nXHJcblx0XHQqXHRcdFx0XHRcdFx0XHRcdG90aGVyd2lzZS5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT0gcXVlcnkgcmVzdWx0cyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFdoZXJlKHdoZXJlLCB1c2VySUQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGlzLmJhc2UgKyAnP3VzZXdoZXJlPXRydWUmd2hlcmU9JyArIGVzY2FwZSh3aGVyZSkgKyAnJmlkPScgKyB1c2VySUQpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e21peGVkW119XHRkYXRhXHREYXRhIG9mIGl0ZW0gdG8gY3JlYXRlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PT0gMSBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZShkYXRhKSB7XHJcblx0XHRcdGRhdGEgPSB0aGlzLnJlbW92ZVVuZWNlc3NhcnlLZXlzKGRhdGEpOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KHRoaXMuYmFzZSwgZGF0YSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0aWRcdFx0SUQgb2YgaXRlbSB0eXBlIHRvIHVwZGF0ZS5cclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX1cdGRhdGFcdERhdGEgb2YgaXRlbSB0byB1cGRhdGUuXHJcblx0XHQqXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAnMScgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiB1cGRhdGUoaWQsIGRhdGEpIHtcclxuXHRcdFx0ZGF0YSA9IHRoaXMucmVtb3ZlVW5lY2Vzc2FyeUtleXMoZGF0YSk7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCwgZGF0YSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0aWRcdFx0SUQgb2YgaXRlbSB0eXBlIHRvIGRlbGV0ZS5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT09IDEgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmUoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIFx0e3N0cmluZ31cdHdoZXJlIFx0V2hlcmUgY2xhdXNlLlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHR1c2VySURcdEZvciBhY3Rpdml0aWVzICh0YXNrcywgZXZlbnRzKSwgdGhlIGNvcnJlc3BvbmRpbmdcclxuXHRcdCpcdFx0XHRcdFx0XHRcdFx0dXNlciBmb3IgdGhlIGFjdGl2aXR5LiBQYXNzIGVtcHR5IHN0cmluZ1xyXG5cdFx0Klx0XHRcdFx0XHRcdFx0XHRvdGhlcndpc2UuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID49IDAgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmVXaGVyZSh3aGVyZSwgdXNlcklEKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUodGhpcy5iYXNlICsgJz93aGVyZT10cnVlJmlkPScgKyB1c2VySUQsIHdoZXJlKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUZhaWxlZChlcnJvcikge1xyXG5cdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRzdWNjZXNzOiAnZmFsc2UnLFxyXG5cdFx0XHRcdHRpdGxlOiAnRXJyb3Igd2hlbiBxdWVyeWluZyBzZXJ2ZXIuJyxcclxuXHRcdFx0XHRtZXNzYWdlOiBlcnJvclxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJdGVtIGRhdGEgcGFzc2VkIGluIG1heSBzdGlsbCBoYXZlIHRoZWlyIGlkcyBvciBhbGlhcyBmaWVsZHMgKGZvciBhY3Rpdml0aWVzKVxyXG5cdFx0KiBlbWJlZGRlZCwgd2hpY2ggd2lsbCBjYW4gY2F1c2UgZXJyb3JzIGluIHRoZSBTUUwuXHJcblx0XHQqXHJcblx0XHQqIEBwYXJhbVx0e21peGVkW119IGRhdGFcclxuXHRcdCogQHJldHVyblx0e21peGVkW119XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlVW5lY2Vzc2FyeUtleXMoZGF0YSkge1xyXG5cdFx0XHR2YXIgdG9EZWxldGUgPSBbJ2lkJywgJ3BlcnNvbl9pZCcsIHRoaXMudHlwZSArICdfaWQnLCAnYWN0aXZpdHlfaW5mb19pZCcsICdwYXJlbnRfbmFtZSddOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdG9EZWxldGUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRkZWxldGUgZGF0YVt0b0RlbGV0ZVtpXV07XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCogVXNlZCB0byBhY2Nlc3Mgc2Vzc2lvbiB2YXJpYWJsZXMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdzZXNzaW9uU2VydmljZScsIHNlc3Npb25TZXJ2aWNlKTtcclxuXHJcblx0c2Vzc2lvblNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIHNlc3Npb25TZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5iYXNlID0gJ2FwaS9zZXNzaW9uL3Nlc3Npb25WYXJNYW5hZ2VyLnBocD92YXI9JztcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRWYXI6IGdldFZhcixcclxuXHRcdFx0c2V0VmFyOiBzZXRWYXJcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ30gJG5hbWVcdFZhcmlhYmxlIG5hbWUgdG8gZ2V0IGZyb20gc2Vzc2lvbi5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ30gXHRcdFByb21pc2Ugb3IgZXJyb3Igb24gZmFpbC5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXRWYXIoJG5hbWUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh2bS5iYXNlICsgJG5hbWUpXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfSAkbmFtZVx0VmFyaWFibGUgbmFtZSB0byBnZXQgZnJvbSBzZXNzaW9uLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfSBcdFx0UHJvbWlzZSBvciBlcnJvciBvbiBmYWlsLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHNldFZhcigkbmFtZSwgJHZhbHVlKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KHZtLmJhc2UgKyAkbmFtZSwgJHZhbHVlKVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHJldHVybiByZXNwb25zZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlRmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHN1Y2Nlc3M6ICdmYWxzZScsXHJcblx0XHRcdFx0dGl0bGU6ICdFcnJvciB3aGVuIGFjY2Vzc2luZyB2YXJpYWJsZS4nLFxyXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignRXZlbnRzQ29udHJvbGxlcicsIEV2ZW50c0NvbnRyb2xsZXIpO1xyXG5cclxuXHRFdmVudHNDb250cm9sbGVyLiRpbmplY3QgPSBbJ21vbWVudCcsICdjYWxlbmRhcldpZGdldFNlcnZpY2UnLCAnZXZlbnRzU2VydmljZScsICdldmVudE1vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIEV2ZW50c0NvbnRyb2xsZXIobW9tZW50LCBjYWxlbmRhcldpZGdldFNlcnZpY2UsIGV2ZW50c1NlcnZpY2UsIGV2ZW50TW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uaXNTYW1lRGF5QXNTZWxlY3RlZCA9IGlzU2FtZURheUFzU2VsZWN0ZWQ7XHJcblx0XHR2bS5nZXRFbmRPZkRheSA9IGdldEVuZE9mRGF5O1xyXG5cdFx0dm0uc2VsZWN0RGF5ID0gc2VsZWN0RGF5O1xyXG5cdFx0dm0uc2hvd0V2ZW50TW9kYWwgPSBzaG93RXZlbnRNb2RhbDtcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHR2bS50b2RheSA9IGNhbGVuZGFyV2lkZ2V0U2VydmljZS5nZXRUb2RheSgpO1xyXG5cdFx0XHR2bS5zZWxlY3RlZERheSA9IHZtLnRvZGF5O1xyXG5cdFx0XHR2bS5tb250aCA9IGNhbGVuZGFyV2lkZ2V0U2VydmljZS5nZXRNb250aCh2bS50b2RheSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RW5kT2ZEYXkoZGF5KSB7XHJcblx0XHRcdHJldHVybiBjYWxlbmRhcldpZGdldFNlcnZpY2UuZ2V0RW5kT2ZEYXkoZGF5KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBpc1NhbWVEYXlBc1NlbGVjdGVkKGRheSkge1xyXG5cdFx0XHRyZXR1cm4gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLmlzU2FtZURheShkYXksIHZtLnNlbGVjdGVkRGF5KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzZWxlY3REYXkoZGF5KSB7XHJcblx0XHRcdHZtLnNlbGVjdGVkRGF5ID0gZGF5LmZ1bGxEYXRlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNob3dFdmVudE1vZGFsKGV2ZW50KSB7XHJcblx0XHRcdGV2ZW50TW9kYWxTZXJ2aWNlLm9wZW5FdmVudE1vZGFsKGV2ZW50LCB2bS5jYWxlbmRhcnMpLnRoZW4odXBkYXRlRXZlbnRzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVFdmVudHMocmVzcG9uc2UpIHtcclxuXHRcdFx0aWYgKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dm0uZXZlbnRzID0gcmVzcG9uc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BFdmVudHMnLCBldmVudHNEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBldmVudHNEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZXZlbnRzL2V2ZW50cy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ0V2ZW50c0NvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0ZXZlbnRzOiAnPScsXHJcblx0XHRcdFx0Y2FsZW5kYXJzOiAnPSdcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2V2ZW50c1NlcnZpY2UnLCBldmVudHNTZXJ2aWNlKTtcclxuXHJcblx0ZXZlbnRzU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ2NydWRTZXJ2aWNlJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gZXZlbnRzU2VydmljZSgkaHR0cCwgJGxvZywgY3J1ZFNlcnZpY2UsIHNlc3Npb25TZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5ldmVudCA9IG5ldyBjcnVkU2VydmljZSgnZXZlbnQnKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVFdmVudDogY3JlYXRlRXZlbnQsXHJcblx0XHRcdGNyZWF0ZU9yVXBkYXRlRXZlbnQ6IGNyZWF0ZU9yVXBkYXRlRXZlbnQsXHJcblx0XHRcdGRlbGV0ZUV2ZW50OiBkZWxldGVFdmVudCxcclxuXHRcdFx0Z2V0RXZlbnRzOiBnZXRFdmVudHMsXHJcblx0XHRcdHVwZGF0ZUV2ZW50OiB1cGRhdGVFdmVudFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVFdmVudChldmVudCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uZXZlbnQuY3JlYXRlKGV2ZW50KS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVFdmVudChldmVudCkge1xyXG5cdFx0XHRpZiAoIWV2ZW50LmV2ZW50X2lkKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZUV2ZW50KGV2ZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdXBkYXRlRXZlbnQoZXZlbnQuZXZlbnRfaWQsIGV2ZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVFdmVudChpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uZXZlbnQucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RXZlbnRzKCkge1xyXG5cdFx0XHRyZXR1cm4gc2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCdpZCcpXHJcblx0XHRcdFx0LnRoZW4oZ2V0RXZlbnRXaXRoVXNlcklEKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldEV2ZW50V2l0aFVzZXJJRChyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGlmIChyZXMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHZtLmV2ZW50LmdldFdoZXJlKCcnLCByZXMuZGF0YSkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gcmVzLnRpdGxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlRXZlbnQoaWQsIGV2ZW50KSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudC51cGRhdGUoaWQsIGV2ZW50KS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBDb21wYXJlIGFuIGlucHV0IGZpZWxkIHRvIGFub3RoZXIgZmllbGQsIGRldGVybWluZWQgYnkgdGhlIGRldi5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BDb21wYXJlVG8nLCBjb21wYXJlVG8pO1xyXG5cclxuXHRmdW5jdGlvbiBjb21wYXJlVG8oKSB7XHJcblx0XHR2YXIgZGlyZWN0aXZlID0ge1xyXG5cdFx0XHRyZXF1aXJlOiAnbmdNb2RlbCcsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0b3RoZXJNb2RlbDogJz1zcENvbXBhcmVUbydcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogbGlua1xyXG5cdFx0fTtcclxuXHRcdHJldHVybiBkaXJlY3RpdmU7XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcclxuXHRcdFx0dmFyIHVuYmluZFdhdGNoID0gc2NvcGUuJHdhdGNoKCdvdGhlck1vZGVsJywgdmFsaWRhdGVPbkNoYW5nZSk7XHJcblx0XHRcdG5nTW9kZWwuJHZhbGlkYXRvcnMuc3BDb21wYXJlVG8gPSBjb21wYXJlVmFsdWVzO1xyXG5cdFx0XHRlbGVtZW50Lm9uKCckZGVzdHJveScsIGNsZWFuVXApO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY2xlYW5VcCgpIHtcclxuXHRcdFx0XHR1bmJpbmRXYXRjaCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjb21wYXJlVmFsdWVzKHZpZXdWYWx1ZSkge1xyXG5cdFx0XHRcdHJldHVybiAodmlld1ZhbHVlID09PSBzY29wZS5vdGhlck1vZGVsLiR2aWV3VmFsdWUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiB2YWxpZGF0ZU9uQ2hhbmdlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG5cdFx0XHRcdG5nTW9kZWwuJHZhbGlkYXRlKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XHJcblxyXG5cdExvZ2luQ29udHJvbGxlci4kaW5qZWN0ID0gWydsb2dpblNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBMb2dpbkNvbnRyb2xsZXIobG9naW5TZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0dm0uZXJyb3IgPSAnJztcclxuXHJcblx0XHR2bS5sb2dpbiA9IGxvZ2luO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBMb2dpblNlcnZpY2Ugd2lsbCByZWRpcmVjdCBpZiB0aGVyZSBpcyBubyBlcnJvci4gVGh1cywgdGhlcmUncyBvbmx5IGFcclxuXHRcdCogbmVlZCB0byByZXR1cm4gYSBwcm9taXNlIGlmIHRoZXJlJ3MgYW4gZXJyb3IuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gbG9naW4oKSB7XHJcblx0XHRcdHZtLmxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRsb2dpblNlcnZpY2UubG9naW4odm0udXNlcilcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dm0uZXJyb3IgPSByZXNwb25zZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2xvZ2luU2VydmljZScsIGxvZ2luU2VydmljZSk7XHJcblxyXG5cdGxvZ2luU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9jYXRpb24nLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIGxvZ2luU2VydmljZSgkaHR0cCwgJGxvY2F0aW9uLCAkbG9nKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bG9naW46IGxvZ2luXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxvZ2luKHVzZXIpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJ2FwaS91c2VyL2xvZ2luTWFuYWdlci5waHAnLCB1c2VyKVxyXG5cdFx0XHRcdC50aGVuKGxvZ2luQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKGxvZ2luRmFpbGVkKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGxvZ2luQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGEudGl0bGU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvZGFzaGJvYXJkJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGxvZ2luRmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdFx0cmV0dXJuICdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi4nO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignTW9kYWxDb250cm9sbGVyJywgTW9kYWxDb250cm9sbGVyKTtcclxuXHJcblx0TW9kYWxDb250cm9sbGVyLiRpbmplY3QgPSBbJyR1aWJNb2RhbEluc3RhbmNlJywgJ2dyb3VwcycsICdpdGVtJ107XHJcblx0ZnVuY3Rpb24gTW9kYWxDb250cm9sbGVyKCR1aWJNb2RhbEluc3RhbmNlLCBncm91cHMsIGl0ZW0pIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5ncm91cHMgPSBncm91cHM7XHJcblx0XHR2bS5pdGVtID0gaXRlbTtcclxuXHRcdHZtLmNsb3NlID0gY2xvc2U7XHJcblx0XHR2bS5jYW5jZWwgPSBjYW5jZWw7XHJcblx0XHR2bS5jb25maXJtID0gY29uZmlybTtcclxuXHRcdHZtLnJlbW92ZSA9IHJlbW92ZTtcclxuXHJcblx0XHRmdW5jdGlvbiBjbG9zZSgpIHtcclxuXHRcdFx0JHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYW5jZWwoKSB7XHJcblx0XHRcdCR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZShkYXRhKSB7XHJcblx0XHRcdCR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoZGF0YSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY29uZmlybShkYXRhKSB7XHJcblx0XHRcdCR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKGRhdGEpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignVGFza3NDb250cm9sbGVyJywgVGFza3NDb250cm9sbGVyKTtcclxuXHJcblx0VGFza3NDb250cm9sbGVyLiRpbmplY3QgPSBbJ3Rhc2tzU2VydmljZScsICd0YXNrTW9kYWxTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gVGFza3NDb250cm9sbGVyKHRhc2tzU2VydmljZSwgdGFza01vZGFsU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLnNob3dUYXNrTW9kYWwgPSBzaG93VGFza01vZGFsO1xyXG5cdFx0dm0udG9nZ2xlQ29tcGxldGVkID0gdG9nZ2xlQ29tcGxldGVkO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHNob3dUYXNrTW9kYWwodGFzaykge1xyXG5cdFx0XHR0YXNrTW9kYWxTZXJ2aWNlLm9wZW5UYXNrTW9kYWwodGFzaywgdm0ubGFiZWxzKS50aGVuKHVwZGF0ZVRhc2tzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVDb21wbGV0ZWQodGFzaykge1xyXG5cdFx0XHR0YXNrc1NlcnZpY2UudG9nZ2xlQ29tcGxldGVkKHRhc2spLnRoZW4odXBkYXRlVGFza3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZVRhc2tzKHJlc3BvbnNlKSB7XHJcblx0XHRcdGlmIChyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZtLnRhc2tzID0gcmVzcG9uc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BUYXNrcycsIHRhc2tzRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gdGFza3NEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdGFza3MvdGFza3MuaHRtbCcsXHJcblx0XHRcdGNvbnRyb2xsZXI6ICdUYXNrc0NvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0dGFza3M6ICc9JyxcclxuXHRcdFx0XHRsYWJlbHM6ICc9JyxcclxuXHRcdFx0XHRvcmRlcjogJz0nXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd0YXNrc1NlcnZpY2UnLCB0YXNrc1NlcnZpY2UpO1xyXG5cclxuXHR0YXNrc1NlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZycsICdjcnVkU2VydmljZScsICdzZXNzaW9uU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIHRhc2tzU2VydmljZSgkaHR0cCwgJGxvZywgY3J1ZFNlcnZpY2UsIHNlc3Npb25TZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS50YXNrID0gbmV3IGNydWRTZXJ2aWNlKCd0YXNrJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y3JlYXRlVGFzazogY3JlYXRlVGFzayxcclxuXHRcdFx0Y3JlYXRlT3JVcGRhdGVUYXNrOiBjcmVhdGVPclVwZGF0ZVRhc2ssXHJcblx0XHRcdGRlbGV0ZVRhc2s6IGRlbGV0ZVRhc2ssXHJcblx0XHRcdGdldFRhc2tzOiBnZXRUYXNrcyxcclxuXHRcdFx0dG9nZ2xlQ29tcGxldGVkOiB0b2dnbGVDb21wbGV0ZWQsXHJcblx0XHRcdHVwZGF0ZVRhc2s6IHVwZGF0ZVRhc2tcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlVGFzayh0YXNrKSB7XHJcblx0XHRcdHJldHVybiB2bS50YXNrLmNyZWF0ZSh0YXNrKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVUYXNrKHRhc2spIHtcclxuXHRcdFx0aWYgKCF0YXNrLnRhc2tfaWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gY3JlYXRlVGFzayh0YXNrKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdXBkYXRlVGFzayh0YXNrLnRhc2tfaWQsIHRhc2spO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZVRhc2soaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLnRhc2sucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VGFza3MoKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ2lkJylcclxuXHRcdFx0XHQudGhlbihnZXRUYXNrV2l0aFVzZXJJRCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBnZXRUYXNrV2l0aFVzZXJJRChyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGlmIChyZXMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHZtLnRhc2suZ2V0V2hlcmUoJycsIHJlcy5kYXRhKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVDb21wbGV0ZWQodGFzaykge1xyXG5cdFx0XHR0YXNrLmNvbXBsZXRlZCA9ICFwYXJzZUludCh0YXNrLmNvbXBsZXRlZCk7XHJcblx0XHRcdHJldHVybiB1cGRhdGVUYXNrKHRhc2sudGFza19pZCwgdGFzaykudGhlbihnZXRUYXNrcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlVGFzayhpZCwgdGFzaykge1xyXG5cdFx0XHRyZXR1cm4gdm0udGFzay51cGRhdGUoaWQsIHRhc2spLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0dmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdGlmIChyZXMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdHJldHVybiByZXMuZGF0YTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzLnRpdGxlO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1VwbG9hZENvbnRyb2xsZXInLCBVcGxvYWRDb250cm9sbGVyKTtcclxuXHJcblx0VXBsb2FkQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGh0dHAnLCAndXBsb2FkU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFVwbG9hZENvbnRyb2xsZXIoJHNjb3BlLCAkaHR0cCwgdXBsb2FkU2VydmljZSkge1xyXG5cdFx0dmFyIHVjID0gdGhpcztcclxuXHRcdHVjLnVwbG9hZEZpbGUgPSB1cGxvYWRGaWxlO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHVwbG9hZEZpbGUoZmlsZSwgb2xkRmlsZSkge1xyXG5cdFx0XHRyZXR1cm4gdXBsb2FkU2VydmljZS51cGxvYWRGaWxlKGZpbGUpXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oZmlsZVBhdGgpIHsgcmV0dXJuIGZpbGVQYXRoOyB9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BGaWxlQ2hhbmdlJywgc3BGaWxlQ2hhbmdlKTtcclxuXHJcblx0c3BGaWxlQ2hhbmdlLiRpbmplY3QgPSBbJyRwYXJzZSddO1xyXG5cdGZ1bmN0aW9uIHNwRmlsZUNoYW5nZSgkcGFyc2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdGNvbnRyb2xsZXI6ICdVcGxvYWRDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAndWMnLFxyXG5cdFx0XHRsaW5rOiBsaW5rLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdHNwRmlsZUNoYW5nZTogJz0nLFxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0XHRcdHZhciBtYXhGaWxlU2l6ZSA9IDIgKiAxMDI0ICogMTAyNDtcclxuXHRcdFx0dmFyIGZpbGVNb2RlbCA9ICRwYXJzZShhdHRycy5zcEZpbGVDaGFuZ2UpO1xyXG5cdFx0XHRlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZpbGVIYW5kbGVyLCBmYWxzZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBmaWxlSGFuZGxlcihldmVudCkge1xyXG5cdFx0XHRcdHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHZhciBmaWxlID0gZWxlbWVudFswXS5maWxlc1swXTtcclxuXHJcblx0XHRcdFx0XHRpZiAoZmlsZS5zaXplIDw9IG1heEZpbGVTaXplKSB7XHJcblx0XHRcdFx0XHRcdHNjb3BlLnVjLnVwbG9hZEZpbGUoZmlsZSlcclxuXHRcdFx0XHRcdFx0XHQudGhlbihmdW5jdGlvbihmaWxlUGF0aCkgeyBzY29wZS5zcEZpbGVDaGFuZ2UgPSBmaWxlUGF0aDsgfSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRhbGVydChcIkZpbGUgbXVzdCBiZSBsZXNzIHRoYW4gXCIgKyAobWF4RmlsZVNpemUgLyAxMDI0IC8gMTAyNCkgKyBcIk1CLlwiKTsvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgndXBsb2FkU2VydmljZScsIHVwbG9hZFNlcnZpY2UpO1xyXG5cclxuXHR1cGxvYWRTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnXTtcclxuXHRmdW5jdGlvbiB1cGxvYWRTZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR1cGxvYWRGaWxlOiB1cGxvYWRGaWxlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIHVwbG9hZEZpbGUoZmlsZSkge1xyXG5cdFx0XHR2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuXHRcdFx0Zm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnYXBpL3VwbG9hZC91cGxvYWRNYW5hZ2VyLnBocCcsIGZvcm1EYXRhLCB7XHJcblx0XHRcdFx0dHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuXHRcdFx0XHRoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWQgfVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0aWYgKHJlcy5kYXRhLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhLmRhdGE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQkbG9nLmVycm9yKHJlcy50aXRsZSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHQkbG9nLmVycm9yKHJlcyk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdEYXNoYm9hcmRDb250cm9sbGVyJywgRGFzaGJvYXJkQ29udHJvbGxlcik7XHJcblxyXG5cdERhc2hib2FyZENvbnRyb2xsZXIuJGluamVjdCA9IFsnaXNBdXRoZW50aWNhdGVkJywgJ3Rhc2tzJywgJ2V2ZW50cycsICdsYWJlbHMnLCAnY2FsZW5kYXJzJ107XHJcblx0ZnVuY3Rpb24gRGFzaGJvYXJkQ29udHJvbGxlcihpc0F1dGhlbnRpY2F0ZWQsIHRhc2tzLCBldmVudHMsIGxhYmVscywgY2FsZW5kYXJzKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0udGFza3MgPSB0YXNrcztcclxuXHRcdHZtLmV2ZW50cyA9IGV2ZW50cztcclxuXHRcdHZtLmxhYmVscyA9IGxhYmVscztcclxuXHRcdHZtLmNhbGVuZGFycyA9IGNhbGVuZGFycztcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ29udHJvbGxlcicsIFJlZ2lzdGVyQ29udHJvbGxlcik7XHJcblxyXG5cdFJlZ2lzdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWydyZWdpc3RlclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBSZWdpc3RlckNvbnRyb2xsZXIocmVnaXN0ZXJTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uZXJyb3IgPSAnJztcclxuXHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdHZtLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XHJcblx0XHRcdHZtLmxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRyZWdpc3RlclNlcnZpY2UucmVnaXN0ZXIodm0udXNlcilcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dm0uZXJyb3IgPSByZXNwb25zZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3JlZ2lzdGVyU2VydmljZScsIHJlZ2lzdGVyU2VydmljZSk7XHJcblxyXG5cdHJlZ2lzdGVyU2VydmljZS4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnJGxvZycsICdjcnVkU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIHJlZ2lzdGVyU2VydmljZSgkbG9jYXRpb24sICRsb2csIGNydWRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5jcnVkID0gbmV3IGNydWRTZXJ2aWNlKCd1c2VyJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVnaXN0ZXI6IHJlZ2lzdGVyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlZ2lzdGVyKHVzZXIpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNydWQuY3JlYXRlKHVzZXIpXHJcblx0XHRcdFx0LnRoZW4ocmVnaXN0cmF0aW9uQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gcmVnaXN0cmF0aW9uQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2Uuc3VjY2VzcyA9PT0gJ2ZhbHNlJykge1xyXG5cdFx0XHRcdFx0JGxvZy5lcnJvcihyZXNwb25zZS50aXRsZSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UudGl0bGU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRsb2NhdGlvbi51cmwoJy9sb2dpbicpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdhY2Nlc3NTZXJ2aWNlJywgYWNjZXNzU2VydmljZSk7XHJcblxyXG5cdGFjY2Vzc1NlcnZpY2UuJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJyRxJywgJ3Nlc3Npb25TZXJ2aWNlJywgJ3N0YXR1c1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBhY2Nlc3NTZXJ2aWNlKCRsb2NhdGlvbiwgJHEsIHNlc3Npb25TZXJ2aWNlLCBzdGF0dXNTZXJ2aWNlKSB7XHJcblx0XHR2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGlzQXV0aGVudGljYXRlZDogaXNBdXRoZW50aWNhdGVkLFxyXG5cdFx0XHRpc0FkbWluOiBpc0FkbWluXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZCgpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignbmFtZScpXHJcblx0XHRcdFx0LnRoZW4oaXNBdXRoZW50aWNhdGVkQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShzdGF0dXNTZXJ2aWNlLk9LKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KHN0YXR1c1NlcnZpY2UuVU5BVVRIT1JJWkVEKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNBZG1pbigpIHtcclxuXHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCogU3RhdHVzIGNvZGVzIHVzZWQgd2hlbiBhY2Nlc3NpbmcgdmFyaW91cyBwYWdlcyBpbiB0aGUgYXBwLlxyXG5cdCovXHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuc2VydmljZSgnc3RhdHVzU2VydmljZScsIHN0YXR1c1NlcnZpY2UpO1xyXG5cclxuXHRmdW5jdGlvbiBzdGF0dXNTZXJ2aWNlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0T0s6IDIwMCxcclxuXHRcdFx0VU5BVVRIT1JJWkVEOiA0MDEsXHJcblx0XHRcdEZPUkJJRERFTjogNDAzXHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2NhbGVuZGFyU2VydmljZScsIGNhbGVuZGFyU2VydmljZSk7XHJcblxyXG5cdGNhbGVuZGFyU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ2NydWRTZXJ2aWNlJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gY2FsZW5kYXJTZXJ2aWNlKCRodHRwLCAkbG9nLCBjcnVkU2VydmljZSwgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmNhbGVuZGFyID0gbmV3IGNydWRTZXJ2aWNlKCdjYWxlbmRhcicpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZUNhbGVuZGFyOiBjcmVhdGVDYWxlbmRhcixcclxuXHRcdFx0ZGVsZXRlQ2FsZW5kYXI6IGRlbGV0ZUNhbGVuZGFyLFxyXG5cdFx0XHRnZXRDYWxlbmRhcnM6IGdldENhbGVuZGFycyxcclxuXHRcdFx0dXBkYXRlQ2FsZW5kYXI6IHVwZGF0ZUNhbGVuZGFyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZUNhbGVuZGFyKGNhbGVuZGFyKSB7XHJcblx0XHRcdHJldHVybiB2bS5jYWxlbmRhci5jcmVhdGUoY2FsZW5kYXIpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVDYWxlbmRhcihpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXIucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0Q2FsZW5kYXJzKCkge1xyXG5cdFx0XHRyZXR1cm4gc2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCdpZCcpXHJcblx0XHRcdFx0LnRoZW4oZ2V0Q2FsZW5kYXJXaXRoVXNlcklEKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldENhbGVuZGFyV2l0aFVzZXJJRChyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGlmIChyZXMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyLmdldFdoZXJlKCdwZXJzb25faWQ9JyArIHJlcy5kYXRhLCAnJykudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gcmVzLnRpdGxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlQ2FsZW5kYXIoaWQsIGNhbGVuZGFyKSB7XHJcblx0XHRcdHJldHVybiB2bS5jYWxlbmRhci51cGRhdGUoaWQsIGNhbGVuZGFyKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdldmVudE1vZGFsU2VydmljZScsIGV2ZW50TW9kYWxTZXJ2aWNlKTtcclxuXHJcblx0ZXZlbnRNb2RhbFNlcnZpY2UuJGluamVjdCA9IFsnJHVpYk1vZGFsJywgJ2NhbGVuZGFyU2VydmljZScsICdldmVudHNTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gZXZlbnRNb2RhbFNlcnZpY2UoJHVpYk1vZGFsLCBjYWxlbmRhclNlcnZpY2UsIGV2ZW50c1NlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuRXZlbnRNb2RhbDogb3BlbkV2ZW50TW9kYWxcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gb3BlbkV2ZW50TW9kYWwoZXZlbnQsIGNhbGVuZGFycykge1xyXG5cdFx0XHRyZXR1cm4gJHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdNb2RhbENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZXZlbnRzL21vZGFsL2V2ZW50Lm1vZGFsLmh0bWwnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGdyb3VwczogZnVuY3Rpb24oKSB7IHJldHVybiBjYWxlbmRhcnM7IH0sXHJcblx0XHRcdFx0XHRpdGVtOiBldmVudFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkucmVzdWx0XHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHJldHVybiBldmVudHNTZXJ2aWNlLmNyZWF0ZU9yVXBkYXRlRXZlbnQocmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdC50aGVuKGV2ZW50c1NlcnZpY2UuZ2V0RXZlbnRzKTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiByZXNwb25zZSAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGV2ZW50c1NlcnZpY2UuZGVsZXRlRXZlbnQocmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4oZXZlbnRzU2VydmljZS5nZXRFdmVudHMpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2NhbGVuZGFyV2lkZ2V0U2VydmljZScsIGNhbGVuZGFyV2lkZ2V0U2VydmljZSk7XHJcblxyXG5cdGNhbGVuZGFyV2lkZ2V0U2VydmljZS4kaW5qZWN0ID0gWydtb21lbnQnXTtcclxuXHRmdW5jdGlvbiBjYWxlbmRhcldpZGdldFNlcnZpY2UobW9tZW50KSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRFbmRPZkRheTogZ2V0RW5kT2ZEYXksXHJcblx0XHRcdGdldE1vbnRoOiBnZXRNb250aCxcclxuXHRcdFx0Z2V0VG9kYXk6IGdldFRvZGF5LFxyXG5cdFx0XHRnZXRXZWVrOiBnZXRXZWVrLFxyXG5cdFx0XHRpc1NhbWVEYXk6IGlzU2FtZURheVxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRFbmRPZkRheShkYXkpIHtcclxuXHRcdFx0cmV0dXJuIGRheS5jbG9uZSgpLmFkZCgxLCAnZGF5Jykuc3VidHJhY3QoMSwgJ21zJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH0gYURheSBEYXkgdG8gYnVpbGQgbW9udGggYXJvdW5kLlxyXG5cdFx0KiBAcmV0dXJuIHtNb21lbnQgT2JqZWN0W11bXX1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXRNb250aChhRGF5KSB7XHJcblx0XHRcdHZhciBtb250aCA9IFtdO1xyXG5cdFx0XHR2YXIgZGF5ID0gYURheS5jbG9uZSgpLmRhdGUoMSkuc3RhcnRPZignd2VlaycpO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gYURheS5tb250aCgpOyBpID09PSBhRGF5Lm1vbnRoKCk7IGkgPSBkYXkubW9udGgoKSkge1xyXG5cdFx0XHRcdG1vbnRoLnB1c2goZ2V0V2VlayhkYXksIGFEYXkubW9udGgoKSkpO1xyXG5cdFx0XHRcdGRheSA9IGRheS5hZGQoMSwgJ3dlZWtzJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG1vbnRoO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFRvZGF5KCkge1xyXG5cdFx0XHRyZXR1cm4gbW9tZW50KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH1cdHN0YXJ0RGF5XHRTdGFydGluZyBkYXkgb2YgYSB3ZWVrLlxyXG5cdFx0KiBAcGFyYW0ge2ludH1cdFx0XHRcdHRhcmdldE1vbnRoXHRNb250aCBudW1iZXIgYmVpbmcgYnVpbHQuXHJcblx0XHQqXHJcblx0XHQqIEByZXR1cm4ge01vbWVudCBPYmplY3RbXX1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXRXZWVrKHN0YXJ0RGF5LCB0YXJnZXRNb250aCkge1xyXG5cdFx0XHR2YXIgd2VlayA9IFtdO1xyXG5cclxuXHRcdFx0dmFyIGRheSA9IHN0YXJ0RGF5LmNsb25lKCk7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcblx0XHRcdFx0d2Vlay5wdXNoKHtcclxuXHRcdFx0XHRcdG51bWJlcjogZGF5LmRhdGUoKSxcclxuXHRcdFx0XHRcdGlzVGFyZ2V0TW9udGg6IChkYXkubW9udGgoKSA9PT0gdGFyZ2V0TW9udGgpLFxyXG5cdFx0XHRcdFx0aXNUb2RheTogZGF5LmlzU2FtZShtb21lbnQoKSwgJ2RheScpLFxyXG5cdFx0XHRcdFx0ZnVsbERhdGU6IGRheVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGRheSA9IGRheS5jbG9uZSgpLmFkZCgxLCAnZGF5cycpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gd2VlaztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHtNb21lbnQgT2JqZWN0fVx0ZGF5MVxyXG5cdFx0KiBAcGFyYW0ge01vbWVudCBPYmplY3R9XHRkYXkyXHJcblx0XHQqXHJcblx0XHQqIEByZXR1cm4ge2Jvb2x9XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gaXNTYW1lRGF5KGRheTEsIGRheTIpIHtcclxuXHRcdFx0cmV0dXJuIGRheTEuaXNTYW1lKGRheTIsICdkYXknKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdsYWJlbFNlcnZpY2UnLCBsYWJlbFNlcnZpY2UpO1xyXG5cclxuXHRsYWJlbFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZycsICdjcnVkU2VydmljZScsICdzZXNzaW9uU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGxhYmVsU2VydmljZSgkaHR0cCwgJGxvZywgY3J1ZFNlcnZpY2UsIHNlc3Npb25TZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5sYWJlbCA9IG5ldyBjcnVkU2VydmljZSgnbGFiZWwnKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVMYWJlbDogY3JlYXRlTGFiZWwsXHJcblx0XHRcdGRlbGV0ZUxhYmVsOiBkZWxldGVMYWJlbCxcclxuXHRcdFx0Z2V0TGFiZWxzOiBnZXRMYWJlbHMsXHJcblx0XHRcdHVwZGF0ZUxhYmVsOiB1cGRhdGVMYWJlbFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVMYWJlbChsYWJlbCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWwuY3JlYXRlKGxhYmVsKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlTGFiZWwoaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmxhYmVsLnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldExhYmVscygpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignaWQnKVxyXG5cdFx0XHRcdC50aGVuKGdldExhYmVsV2l0aFVzZXJJRCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBnZXRMYWJlbFdpdGhVc2VySUQocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRcdHJldHVybiB2bS5sYWJlbC5nZXRXaGVyZSgncGVyc29uX2lkPScgKyByZXMuZGF0YSwgJycpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUxhYmVsKGlkLCBsYWJlbCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWwudXBkYXRlKGlkLCBsYWJlbCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgndGFza01vZGFsU2VydmljZScsIHRhc2tNb2RhbFNlcnZpY2UpO1xyXG5cclxuXHR0YXNrTW9kYWxTZXJ2aWNlLiRpbmplY3QgPSBbJyR1aWJNb2RhbCcsICdsYWJlbFNlcnZpY2UnLCAndGFza3NTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gdGFza01vZGFsU2VydmljZSgkdWliTW9kYWwsIGxhYmVsU2VydmljZSwgdGFza3NTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0b3BlblRhc2tNb2RhbDogb3BlblRhc2tNb2RhbFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBvcGVuVGFza01vZGFsKHRhc2ssIGxhYmVscykge1xyXG5cdFx0XHRyZXR1cm4gJHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdNb2RhbENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdGFza3MvbW9kYWwvdGFzay5tb2RhbC5odG1sJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRncm91cHM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbGFiZWxzOyB9LFxyXG5cdFx0XHRcdFx0aXRlbTogdGFza1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkucmVzdWx0XHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHJldHVybiB0YXNrc1NlcnZpY2UuY3JlYXRlT3JVcGRhdGVUYXNrKHJlc3BvbnNlKVxyXG5cdFx0XHRcdFx0XHQudGhlbih0YXNrc1NlcnZpY2UuZ2V0VGFza3MpO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHJlc3BvbnNlICE9PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdGFza3NTZXJ2aWNlLmRlbGV0ZVRhc2socmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4odGFza3NTZXJ2aWNlLmdldFRhc2tzKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdIZWFkZXJDb250cm9sbGVyJywgSGVhZGVyQ29udHJvbGxlcik7XHJcblxyXG5cdEhlYWRlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJ2hlYWRlclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBIZWFkZXJDb250cm9sbGVyKCRzY29wZSwgaGVhZGVyU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLm5hbWUgPSAnJztcclxuXHRcdHZtLnVybCA9ICcnO1xyXG5cclxuXHRcdGhlYWRlclNlcnZpY2UuZ2V0VXNlcigpXHJcblx0XHRcdC50aGVuKGdldFVzZXJDb21wbGV0ZSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlckNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdCRzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZtLm5hbWUgPSAocmVzcG9uc2UubmFtZSA9PT0gZmFsc2UpID8gJ0xvZ2luJyA6IHJlc3BvbnNlLm5hbWU7XHJcblx0XHRcdFx0dm0udXJsID0gcmVzcG9uc2UudXJsO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BIZWFkZXInLCBoZWFkZXJEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBoZWFkZXJEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRsaW5rOiBsaW5rLFxyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2xheW91dC9oZWFkZXIvaGVhZGVyLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnSGVhZGVyQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnaGVhZGVyU2VydmljZScsIGhlYWRlclNlcnZpY2UpO1xyXG5cclxuXHRoZWFkZXJTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnLCAnc2Vzc2lvblNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBoZWFkZXJTZXJ2aWNlKCRodHRwLCAkbG9nLCBzZXNzaW9uU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Z2V0VXNlcjogZ2V0VXNlclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyKCkge1xyXG5cdFx0XHRyZXR1cm4gc2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCduYW1lJylcclxuXHRcdFx0XHQudGhlbihnZXROYW1lQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0TmFtZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblxyXG5cdFx0XHRcdGlmIChyZXMuc3VjY2VzcyA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdHJldHVybiB7bmFtZTogZmFsc2UsIHVybDogJyMvbG9naW4nfTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHtuYW1lOiByZXMuZGF0YSwgdXJsOiAnIy9kYXNoYm9hcmQnfTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1NpZGViYXJDb250cm9sbGVyJywgU2lkZWJhckNvbnRyb2xsZXIpO1xyXG5cclxuXHRmdW5jdGlvbiBTaWRlYmFyQ29udHJvbGxlcigpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdFx0dm0uY29sbGFwc2VkID0gdHJ1ZTtcclxuXHJcblx0XHR2bS50b2dnbGVTaWRlYmFyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZtLmNvbGxhcHNlZCA9ICF2bS5jb2xsYXBzZWQ7XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFNpZGViYXInLCBzaWRlYmFyRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gc2lkZWJhckRpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvbGF5b3V0L3NpZGViYXIvc2lkZWJhci5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1NpZGViYXJDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0XHRcdHNjb3BlLiR3YXRjaChhdHRycy5zaWRlYmFyRGlyZWN0aXZlLCB0b2dnbGVTaWRlYmFyKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHRvZ2dsZVNpZGViYXIoY29sbGFwc2VkKSB7XHJcblx0XHRcdFx0aWYgKGNvbGxhcHNlZCkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
