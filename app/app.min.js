!function(){"use strict";function e(e,t){function n(e){return e.cacheAll()}function r(e){return e.getUser()}function a(e){return e.getUsers()}function o(e){return e.isAuthenticated()}function c(e){return e.isAdmin()}e.state("root",{url:"",templateUrl:"index.html","abstract":!0,resolve:{cache:["cacheService",n],user:["headerService",r]},views:{header:{templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"hc"},sidebar:{templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"sc"}}}).state("login",{url:"/login",parent:"root",views:{"content@":{templateUrl:"pages/login/login.html",controller:"LoginController",controllerAs:"vm"}}}).state("logout",{url:"/logout",parent:"root",views:{"content@":{controller:"LogoutController",controllerAs:"vm"}}}).state("register",{url:"/register",parent:"root",views:{"content@":{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm"}}}).state("admin",{url:"/admin",parent:"root",views:{"content@":{templateUrl:"pages/admin/admin.html",controller:"AdminController",controllerAs:"vm",resolve:{isAdmin:["accessService",c],users:["userService",a]}}}}).state("dashboard",{url:"/dashboard",parent:"root",views:{"content@":{templateUrl:"pages/dashboard/dashboard.html",resolve:{isAuthenticated:["accessService",o]}}}}).state("labels",{url:"/labels",parent:"root"}).state("labels.label",{url:"/:labelId",views:{"content@":{templateUrl:"pages/tasks/label.html",controller:"LabelPageController",controllerAs:"vm"}}}).state("inbox",{url:"/inbox",parent:"root",views:{"content@":{templateUrl:"pages/tasks/inbox.html",resolve:{isAuthenticated:["accessService",o]}}}}).state("today",{url:"/today",parent:"root",views:{"content@":{templateUrl:"pages/tasks/today.html",resolve:{isAuthenticated:["accessService",o]}}}}).state("week",{url:"/week",parent:"root",views:{"content@":{templateUrl:"pages/tasks/week.html",resolve:{isAuthenticated:["accessService",o]}}}}).state("calendar",{url:"/calendar",parent:"root",views:{"content@":{templateUrl:"pages/calendar/calendar.html",resolve:{isAuthenticated:["accessService",o]}}}}),t.otherwise("/dashboard")}angular.module("app",["ui.router","ui.bootstrap","angularMoment"]).config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.init()}angular.module("app").run(e),e.$inject=["appService"]}(),function(){"use strict";function e(e,t,n){function r(){e.$on("$stateChangeError",a)}function a(e,r,a,o,c,s){s===n.UNAUTHORIZED?(e.preventDefault(),t.go("login")):"admin"===r.name&&s===n.FORBIDDEN}return{init:r}}angular.module("app").factory("appService",e),e.$inject=["$rootScope","$state","statusService"]}(),function(){"use strict";function e(){return function(e,t){if(!t)return e;for(var n=[],r=0;r<e.length;r++)(e[r].label_id===t||e[r].calendar_id===t)&&n.push(e[r]);return n}}angular.module("app").filter("inGroups",e),e.$inject=[]}(),function(){"use strict";function e(e){return function(t,n){for(var r=[],a=0;a<t.length;a++){var o=n.isSame(e(t[a].dt_start),"day");o||(o=n.isSame(e(t[a].dt_end),"day")),o&&r.push(t[a])}return r}}angular.module("app").filter("sameDayAs",e),e.$inject=["moment"]}(),function(){"use strict";function e(e){return function(t,n){if(!n)return t;for(var r=[],a=0;a<t.length;a++){(!t[a].due||t[a].due&&e(t[a].due).isBefore(e().add(n,"days")))&&r.push(t[a])}return r}}angular.module("app").filter("withinDays",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t){function n(){r(),a(),o(),c()}function r(){b.calendar=new t("calendar"),b.calendar.getByUser().then(function(e){b.calendars=l(e),m()})}function a(){b.event=new t("event"),b.event.getByUser().then(function(e){b.events=l(e),v()})}function o(){b.label=new t("label"),b.label.getByUser().then(function(e){b.labels=l(e),g()})}function c(){b.task=new t("task"),b.task.getByUser().then(function(e){b.tasks=l(e),h()})}function s(){b.calendars=[],b.events=[],b.labels=[],b.tasks=[],m(),v(),g(),h()}function l(e){var t=e.data;return t.success?t.data:t.title}function u(){return{calendars:i(),events:d(),labels:p(),tasks:f()}}function i(){return b.calendars}function d(){return b.events}function p(){return b.labels}function f(){return b.tasks}function m(){e.$broadcast("updateCalendars")}function v(){e.$broadcast("updateEvents")}function g(){e.$broadcast("updateLabels")}function h(){e.$broadcast("updateTasks")}var b=this;return b.calendars=[],b.events=[],b.labels=[],b.tasks=[],{cacheAll:n,cacheCalendars:r,cacheEvents:a,cacheLabels:o,cacheTasks:c,clearCache:s,getAll:u,getCalendars:i,getEvents:d,getLabels:p,getTasks:f}}angular.module("app").service("cacheService",e),e.$inject=["$rootScope","crudService"]}(),function(){"use strict";function e(e,t){function n(e){switch(this.type=e,this.base="api/",e){case"event":case"calendar":this.base+="activity/calendar/";break;case"label":case"task":this.base+="activity/task/";break;default:this.base+=e+"/"}this.base+=e+"Manager.php"}function r(t){return e.get(this.base,{params:{id:t}}).then(i)["catch"](d)}function a(){return e.get(this.base,{params:{byUser:!0}}).then(i)["catch"](d)}function o(t,n){return e.get(this.base,{params:{where:t,bindings:JSON.stringify(n)}}).then(i)["catch"](d)}function c(t){return t=this.removeUnecessaryKeys(t),e.post(this.base,t).then(i)["catch"](d)}function s(t,n){return n=this.removeUnecessaryKeys(n),e.put(this.base,n,{params:{id:t}}).then(i)["catch"](d)}function l(t){return e["delete"](this.base,{params:{id:t}}).then(i)["catch"](d)}function u(t){return e["delete"](this.base+"?usewhere=true&where="+escape(t)).then(i)["catch"](d)}function i(e){return e}function d(e){return t.error(e),{success:"false",title:"Error when querying server.",message:e}}function p(e){for(var t=["id","person_id",this.type+"_id","activity_info_id","parent_name"],n=0;n<t.length;n++)delete e[t[n]];return e}var f=n;return f.prototype={get:r,getByUser:a,getWhere:o,create:c,update:s,remove:l,removeWhere:u,removeUnecessaryKeys:p},f}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t){function n(t){return e.get(c.base+t).then(a)["catch"](o)}function r(t,n){return e.post(c.base+t,n).then(a)["catch"](o)}function a(e){return e}function o(e){return t.error(e),{success:"false",title:"Error when accessing variable.",message:e}}var c=this;return c.base="api/session/sessionVarManager.php?var=",{getVar:n,setVar:r}}angular.module("app").factory("sessionService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(){function e(e,t,n,r){t[0].focus()}return{restrict:"A",link:e}}angular.module("app").directive("spAutoFocus",e)}(),function(){"use strict";function e(){function e(e,t,n,r){function a(){s()}function o(t){return t===e.otherModel.$viewValue}function c(e,t){r.$validate()}var s=e.$watch("otherModel",c);r.$validators.spCompareTo=o,t.on("$destroy",a)}return{require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e}}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){function t(){e.logout()}t()}angular.module("app").controller("LogoutController",e),e.$inject=["logoutService"]}(),function(){"use strict";function e(e,t,n,r,a){function o(){function o(t){a.clearCache(),e.$broadcast("updateUser"),n.go("login")}function c(e){r.error(e)}return t.post("api/user/logoutManager.php").then(o)["catch"](c)}return{logout:o}}angular.module("app").factory("logoutService",e),e.$inject=["$rootScope","$http","$state","$log","cacheService"]}(),function(){"use strict";function e(e,t,n,r){function a(){i(),d(),e.$on("updateCalendars",i),e.$on("updateEvents",d),p.today=t.getToday(),p.selectedDay=p.today,p.month=t.getMonth(p.today)}function o(e,n){p.selectedDay=t.dayClicked(e,n,p.selectedDay,p.calendars)}function c(e){return t.isSameDay(e,p.selectedDay)}function s(e,n){t.showEventModal(e,n,p.calendars)}function l(){p.month=t.lastMonth(p.month)}function u(){p.month=t.nextMonth(p.month)}function i(){p.calendars=n.getCalendars()}function d(){p.events=r.getEvents()}var p=this;p.events=[],p.calendar=[],p.today=null,p.selectedDay=null,p.month=null,p.dayClicked=o,p.isSameDayAsSelected=c,p.showEventModal=s,p.lastMonth=l,p.nextMonth=u,a()}angular.module("app").controller("EventsController",e),e.$inject=["$rootScope","calendarWidgetService","calendarService","eventsService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/events/events.html",controller:"EventsController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spEvents",e)}(),function(){"use strict";function e(e,t){function n(e){return l.event.create(e).then(s)}function r(e){return e.event_id?c(e.event_id,e):n(e)}function a(e){return l.event.remove(e).then(s)}function o(){return t.getEvents()}function c(e,t){return l.event.update(e,t).then(s)}function s(e){var n=e.data;return n.success?(t.cacheEvents(),n.data):n.title}var l=this;return l.event=new e("event"),{createEvent:n,createOrUpdateEvent:r,deleteEvent:a,getEvents:o,updateEvent:c}}angular.module("app").factory("eventsService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e){function t(t){t.hasOwnProperty("dt_start")?(t.all_day=parseInt(t.all_day),t.dt_start=a(e(t.dt_start)),t.dt_end=a(e(t.dt_end))):(t.hasOwnProperty("due")&&t.due&&(t.due=a(e(t.due))),t.hasOwnProperty("reminder")&&t.reminder&&(t.reminder=a(e(t.reminder))))}function n(t){var n=r();return t.hasOwnProperty("dt_start")?(t.dt_start=o(e(t.dt_start,n)),t.dt_end=o(e(t.dt_end,n))):(t.hasOwnProperty("due")&&t.due&&(t.due=o(e(t.due,n))),t.hasOwnProperty("reminder")&&t.reminder&&(t.reminder=o(e(t.reminder,n)))),t}function r(){return"hh:mm a MM-DD-YYYY"}function a(e){return e.format(r())}function o(e){return e.format("YYYY-MM-DD HH:mm:ss")}return{formatForDisplay:t,formatForStorage:n,getDisplayFormat:r,toDisplayFormat:a,toStorageFormat:o}}angular.module("app").factory("formatService",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t,n,r){function a(){e.dismiss("cancel")}function o(){e.close()}function c(t){e.close(t)}function s(t){e.dismiss(t)}function l(e){r.toggleAllDay(e)}var u=this;u.groups=t,u.item=n,u.cancel=a,u.close=o,u.confirm=c,u.remove=s,u.toggleAllDay=l}angular.module("app").controller("ModalController",e),e.$inject=["$uibModalInstance","groups","item","eventModalService"]}(),function(){"use strict";function e(e){function t(){n.item.recurrence&&e.openRecurrenceModal(n.item)}var n=this;n.showRecurrenceModal=t}angular.module("app").controller("RecurrenceController",e),e.$inject=["recurrenceModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/recurrence/recurrence.html",controller:"RecurrenceController",controllerAs:"rc",bindToController:!0,scope:{item:"="}}}angular.module("app").directive("spRepeat",e)}(),function(){"use strict";function e(){function e(e){e.recurrence=!1}function t(e){}return{clearRecurrence:e,constructRecurrence:t}}angular.module("app").factory("recurrenceService",e)}(),function(){"use strict";function e(e,t,n,r){function a(){s(),l(),e.$on("updateLabels",s),e.$on("updateTasks",l)}function o(e){r.openTaskModal(e,u.labels)}function c(e){t.toggleCompleted(e)}function s(){u.labels=n.getLabels()}function l(){u.tasks=t.getTasks()}var u=this;u.labels=[],u.tasks=[],u.showTaskModal=o,u.toggleCompleted=c,a()}angular.module("app").controller("TasksController",e),e.$inject=["$rootScope","tasksService","labelService","taskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/tasks/tasks.html",controller:"TasksController",controllerAs:"vm",bindToController:!0,scope:{order:"=",days:"=withinDays",inLabels:"=inGroups"}}}angular.module("app").directive("spTasks",e)}(),function(){"use strict";function e(e,t){function n(e){return u.task.create(e).then(l)}function r(e){return e.task_id?s(e.task_id,e):n(e)}function a(e){return u.task.remove(e).then(l)}function o(){return t.getTasks()}function c(e){return e.completed=!parseInt(e.completed),s(e.task_id,e).then(o)}function s(e,t){return u.task.update(e,t).then(l)}function l(e){var n=e.data;return n.success?(t.cacheTasks(),n.data):n.title}var u=this;return u.task=new e("task"),{createTask:n,createOrUpdateTask:r,deleteTask:a,getTasks:o,toggleCompleted:c,updateTask:s}}angular.module("app").factory("tasksService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e,t,n){function r(e,t){return n.uploadFile(e).then(function(e){return e})}var a=this;a.uploadFile=r}angular.module("app").controller("UploadController",e),e.$inject=["$scope","$http","uploadService"]}(),function(){"use strict";function e(e){function t(t,n,r){function a(e){t.$apply(function(){var e=n[0].files[0];e.size<=o?t.uc.uploadFile(e).then(function(e){t.spFileChange=e}):alert("File must be less than "+o/1024/1024+"MB.")})}var o=2097152;e(r.spFileChange);n[0].addEventListener("change",a,!1)}return{restrict:"A",controller:"UploadController",controllerAs:"uc",link:t,scope:{spFileChange:"="}}}angular.module("app").directive("spFileChange",e),e.$inject=["$parse"]}(),function(){"use strict";function e(e,t){function n(n){var r=new FormData;return r.append("file",n),e.post("api/upload/uploadManager.php",r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return e.data.success?e.data.data:(t.error(e.title),"")})["catch"](function(e){t.error(e)})}return{uploadFile:n}}angular.module("app").factory("uploadService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t,n,r){function a(){}function o(e){r.openUserModal(e).then(function(e){e&&(c.users=e)})}var c=this;c.isAdmin=e,c.users=t,c.showUserModal=o,a()}angular.module("app").controller("AdminController",e),e.$inject=["isAdmin","users","userService","userModalService"]}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.login(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.loading=!1,n.error="",n.login=t}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,t,n,r,a){function o(o){function c(t){return t.data.success===!1?t.data.title:(a.cacheAll(),e.$broadcast("updateUser"),void n.go("dashboard"))}function s(e){return r.error(e),"Something went wrong. Please try again."}return o.name=o.name.toLowerCase().trim(),t.post("api/user/loginManager.php",o).then(c)["catch"](s)}return{login:o}}angular.module("app").factory("loginService",e),e.$inject=["$rootScope","$http","$state","$log","cacheService"]}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.register(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.error="",n.loading=!1,n.register=t}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,t,n){function r(n){function r(n){return"false"===n.success?(t.error(n.title),n.title):void e.url("/login")}return n.name=n.name.toLowerCase().trim(),a.crud.create(n).then(r)}var a=this;return a.crud=new n("user"),{register:r}}angular.module("app").factory("registerService",e),e.$inject=["$location","$log","crudService"]}(),function(){"use strict";function e(e){this.labelId=e.labelId}angular.module("app").controller("LabelPageController",e),e.$inject=["$stateParams"]}(),function(){"use strict";function e(e,t,n){function r(){function e(e){return e.data.success!==!1?o.resolve(n.OK):o.reject(n.UNAUTHORIZED),o.promise}return t.getVar("name").then(e)}function a(){function e(e){var t=e.data;return t.success===!1||"0"===t.data?o.reject(n.FORBIDDEN):o.resolve(n.OK),o.promise}return t.getVar("admin").then(e)}var o=e.defer();return{isAuthenticated:r,isAdmin:a}}angular.module("app").factory("accessService",e),e.$inject=["$q","sessionService","statusService"]}(),function(){"use strict";function e(){return{OK:200,UNAUTHORIZED:401,FORBIDDEN:403}}angular.module("app").service("statusService",e)}(),function(){"use strict";function e(e,t){function n(e){return s.calendar.create(e).then(c)}function r(e){return s.calendar.remove(e).then(c)}function a(){return t.getCalendars()}function o(e,t){return s.calendar.update(e,t).then(c)}function c(e){var n=e.data;return n.success?(t.cacheCalendars(),n.data):n.title}var s=this;return s.calendar=new e("calendar"),{createCalendar:n,deleteCalendar:r,getCalendars:a,updateCalendar:o}}angular.module("app").factory("calendarService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e,t,n,r){function a(t,a){var o={};return angular.extend(o,t),r.formatForDisplay(o),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/events/modal/event.modal.html",resolve:{groups:function(){return a},item:o}}).result.then(function(e){return r.formatForStorage(e),n.createOrUpdateEvent(e).then(n.getEvents)},function(e){return Number(e)?n.deleteEvent(e).then(n.getEvents):void 0})}function o(e){var n=r.getDisplayFormat();if(e.all_day)e.dt_start=r.toDisplayFormat(t(e.dt_start,n).startOf("day")),e.dt_end=r.toDisplayFormat(t(e.dt_start,n).endOf("day"));else{var a=t().startOf("hour").hour();e.dt_start=r.toDisplayFormat(t(e.dt_start,n).hour(a)),e.dt_end=r.toDisplayFormat(t(e.dt_start,n).hour(a).add(1,"hours"))}}return{openEventModal:a,toggleAllDay:o}}angular.module("app").factory("eventModalService",e),e.$inject=["$uibModal","moment","eventsService","formatService"]}(),function(){"use strict";function e(e,t){function n(e,t,n,r){return c(t.fullDate,n)?(u(e,{dt_start:t.fullDate,dt_end:t.fullDate.clone().endOf("day"),all_day:1},r),n):t.fullDate}function r(e){for(var t=[],n=e.clone().date(1).startOf("week"),r=0;6>r;r++)t.push(o(n,e.month())),n=n.add(1,"weeks");return t}function a(){return e()}function o(t,n){for(var r=[],a=t.clone(),o=0;7>o;o++)r.push({number:a.date(),isTargetMonth:a.month()===n,isToday:a.isSame(e(),"day"),fullDate:a}),a=a.clone().add(1,"days");return r}function c(e,t){return e.isSame(t,"day")}function s(e){return r(e[3][0].fullDate.clone().subtract(1,"months"))}function l(e){return r(e[3][0].fullDate.clone().add(1,"months"))}function u(e,n,r){e.stopPropagation(),t.openEventModal(n,r)}return{dayClicked:n,getMonth:r,getToday:a,getWeek:o,isSameDay:c,lastMonth:s,nextMonth:l,showEventModal:u}}angular.module("app").factory("calendarWidgetService",e),e.$inject=["moment","eventModalService"]}(),function(){"use strict";function e(e,t){function n(n){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/recurrence/modal/recurrence.modal.html",resolve:{groups:function(){return r},item:n}}).result.then(function(e){t.constructRecurrence(n)},function(e){t.clearRecurrence(n)})}var r={freq:["hourly","daily","weekly","monthly","yearly"],days:["mo","tu","we","th","fr","sa","su"]};return{openRecurrenceModal:n}}angular.module("app").factory("recurrenceModalService",e),e.$inject=["$uibModal","recurrenceService"]}(),function(){"use strict";function e(e,t){function n(e){return s.label.create(e).then(c)}function r(e){return s.label.remove(e).then(c)}function a(){return t.getLabels()}function o(e,t){return s.label.update(e,t).then(c)}function c(e){var n=e.data;return n.success?(t.cacheLabels(),n.data):n.title}var s=this;return s.label=new e("label"),{createLabel:n,deleteLabel:r,getLabels:a,updateLabel:o}}angular.module("app").factory("labelService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){var a={};angular.extend(a,t),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/tasks/modal/subtask.modal.html",resolve:{groups:r,item:a}}).result.then(function(e){n.createOrUpdateSubtask(e.subtask,e.task)},function(e){"string"!=typeof e&&n.deleteSubtask(e.subtask,e.task)})}return{openSubtaskModal:r}}angular.module("app").factory("subtaskModalService",e),e.$inject=["$uibModal","labelService","subtasksService"]}(),function(){"use strict";function e(e,t,n){function r(r,a){var o={};return angular.extend(o,r),n.formatForDisplay(o),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/tasks/modal/task.modal.html",resolve:{groups:function(){return a},item:o}}).result.then(function(e){return e=n.formatForStorage(e),t.createOrUpdateTask(e).then(t.getTasks)},function(e){return Number(e)?t.deleteTask(e).then(t.getTasks):void 0})}return{openTaskModal:r}}angular.module("app").factory("taskModalService",e),e.$inject=["$uibModal","tasksService","formatService"]}(),function(){"use strict";function e(e,t){function n(e){t.openSubtaskModal(e,a.task)}function r(t){e.toggleCompleted(t)}var a=this;a.showSubtaskModal=n,a.toggleCompleted=r}angular.module("app").controller("SubtasksController",e),e.$inject=["subtasksService","subtaskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/tasks/subtasks/subtasks.html",controller:"SubtasksController",controllerAs:"st",bindToController:!0,scope:{task:"="}}}angular.module("app").directive("spSubtasks",e)}(),function(){"use strict";function e(e,t){function n(e,t){t.subtasks||(t.subtasks={currentId:1,list:[]}),void 0===e.id&&(e.id=t.subtasks.currentId++,e.completed=!1,t.subtasks.list.push(e))}function r(e,t){t.subtasks.list.splice(t.subtasks.list.indexOf(e),1)}function a(e){e.completed=!e.completed}return{createOrUpdateSubtask:n,deleteSubtask:r,toggleCompleted:a}}angular.module("app").factory("subtasksService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t){function n(n){var r={};return angular.extend(r,n),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"pages/admin/modal/user.modal.html",resolve:{groups:{},item:r}}).result.then(function(e){return t.createOrUpdateUser(e).then(t.getUsers)},function(e){return Number(e)?t.deleteUser(e).then(t.getUsers):void 0})}return{openUserModal:n}}angular.module("app").factory("userModalService",e),e.$inject=["$uibModal","userService"]}(),function(){"use strict";function e(e){function t(e){return s.user.create(e).then(c)}function n(e){return e.id?o(e.id,e):t(e)}function r(e){return s.user.remove(e).then(c)}function a(){return s.user.getWhere("",{}).then(c)}function o(e,t){return s.user.update(e,t).then(c)}function c(e){var t=e.data;return t.success?t.data:t.title}var s=this;return s.user=new e("user"),{createUser:t,createOrUpdateUser:n,deleteUser:r,getUsers:a,updateUser:o}}angular.module("app").factory("userService",e),e.$inject=["crudService"]}(),function(){"use strict";function e(e,t,n){function r(){e.$on("updateUser",a)}function a(){n.getUser().then(function(e){o.user=e})}var o=this;o.user=t,r()}angular.module("app").controller("HeaderController",e),e.$inject=["$rootScope","user","headerService"]}(),function(){"use strict";function e(e,t,n){function r(){function e(e){var t=e.data;return t.success===!1?{name:"",avatar:"content/img/user.png"}:t.data}return n.getVar("all").then(e)}return{getUser:r}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log","sessionService"]}(),function(){"use strict";function e(e,t,n,r){function a(){l(),u(),i.collapsed=r.getCollapsed(),e.$on("updateCalendars",l),e.$on("updateLabels",u)}function o(){i.collapsed=r.toggleSidebar()}function c(){i.collapsed=r.toggleCalendars()}function s(){i.collapsed=r.toggleLabels()}function l(){i.calendars=n.getCalendars()}function u(){i.labels=t.getLabels()}var i=this;i.collapsed={},i.labels=[],i.calendars=[],i.toggleSidebar=o,i.toggleCalendars=c,i.toggleLabels=s,a()}angular.module("app").controller("SidebarController",e),e.$inject=["$rootScope","labelService","calendarService","sidebarService"]}(),function(){"use strict";function e(e){function t(){e.innerWidth<600?c.collapsed={sidebar:!0,calendars:!0,labels:!0}:c.collapsed={sidebar:!1,calendars:!1,labels:!1}}function n(){return c.collapsed}function r(){return c.collapsed.sidebar=!c.collapsed.sidebar,c.collapsed.sidebar&&(c.collapsed.calendars=!0,c.collapsed.labels=!0),c.collapsed}function a(){return c.collapsed.calendars=!c.collapsed.calendars,c.collapsed.calendars||(c.collapsed.sidebar=!1),c.collapsed}function o(){return c.collapsed.labels=!c.collapsed.labels,c.collapsed.labels||(c.collapsed.sidebar=!1),c.collapsed}var c=this;return c.collapsed={},t(),{getCollapsed:n,toggleSidebar:r,toggleCalendars:a,toggleLabels:o}}angular.module("app").factory("sidebarService",e),e.$inject=["$window"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiYXBwQ29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJjYWNoZUFsbCIsImNhY2hlU2VydmljZSIsImdldFVzZXIiLCJoZWFkZXJTZXJ2aWNlIiwiZ2V0VXNlcnMiLCJ1c2VyU2VydmljZSIsImlzQXV0aGVudGljYXRlZCIsImFjY2Vzc1NlcnZpY2UiLCJpc0FkbWluIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImFic3RyYWN0IiwicmVzb2x2ZSIsImNhY2hlIiwidXNlciIsInZpZXdzIiwiaGVhZGVyIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInNpZGViYXIiLCJwYXJlbnQiLCJjb250ZW50QCIsInVzZXJzIiwib3RoZXJ3aXNlIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRpbmplY3QiLCJydW5CbG9jayIsImFwcFNlcnZpY2UiLCJpbml0IiwicnVuIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsInN0YXR1c1NlcnZpY2UiLCIkb24iLCJzdGF0ZUNoYW5nZUVycm9yIiwiZXZlbnQiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwiZXJyb3IiLCJVTkFVVEhPUklaRUQiLCJwcmV2ZW50RGVmYXVsdCIsImdvIiwibmFtZSIsIkZPUkJJRERFTiIsImZhY3RvcnkiLCJpbkdyb3VwcyIsImFjdGl2aXRpZXMiLCJncm91cHMiLCJhY3Rpdml0aWVzSW5Hcm91cHMiLCJpIiwibGVuZ3RoIiwibGFiZWxfaWQiLCJjYWxlbmRhcl9pZCIsInB1c2giLCJmaWx0ZXIiLCJzYW1lRGF5QXMiLCJtb21lbnQiLCJldmVudHMiLCJkYXkiLCJzYW1lRGF5RXZlbnRzIiwicmVzdWx0IiwiaXNTYW1lIiwiZHRfc3RhcnQiLCJkdF9lbmQiLCJ3aXRoaW5EYXlzIiwidGFza3MiLCJudW1PZkRheXMiLCJ0YXNrc1dpdGhpbkRheXMiLCJkdWUiLCJpc0JlZm9yZSIsImFkZCIsImNydWRTZXJ2aWNlIiwiY2FjaGVDYWxlbmRhcnMiLCJjYWNoZUV2ZW50cyIsImNhY2hlTGFiZWxzIiwiY2FjaGVUYXNrcyIsInZtIiwiY2FsZW5kYXIiLCJnZXRCeVVzZXIiLCJ0aGVuIiwicmVzcG9uc2UiLCJjYWxlbmRhcnMiLCJnZXRSZXN1bHQiLCJ1cGRhdGVDYWxlbmRhcnMiLCJ1cGRhdGVFdmVudHMiLCJsYWJlbCIsImxhYmVscyIsInVwZGF0ZUxhYmVscyIsInRhc2siLCJ1cGRhdGVUYXNrcyIsImNsZWFyQ2FjaGUiLCJkYXRhIiwic3VjY2VzcyIsInRpdGxlIiwiZ2V0QWxsIiwiZ2V0Q2FsZW5kYXJzIiwiZ2V0RXZlbnRzIiwiZ2V0TGFiZWxzIiwiZ2V0VGFza3MiLCIkYnJvYWRjYXN0IiwidGhpcyIsInNlcnZpY2UiLCIkaHR0cCIsIiRsb2ciLCJ0eXBlIiwiYmFzZSIsImdldCIsImlkIiwicGFyYW1zIiwicHJvbWlzZUNvbXBsZXRlIiwicHJvbWlzZUZhaWxlZCIsImJ5VXNlciIsImdldFdoZXJlIiwid2hlcmUiLCJiaW5kaW5ncyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjcmVhdGUiLCJyZW1vdmVVbmVjZXNzYXJ5S2V5cyIsInBvc3QiLCJ1cGRhdGUiLCJwdXQiLCJyZW1vdmUiLCJyZW1vdmVXaGVyZSIsImVzY2FwZSIsIm1lc3NhZ2UiLCJ0b0RlbGV0ZSIsImNydWQiLCJwcm90b3R5cGUiLCJzZXNzaW9uU2VydmljZSIsImdldFZhciIsIiRuYW1lIiwic2V0VmFyIiwiJHZhbHVlIiwiYXV0b0ZvY3VzRGlyZWN0aXZlIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwibmdNb2RlbCIsImZvY3VzIiwicmVzdHJpY3QiLCJkaXJlY3RpdmUiLCJjb21wYXJlVG9EaXJlY3RpdmUiLCJjbGVhblVwIiwidW5iaW5kV2F0Y2giLCJjb21wYXJlVmFsdWVzIiwidmlld1ZhbHVlIiwib3RoZXJNb2RlbCIsIiR2aWV3VmFsdWUiLCJ2YWxpZGF0ZU9uQ2hhbmdlIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsIiR2YWxpZGF0ZSIsIiR3YXRjaCIsIiR2YWxpZGF0b3JzIiwic3BDb21wYXJlVG8iLCJvbiIsInJlcXVpcmUiLCJMb2dvdXRDb250cm9sbGVyIiwibG9nb3V0U2VydmljZSIsImFjdGl2YXRlIiwibG9nb3V0IiwibG9nb3V0Q29tcGxldGUiLCJsb2dvdXRGYWlsZWQiLCJFdmVudHNDb250cm9sbGVyIiwiY2FsZW5kYXJXaWRnZXRTZXJ2aWNlIiwiY2FsZW5kYXJTZXJ2aWNlIiwiZXZlbnRzU2VydmljZSIsInRvZGF5IiwiZ2V0VG9kYXkiLCJzZWxlY3RlZERheSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkYXlDbGlja2VkIiwiY2xpY2tFdmVudCIsImlzU2FtZURheUFzU2VsZWN0ZWQiLCJpc1NhbWVEYXkiLCJzaG93RXZlbnRNb2RhbCIsImxhc3RNb250aCIsIm5leHRNb250aCIsImV2ZW50c0RpcmVjdGl2ZSIsImJpbmRUb0NvbnRyb2xsZXIiLCJjcmVhdGVFdmVudCIsImNyZWF0ZU9yVXBkYXRlRXZlbnQiLCJldmVudF9pZCIsInVwZGF0ZUV2ZW50IiwiZGVsZXRlRXZlbnQiLCJyZXMiLCJmb3JtYXRTZXJ2aWNlIiwiZm9ybWF0Rm9yRGlzcGxheSIsImFjdGl2aXR5IiwiaGFzT3duUHJvcGVydHkiLCJhbGxfZGF5IiwicGFyc2VJbnQiLCJ0b0Rpc3BsYXlGb3JtYXQiLCJyZW1pbmRlciIsImZvcm1hdEZvclN0b3JhZ2UiLCJkaXNwbGF5Rm9ybWF0IiwiZ2V0RGlzcGxheUZvcm1hdCIsInRvU3RvcmFnZUZvcm1hdCIsImZvcm1hdCIsIk1vZGFsQ29udHJvbGxlciIsIiR1aWJNb2RhbEluc3RhbmNlIiwiaXRlbSIsImV2ZW50TW9kYWxTZXJ2aWNlIiwiY2FuY2VsIiwiZGlzbWlzcyIsImNsb3NlIiwiY29uZmlybSIsInRvZ2dsZUFsbERheSIsIlJlY3VycmVuY2VDb250cm9sbGVyIiwicmVjdXJyZW5jZU1vZGFsU2VydmljZSIsInNob3dSZWN1cnJlbmNlTW9kYWwiLCJyYyIsInJlY3VycmVuY2UiLCJvcGVuUmVjdXJyZW5jZU1vZGFsIiwicmVjdXJyZW5jZURpcmVjdGl2ZSIsInJlY3VycmVuY2VTZXJ2aWNlIiwiY2xlYXJSZWN1cnJlbmNlIiwiY29uc3RydWN0UmVjdXJyZW5jZSIsIlRhc2tzQ29udHJvbGxlciIsInRhc2tzU2VydmljZSIsImxhYmVsU2VydmljZSIsInRhc2tNb2RhbFNlcnZpY2UiLCJzaG93VGFza01vZGFsIiwib3BlblRhc2tNb2RhbCIsInRvZ2dsZUNvbXBsZXRlZCIsInRhc2tzRGlyZWN0aXZlIiwib3JkZXIiLCJkYXlzIiwiaW5MYWJlbHMiLCJjcmVhdGVUYXNrIiwiY3JlYXRlT3JVcGRhdGVUYXNrIiwidGFza19pZCIsInVwZGF0ZVRhc2siLCJkZWxldGVUYXNrIiwiY29tcGxldGVkIiwiVXBsb2FkQ29udHJvbGxlciIsIiRzY29wZSIsInVwbG9hZFNlcnZpY2UiLCJ1cGxvYWRGaWxlIiwiZmlsZSIsIm9sZEZpbGUiLCJmaWxlUGF0aCIsInVjIiwidXBsb2FkRGlyZWN0aXZlIiwiJHBhcnNlIiwiZmlsZUhhbmRsZXIiLCIkYXBwbHkiLCJmaWxlcyIsInNpemUiLCJtYXhGaWxlU2l6ZSIsInNwRmlsZUNoYW5nZSIsImFsZXJ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwidW5kZWZpbmVkIiwiQWRtaW5Db250cm9sbGVyIiwidXNlck1vZGFsU2VydmljZSIsInNob3dVc2VyTW9kYWwiLCJvcGVuVXNlck1vZGFsIiwiTG9naW5Db250cm9sbGVyIiwibG9naW5TZXJ2aWNlIiwibG9naW4iLCJsb2FkaW5nIiwibG9naW5Db21wbGV0ZSIsImxvZ2luRmFpbGVkIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwiUmVnaXN0ZXJDb250cm9sbGVyIiwicmVnaXN0ZXJTZXJ2aWNlIiwicmVnaXN0ZXIiLCIkbG9jYXRpb24iLCJyZWdpc3RyYXRpb25Db21wbGV0ZSIsIkxhYmVsUGFnZUNvbnRyb2xsZXIiLCIkc3RhdGVQYXJhbXMiLCJsYWJlbElkIiwiJHEiLCJpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZSIsImRlZmVycmVkIiwiT0siLCJyZWplY3QiLCJwcm9taXNlIiwiaXNBZG1pbkNvbXBsZXRlIiwiZGVmZXIiLCJjcmVhdGVDYWxlbmRhciIsImRlbGV0ZUNhbGVuZGFyIiwidXBkYXRlQ2FsZW5kYXIiLCIkdWliTW9kYWwiLCJvcGVuRXZlbnRNb2RhbCIsImNsb25lZEV2ZW50IiwiZXh0ZW5kIiwib3BlbiIsIk51bWJlciIsImRpc3BsYXkiLCJzdGFydE9mIiwiZW5kT2YiLCJjdXJyZW50SG91ciIsImhvdXIiLCJmdWxsRGF0ZSIsImNsb25lIiwiYURheSIsImRhdGUiLCJnZXRXZWVrIiwic3RhcnREYXkiLCJ0YXJnZXRNb250aCIsIndlZWsiLCJudW1iZXIiLCJpc1RhcmdldE1vbnRoIiwiaXNUb2RheSIsImRheTEiLCJkYXkyIiwic3JjTW9udGgiLCJzdWJ0cmFjdCIsInN0b3BQcm9wYWdhdGlvbiIsInJlY3VycmVuY2VJbmZvIiwiZnJlcSIsImNyZWF0ZUxhYmVsIiwiZGVsZXRlTGFiZWwiLCJ1cGRhdGVMYWJlbCIsInN1YnRhc2tNb2RhbFNlcnZpY2UiLCJzdWJ0YXNrc1NlcnZpY2UiLCJvcGVuU3VidGFza01vZGFsIiwic3VidGFzayIsImNsb25lZFN1YnRhc2siLCJjcmVhdGVPclVwZGF0ZVN1YnRhc2siLCJkZWxldGVTdWJ0YXNrIiwiY2xvbmVkVGFzayIsIlN1YnRhc2tzQ29udHJvbGxlciIsInNob3dTdWJ0YXNrTW9kYWwiLCJzdCIsInN1YnRhc2tzRGlyZWN0aXZlIiwic3VidGFza3MiLCJjdXJyZW50SWQiLCJsaXN0Iiwic3BsaWNlIiwiaW5kZXhPZiIsImNsb25lZFVzZXIiLCJjcmVhdGVPclVwZGF0ZVVzZXIiLCJkZWxldGVVc2VyIiwiY3JlYXRlVXNlciIsInVwZGF0ZVVzZXIiLCJIZWFkZXJDb250cm9sbGVyIiwiZ2V0TmFtZUNvbXBsZXRlIiwiYXZhdGFyIiwiU2lkZWJhckNvbnRyb2xsZXIiLCJzaWRlYmFyU2VydmljZSIsImNvbGxhcHNlZCIsImdldENvbGxhcHNlZCIsInRvZ2dsZVNpZGViYXIiLCJ0b2dnbGVDYWxlbmRhcnMiLCJ0b2dnbGVMYWJlbHMiLCIkd2luZG93IiwiaW5uZXJXaWR0aCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQyxZQU9BLFNBQVNBLEdBQVVDLEVBQWdCQyxHQW9KbEMsUUFBU0MsR0FBU0MsR0FDakIsTUFBT0EsR0FBYUQsV0FHckIsUUFBU0UsR0FBUUMsR0FDaEIsTUFBT0EsR0FBY0QsVUFHdEIsUUFBU0UsR0FBU0MsR0FDakIsTUFBT0EsR0FBWUQsV0FHcEIsUUFBU0UsR0FBZ0JDLEdBQ3hCLE1BQU9BLEdBQWNELGtCQUd0QixRQUFTRSxHQUFRRCxHQUNoQixNQUFPQSxHQUFjQyxVQW5LdEJWLEVBQ0VXLE1BQU0sUUFDTkMsSUFBSyxHQUNMQyxZQUFhLGFBQ2JDLFlBQVUsRUFDVkMsU0FDQ0MsT0FBUSxlQUFnQmQsR0FDeEJlLE1BQU8sZ0JBQWlCYixJQUV6QmMsT0FDQ0MsUUFDQ04sWUFBYSxrQ0FDYk8sV0FBWSxtQkFDWkMsYUFBYyxNQUVmQyxTQUNDVCxZQUFhLG9DQUNiTyxXQUFZLG9CQUNaQyxhQUFjLFNBSWhCVixNQUFNLFNBQ05DLElBQUssU0FDTFcsT0FBUSxPQUNSTCxPQUNDTSxZQUNDWCxZQUFhLHlCQUNiTyxXQUFZLGtCQUNaQyxhQUFjLFNBSWhCVixNQUFNLFVBQ05DLElBQUssVUFDTFcsT0FBUSxPQUNSTCxPQUNDTSxZQUNDSixXQUFZLG1CQUNaQyxhQUFjLFNBSWhCVixNQUFNLFlBQ05DLElBQUssWUFDTFcsT0FBUSxPQUNSTCxPQUNDTSxZQUNDWCxZQUFhLCtCQUNiTyxXQUFZLHFCQUNaQyxhQUFjLFNBSWhCVixNQUFNLFNBQ05DLElBQUssU0FDTFcsT0FBUSxPQUNSTCxPQUNDTSxZQUNDWCxZQUFhLHlCQUNiTyxXQUFZLGtCQUNaQyxhQUFjLEtBQ2ROLFNBQ0NMLFNBQVUsZ0JBQWlCQSxHQUMzQmUsT0FBUSxjQUFlbkIsUUFLMUJLLE1BQU0sYUFDTkMsSUFBSyxhQUNMVyxPQUFRLE9BQ1JMLE9BQ0NNLFlBQ0NYLFlBQWEsaUNBQ2JFLFNBQ0NQLGlCQUFrQixnQkFBaUJBLFFBS3RDRyxNQUFNLFVBQ05DLElBQUssVUFDTFcsT0FBUSxTQUVSWixNQUFNLGdCQUNOQyxJQUFLLFlBQ0xNLE9BQ0NNLFlBQ0NYLFlBQWEseUJBQ2JPLFdBQVksc0JBQ1pDLGFBQWMsU0FJaEJWLE1BQU0sU0FDTkMsSUFBSyxTQUNMVyxPQUFRLE9BQ1JMLE9BQ0NNLFlBQ0NYLFlBQWEseUJBQ2JFLFNBQ0NQLGlCQUFrQixnQkFBaUJBLFFBS3RDRyxNQUFNLFNBQ05DLElBQUssU0FDTFcsT0FBUSxPQUNSTCxPQUNDTSxZQUNDWCxZQUFhLHlCQUNiRSxTQUNDUCxpQkFBa0IsZ0JBQWlCQSxRQUt0Q0csTUFBTSxRQUNOQyxJQUFLLFFBQ0xXLE9BQVEsT0FDUkwsT0FDQ00sWUFDQ1gsWUFBYSx3QkFDYkUsU0FDQ1AsaUJBQWtCLGdCQUFpQkEsUUFLdENHLE1BQU0sWUFDTkMsSUFBSyxZQUNMVyxPQUFRLE9BQ1JMLE9BQ0NNLFlBQ0NYLFlBQWEsK0JBQ2JFLFNBQ0NQLGlCQUFrQixnQkFBaUJBLFFBTXhDUCxFQUFtQnlCLFVBQVUsY0F2SjlCQyxRQUNFQyxPQUFPLE9BQVEsWUFBYSxlQUFnQixrQkFDNUNDLE9BQU85QixHQUVUQSxFQUFVK0IsU0FBVyxpQkFBa0IseUJBMEt4QyxXQUNDLFlBT0EsU0FBU0MsR0FBU0MsR0FDakJBLEVBQVdDLE9BTlpOLFFBQ0VDLE9BQU8sT0FDUE0sSUFBSUgsR0FFTkEsRUFBU0QsU0FBVyxpQkFLckIsV0FDQyxZQU9BLFNBQVNFLEdBQVdHLEVBQVlDLEVBQVFDLEdBS3ZDLFFBQVNKLEtBQ1JFLEVBQVdHLElBQUksb0JBQXFCQyxHQUdyQyxRQUFTQSxHQUFpQkMsRUFBT0MsRUFBU0MsRUFBVUMsRUFBV0MsRUFBWUMsR0FDdEVBLElBQVVSLEVBQWNTLGNBQzNCTixFQUFNTyxpQkFDTlgsRUFBT1ksR0FBRyxVQUNpQixVQUFqQlAsRUFBUVEsTUFBb0JKLElBQVVSLEVBQWNhLFVBWmhFLE9BQ0NqQixLQUFNQSxHQVBSTixRQUNFQyxPQUFPLE9BQ1B1QixRQUFRLGFBQWNuQixHQUV4QkEsRUFBV0YsU0FBVyxhQUFjLFNBQVUsb0JBc0IvQyxXQUNDLFlBT0EsU0FBU3NCLEtBQ1IsTUFBTyxVQUFTQyxFQUFZQyxHQUMzQixJQUFLQSxFQUNKLE1BQU9ELEVBS1IsS0FBSyxHQUZERSxNQUVLQyxFQUFJLEVBQUdBLEVBQUlILEVBQVdJLE9BQVFELEtBQ2xDSCxFQUFXRyxHQUFHRSxXQUFhSixHQUM5QkQsRUFBV0csR0FBR0csY0FBZ0JMLElBRTlCQyxFQUFtQkssS0FBS1AsRUFBV0csR0FJckMsT0FBT0QsSUFyQlQ1QixRQUNFQyxPQUFPLE9BQ1BpQyxPQUFPLFdBQVlULEdBRXJCQSxFQUFTdEIsY0FxQlYsV0FDQyxZQU9BLFNBQVNnQyxHQUFVQyxHQUNsQixNQUFPLFVBQVNDLEVBQVFDLEdBR3ZCLElBQUssR0FGREMsTUFFS1YsRUFBSSxFQUFHQSxFQUFJUSxFQUFPUCxPQUFRRCxJQUFLLENBQ3ZDLEdBQUlXLEdBQVNGLEVBQUlHLE9BQU9MLEVBQU9DLEVBQU9SLEdBQUdhLFVBQVcsTUFFL0NGLEtBQ0pBLEVBQVNGLEVBQUlHLE9BQU9MLEVBQU9DLEVBQU9SLEdBQUdjLFFBQVMsUUFHNUNILEdBQ0ZELEVBQWNOLEtBQUtJLEVBQU9SLElBSTVCLE1BQU9VLElBckJUdkMsUUFDRUMsT0FBTyxPQUNQaUMsT0FBTyxZQUFhQyxHQUV0QkEsRUFBVWhDLFNBQVcsYUFxQnRCLFdBQ0MsWUFPQSxTQUFTeUMsR0FBV1IsR0FDbkIsTUFBTyxVQUFTUyxFQUFPQyxHQUN0QixJQUFLQSxFQUNKLE1BQU9ELEVBS1IsS0FBSyxHQUZERSxNQUVLbEIsRUFBSSxFQUFHQSxFQUFJZ0IsRUFBTWYsT0FBUUQsSUFBSyxHQUdqQ2dCLEVBQU1oQixHQUFHbUIsS0FBUUgsRUFBTWhCLEdBQUdtQixLQUM5QlosRUFBT1MsRUFBTWhCLEdBQUdtQixLQUFLQyxTQUFTYixJQUFTYyxJQUFJSixFQUFXLFdBRXREQyxFQUFnQmQsS0FBS1ksRUFBTWhCLElBSTdCLE1BQU9rQixJQXZCVC9DLFFBQ0VDLE9BQU8sT0FDUGlDLE9BQU8sYUFBY1UsR0FFdkJBLEVBQVd6QyxTQUFXLGFBdUJ2QixXQUNDLFlBT0EsU0FBUzNCLEdBQWFnQyxFQUFZMkMsR0F1QmpDLFFBQVM1RSxLQUNSNkUsSUFDQUMsSUFDQUMsSUFDQUMsSUFHRCxRQUFTSCxLQUNSSSxFQUFHQyxTQUFXLEdBQUlOLEdBQVksWUFDOUJLLEVBQUdDLFNBQVNDLFlBQ1ZDLEtBQUssU0FBU0MsR0FDZEosRUFBR0ssVUFBWUMsRUFBVUYsR0FDekJHLE1BSUgsUUFBU1YsS0FDUkcsRUFBRzNDLE1BQVEsR0FBSXNDLEdBQVksU0FDM0JLLEVBQUczQyxNQUFNNkMsWUFDUEMsS0FBSyxTQUFTQyxHQUNkSixFQUFHbkIsT0FBU3lCLEVBQVVGLEdBQ3RCSSxNQUlILFFBQVNWLEtBQ1JFLEVBQUdTLE1BQVEsR0FBSWQsR0FBWSxTQUMzQkssRUFBR1MsTUFBTVAsWUFDUEMsS0FBSyxTQUFTQyxHQUNkSixFQUFHVSxPQUFTSixFQUFVRixHQUN0Qk8sTUFJSCxRQUFTWixLQUNSQyxFQUFHWSxLQUFPLEdBQUlqQixHQUFZLFFBQzFCSyxFQUFHWSxLQUFLVixZQUNOQyxLQUFLLFNBQVNDLEdBQ2RKLEVBQUdYLE1BQVFpQixFQUFVRixHQUNyQlMsTUFJSCxRQUFTQyxLQUNSZCxFQUFHSyxhQUNITCxFQUFHbkIsVUFDSG1CLEVBQUdVLFVBQ0hWLEVBQUdYLFNBRUhrQixJQUNBQyxJQUNBRyxJQUNBRSxJQUdELFFBQVNQLEdBQVVGLEdBQ2xCLEdBQUlwQixHQUFTb0IsRUFBU1csSUFDdEIsT0FBTy9CLEdBQU9nQyxRQUFVaEMsRUFBTytCLEtBQU8vQixFQUFPaUMsTUFHOUMsUUFBU0MsS0FDUixPQUNDYixVQUFXYyxJQUNYdEMsT0FBUXVDLElBQ1JWLE9BQVFXLElBQ1JoQyxNQUFPaUMsS0FJVCxRQUFTSCxLQUNSLE1BQU9uQixHQUFHSyxVQUdYLFFBQVNlLEtBQ1IsTUFBT3BCLEdBQUduQixPQUdYLFFBQVN3QyxLQUNSLE1BQU9yQixHQUFHVSxPQUdYLFFBQVNZLEtBQ1IsTUFBT3RCLEdBQUdYLE1BR1gsUUFBU2tCLEtBQ1J2RCxFQUFXdUUsV0FBVyxtQkFHdkIsUUFBU2YsS0FDUnhELEVBQVd1RSxXQUFXLGdCQUd2QixRQUFTWixLQUNSM0QsRUFBV3VFLFdBQVcsZ0JBR3ZCLFFBQVNWLEtBQ1I3RCxFQUFXdUUsV0FBVyxlQXhIdkIsR0FBSXZCLEdBQUt3QixJQU1ULE9BTEF4QixHQUFHSyxhQUNITCxFQUFHbkIsVUFDSG1CLEVBQUdVLFVBQ0hWLEVBQUdYLFVBR0Z0RSxTQUFVQSxFQUNWNkUsZUFBZ0JBLEVBQ2hCQyxZQUFhQSxFQUNiQyxZQUFhQSxFQUNiQyxXQUFZQSxFQUNaZSxXQUFZQSxFQUVaSSxPQUFRQSxFQUNSQyxhQUFjQSxFQUNkQyxVQUFXQSxFQUNYQyxVQUFXQSxFQUNYQyxTQUFVQSxHQXhCWjlFLFFBQ0VDLE9BQU8sT0FDUGdGLFFBQVEsZUFBZ0J6RyxHQUUxQkEsRUFBYTJCLFNBQVcsYUFBYyxrQkErSHZDLFdBQ0MsWUFlQSxTQUFTZ0QsR0FBWStCLEVBQU9DLEdBc0IzQixRQUFTN0UsR0FBSzhFLEdBSWIsT0FGQUosS0FBS0ksS0FBT0EsRUFDWkosS0FBS0ssS0FBTyxPQUNKRCxHQUNQLElBQUssUUFDTCxJQUFLLFdBQ0pKLEtBQUtLLE1BQVEsb0JBQ2IsTUFDRCxLQUFLLFFBQ0wsSUFBSyxPQUNKTCxLQUFLSyxNQUFRLGdCQUNiLE1BQ0QsU0FDQ0wsS0FBS0ssTUFBUUQsRUFBTyxJQUV0QkosS0FBS0ssTUFBUUQsRUFBTyxjQVFyQixRQUFTRSxHQUFJQyxHQUNaLE1BQU9MLEdBQU1JLElBQUlOLEtBQUtLLE1BQU9HLFFBQVVELEdBQUlBLEtBQ3pDNUIsS0FBSzhCLEdBREFQLFNBRUNRLEdBS1QsUUFBU2hDLEtBQ1IsTUFBT3dCLEdBQU1JLElBQUlOLEtBQUtLLE1BQU9HLFFBQVNHLFFBQVEsS0FDNUNoQyxLQUFLOEIsR0FEQVAsU0FFQ1EsR0FHVCxRQUFTRSxHQUFTQyxFQUFPQyxHQUN4QixNQUFPWixHQUFNSSxJQUFJTixLQUFLSyxNQUFPRyxRQUFVSyxNQUFPQSxFQUFPQyxTQUFVQyxLQUFLQyxVQUFVRixNQUM1RW5DLEtBQUs4QixHQURBUCxTQUVDUSxHQU9ULFFBQVNPLEdBQU8xQixHQUVmLE1BREFBLEdBQU9TLEtBQUtrQixxQkFBcUIzQixHQUMxQlcsRUFBTWlCLEtBQUtuQixLQUFLSyxLQUFNZCxHQUMzQlosS0FBSzhCLEdBREFQLFNBRUNRLEdBU1QsUUFBU1UsR0FBT2IsRUFBSWhCLEdBRW5CLE1BREFBLEdBQU9TLEtBQUtrQixxQkFBcUIzQixHQUMxQlcsRUFBTW1CLElBQUlyQixLQUFLSyxLQUFNZCxHQUFPaUIsUUFBVUQsR0FBSUEsS0FDL0M1QixLQUFLOEIsR0FEQVAsU0FFQ1EsR0FPVCxRQUFTWSxHQUFPZixHQUNmLE1BQU9MLEdBQUFBLFVBQWFGLEtBQUtLLE1BQU9HLFFBQVVELEdBQUlBLEtBQzVDNUIsS0FBSzhCLEdBREFQLFNBRUNRLEdBT1QsUUFBU2EsR0FBWVYsR0FDcEIsTUFBT1gsR0FBQUEsVUFBYUYsS0FBS0ssS0FBTyx3QkFBMEJtQixPQUFPWCxJQUMvRGxDLEtBQUs4QixHQURBUCxTQUVDUSxHQUdULFFBQVNELEdBQWdCN0IsR0FDeEIsTUFBT0EsR0FHUixRQUFTOEIsR0FBY3hFLEdBRXRCLE1BREFpRSxHQUFLakUsTUFBTUEsSUFFVnNELFFBQVMsUUFDVEMsTUFBTyw4QkFDUGdDLFFBQVN2RixHQVdYLFFBQVNnRixHQUFxQjNCLEdBRTdCLElBQUssR0FERG1DLElBQVksS0FBTSxZQUFhMUIsS0FBS0ksS0FBTyxNQUFPLG1CQUFvQixlQUNqRXZELEVBQUksRUFBR0EsRUFBSTZFLEVBQVM1RSxPQUFRRCxVQUM3QjBDLEdBQUttQyxFQUFTN0UsR0FFdEIsT0FBTzBDLEdBdElSLEdBQUlvQyxHQUFPckcsQ0FZWCxPQVhBcUcsR0FBS0MsV0FDSnRCLElBQUtBLEVBQ0w1QixVQUFXQSxFQUNYa0MsU0FBVUEsRUFDVkssT0FBUUEsRUFDUkcsT0FBUUEsRUFDUkUsT0FBUUEsRUFDUkMsWUFBYUEsRUFDYkwscUJBQXNCQSxHQUdoQlMsRUFsQlIzRyxRQUNFQyxPQUFPLE9BQ1B1QixRQUFRLGNBQWUyQixHQUV6QkEsRUFBWWhELFNBQVcsUUFBUyxXQTZJakMsV0FDQyxZQVdBLFNBQVMwRyxHQUFlM0IsRUFBT0MsR0FhOUIsUUFBUzJCLEdBQU9DLEdBQ2YsTUFBTzdCLEdBQU1JLElBQUk5QixFQUFHNkIsS0FBTzBCLEdBQ3pCcEQsS0FBSzhCLEdBREFQLFNBRUNRLEdBT1QsUUFBU3NCLEdBQU9ELEVBQU9FLEdBQ3RCLE1BQU8vQixHQUFNaUIsS0FBSzNDLEVBQUc2QixLQUFPMEIsRUFBT0UsR0FDakN0RCxLQUFLOEIsR0FEQVAsU0FFQ1EsR0FHVCxRQUFTRCxHQUFnQjdCLEdBQ3hCLE1BQU9BLEdBR1IsUUFBUzhCLEdBQWN4RSxHQUV0QixNQURBaUUsR0FBS2pFLE1BQU1BLElBRVZzRCxRQUFTLFFBQ1RDLE1BQU8saUNBQ1BnQyxRQUFTdkYsR0FyQ1gsR0FBSXNDLEdBQUt3QixJQUdULE9BRkF4QixHQUFHNkIsS0FBTywwQ0FHVHlCLE9BQVFBLEVBQ1JFLE9BQVFBLEdBWFZoSCxRQUNFQyxPQUFPLE9BQ1B1QixRQUFRLGlCQUFrQnFGLEdBRTVCQSxFQUFlMUcsU0FBVyxRQUFTLFdBNkNwQyxXQUNDLFlBV0EsU0FBUytHLEtBTVIsUUFBU0MsR0FBS0MsRUFBT0MsRUFBU0MsRUFBT0MsR0FDcENGLEVBQVEsR0FBR0csUUFOWixPQUNDQyxTQUFVLElBQ1ZOLEtBQU1BLEdBUFJuSCxRQUNFQyxPQUFPLE9BQ1B5SCxVQUFVLGNBQWVSLE1BYTVCLFdBQ0MsWUFVQSxTQUFTUyxLQVNSLFFBQVNSLEdBQUtDLEVBQU9DLEVBQVNDLEVBQU9DLEdBS3BDLFFBQVNLLEtBQ1JDLElBR0QsUUFBU0MsR0FBY0MsR0FDdEIsTUFBUUEsS0FBY1gsRUFBTVksV0FBV0MsV0FHeEMsUUFBU0MsR0FBaUJDLEVBQVVDLEdBQ25DYixFQUFRYyxZQWJULEdBQUlSLEdBQWNULEVBQU1rQixPQUFPLGFBQWNKLEVBQzdDWCxHQUFRZ0IsWUFBWUMsWUFBY1YsRUFDbENULEVBQVFvQixHQUFHLFdBQVliLEdBWHhCLE9BQ0NjLFFBQVMsVUFDVHRCLE9BQ0NZLFdBQVksZ0JBRWJiLEtBQU1BLEdBVlJuSCxRQUNFQyxPQUFPLE9BQ1B5SCxVQUFVLGNBQWVDLE1BOEI1QixXQUNDLFlBT0EsU0FBU2dCLEdBQWlCQyxHQUd6QixRQUFTQyxLQUNSRCxFQUFjRSxTQUhmRCxJQU5EN0ksUUFDRUMsT0FBTyxPQUNQUixXQUFXLG1CQUFvQmtKLEdBRWpDQSxFQUFpQnhJLFNBQVcsb0JBUzdCLFdBQ0MsWUFPQSxTQUFTeUksR0FBY3BJLEVBQVkwRSxFQUFPekUsRUFBUTBFLEVBQU0zRyxHQUt2RCxRQUFTc0ssS0FLUixRQUFTQyxHQUFlbkYsR0FDdkJwRixFQUFhOEYsYUFDYjlELEVBQVd1RSxXQUFXLGNBQ3RCdEUsRUFBT1ksR0FBRyxTQUdYLFFBQVMySCxHQUFhOUgsR0FDckJpRSxFQUFLakUsTUFBTUEsR0FYWixNQUFPZ0UsR0FBTWlCLEtBQUssOEJBQ2hCeEMsS0FBS29GLEdBREE3RCxTQUVDOEQsR0FQVCxPQUNDRixPQUFRQSxHQVBWOUksUUFDRUMsT0FBTyxPQUNQdUIsUUFBUSxnQkFBaUJvSCxHQUUzQkEsRUFBY3pJLFNBQVcsYUFBYyxRQUFTLFNBQVUsT0FBUSxtQkF3Qm5FLFdBQ0MsWUFPQSxTQUFTOEksR0FBaUJ6SSxFQUFZMEksRUFBdUJDLEVBQWlCQyxHQWlCN0UsUUFBU1AsS0FDUjlFLElBQ0FDLElBRUF4RCxFQUFXRyxJQUFJLGtCQUFtQm9ELEdBQ2xDdkQsRUFBV0csSUFBSSxlQUFnQnFELEdBRS9CUixFQUFHNkYsTUFBUUgsRUFBc0JJLFdBQ2pDOUYsRUFBRytGLFlBQWMvRixFQUFHNkYsTUFDcEI3RixFQUFHZ0csTUFBUU4sRUFBc0JPLFNBQVNqRyxFQUFHNkYsT0FHOUMsUUFBU0ssR0FBV0MsRUFBWXJILEdBQy9Ca0IsRUFBRytGLFlBQWNMLEVBQXNCUSxXQUFXQyxFQUFZckgsRUFBS2tCLEVBQUcrRixZQUFhL0YsRUFBR0ssV0FHdkYsUUFBUytGLEdBQW9CdEgsR0FDNUIsTUFBTzRHLEdBQXNCVyxVQUFVdkgsRUFBS2tCLEVBQUcrRixhQUdoRCxRQUFTTyxHQUFlSCxFQUFZOUksR0FDbkNxSSxFQUFzQlksZUFBZUgsRUFBWTlJLEVBQU8yQyxFQUFHSyxXQUc1RCxRQUFTa0csS0FDUnZHLEVBQUdnRyxNQUFRTixFQUFzQmEsVUFBVXZHLEVBQUdnRyxPQUcvQyxRQUFTUSxLQUNSeEcsRUFBR2dHLE1BQVFOLEVBQXNCYyxVQUFVeEcsRUFBR2dHLE9BRy9DLFFBQVN6RixLQUNSUCxFQUFHSyxVQUFZc0YsRUFBZ0J4RSxlQUdoQyxRQUFTWCxLQUNSUixFQUFHbkIsT0FBUytHLEVBQWN4RSxZQXJEM0IsR0FBSXBCLEdBQUt3QixJQUNUeEIsR0FBR25CLFVBQ0htQixFQUFHQyxZQUVIRCxFQUFHNkYsTUFBUSxLQUNYN0YsRUFBRytGLFlBQWMsS0FDakIvRixFQUFHZ0csTUFBUSxLQUVYaEcsRUFBR2tHLFdBQWFBLEVBQ2hCbEcsRUFBR29HLG9CQUFzQkEsRUFDekJwRyxFQUFHc0csZUFBaUJBLEVBQ3BCdEcsRUFBR3VHLFVBQVlBLEVBQ2Z2RyxFQUFHd0csVUFBWUEsRUFFZm5CLElBcEJEN0ksUUFDRUMsT0FBTyxPQUNQUixXQUFXLG1CQUFvQndKLEdBRWpDQSxFQUFpQjlJLFNBQVcsYUFBYyx3QkFBeUIsa0JBQW1CLG9CQTJEdkYsV0FDQyxZQU1BLFNBQVM4SixLQUNSLE9BQ0MvSyxZQUFhLDZCQUNiTyxXQUFZLG1CQUNaQyxhQUFjLEtBQ2R3SyxrQkFBa0IsR0FUcEJsSyxRQUNFQyxPQUFPLE9BQ1B5SCxVQUFVLFdBQVl1QyxNQVd6QixXQUNDLFlBT0EsU0FBU2IsR0FBY2pHLEVBQWEzRSxHQVluQyxRQUFTMkwsR0FBWXRKLEdBQ3BCLE1BQU8yQyxHQUFHM0MsTUFBTW9GLE9BQU9wRixHQUFPOEMsS0FBSzhCLEdBR3BDLFFBQVMyRSxHQUFvQnZKLEdBQzVCLE1BQUtBLEdBQU13SixTQUdKQyxFQUFZekosRUFBTXdKLFNBQVV4SixHQUYzQnNKLEVBQVl0SixHQUtyQixRQUFTMEosR0FBWWhGLEdBQ3BCLE1BQU8vQixHQUFHM0MsTUFBTXlGLE9BQU9mLEdBQUk1QixLQUFLOEIsR0FHakMsUUFBU2IsS0FDUixNQUFPcEcsR0FBYW9HLFlBR3JCLFFBQVMwRixHQUFZL0UsRUFBSTFFLEdBQ3hCLE1BQU8yQyxHQUFHM0MsTUFBTXVGLE9BQU9iLEVBQUkxRSxHQUFPOEMsS0FBSzhCLEdBR3hDLFFBQVNBLEdBQWdCN0IsR0FDeEIsR0FBSTRHLEdBQU01RyxFQUFTVyxJQUNuQixPQUFJaUcsR0FBSWhHLFNBQ1BoRyxFQUFhNkUsY0FDTm1ILEVBQUlqRyxNQUVMaUcsRUFBSS9GLE1BeENaLEdBQUlqQixHQUFLd0IsSUFHVCxPQUZBeEIsR0FBRzNDLE1BQVEsR0FBSXNDLEdBQVksVUFHMUJnSCxZQUFhQSxFQUNiQyxvQkFBcUJBLEVBQ3JCRyxZQUFhQSxFQUNiM0YsVUFBV0EsRUFDWDBGLFlBQWFBLEdBZGZ0SyxRQUNFQyxPQUFPLE9BQ1B1QixRQUFRLGdCQUFpQjRILEdBRTNCQSxFQUFjakosU0FBVyxjQUFlLG1CQStDekMsV0FDQyxZQWFBLFNBQVNzSyxHQUFjckksR0FTdEIsUUFBU3NJLEdBQWlCQyxHQUNyQkEsRUFBU0MsZUFBZSxhQUMzQkQsRUFBU0UsUUFBVUMsU0FBU0gsRUFBU0UsU0FDckNGLEVBQVNqSSxTQUFXcUksRUFBZ0IzSSxFQUFPdUksRUFBU2pJLFdBQ3BEaUksRUFBU2hJLE9BQVNvSSxFQUFnQjNJLEVBQU91SSxFQUFTaEksV0FFOUNnSSxFQUFTQyxlQUFlLFFBQVVELEVBQVMzSCxNQUM5QzJILEVBQVMzSCxJQUFNK0gsRUFBZ0IzSSxFQUFPdUksRUFBUzNILE9BRzVDMkgsRUFBU0MsZUFBZSxhQUFlRCxFQUFTSyxXQUNuREwsRUFBU0ssU0FBV0QsRUFBZ0IzSSxFQUFPdUksRUFBU0ssYUFLdkQsUUFBU0MsR0FBaUJOLEdBQ3pCLEdBQUlPLEdBQWdCQyxHQWFwQixPQVpJUixHQUFTQyxlQUFlLGFBQzNCRCxFQUFTakksU0FBVzBJLEVBQWdCaEosRUFBT3VJLEVBQVNqSSxTQUFVd0ksSUFDOURQLEVBQVNoSSxPQUFTeUksRUFBZ0JoSixFQUFPdUksRUFBU2hJLE9BQVF1SSxNQUV0RFAsRUFBU0MsZUFBZSxRQUFVRCxFQUFTM0gsTUFDOUMySCxFQUFTM0gsSUFBTW9JLEVBQWdCaEosRUFBT3VJLEVBQVMzSCxJQUFLa0ksS0FHakRQLEVBQVNDLGVBQWUsYUFBZUQsRUFBU0ssV0FDbkRMLEVBQVNLLFNBQVdJLEVBQWdCaEosRUFBT3VJLEVBQVNLLFNBQVVFLE1BR3pEUCxFQUdSLFFBQVNRLEtBQ1IsTUFBTyxxQkFNUixRQUFTSixHQUFnQkosR0FDeEIsTUFBT0EsR0FBU1UsT0FBT0YsS0FNeEIsUUFBU0MsR0FBZ0JULEdBQ3hCLE1BQU9BLEdBQVNVLE9BQU8sdUJBeER4QixPQUNDWCxpQkFBa0JBLEVBQ2xCTyxpQkFBa0JBLEVBQ2xCRSxpQkFBa0JBLEVBQ2xCSixnQkFBaUJBLEVBQ2pCSyxnQkFBaUJBLEdBWG5CcEwsUUFDRUMsT0FBTyxPQUNQdUIsUUFBUSxnQkFBaUJpSixHQUUzQkEsRUFBY3RLLFNBQVcsYUErRDFCLFdBQ0MsWUFPQSxTQUFTbUwsR0FBZ0JDLEVBQW1CNUosRUFBUTZKLEVBQU1DLEdBV3pELFFBQVNDLEtBQ1JILEVBQWtCSSxRQUFRLFVBRzNCLFFBQVNDLEtBQ1JMLEVBQWtCSyxRQUduQixRQUFTQyxHQUFRdEgsR0FDaEJnSCxFQUFrQkssTUFBTXJILEdBR3pCLFFBQVMrQixHQUFPL0IsR0FDZmdILEVBQWtCSSxRQUFRcEgsR0FHM0IsUUFBU3VILEdBQWFqTCxHQUNyQjRLLEVBQWtCSyxhQUFhakwsR0EzQmhDLEdBQUkyQyxHQUFLd0IsSUFDVHhCLEdBQUc3QixPQUFTQSxFQUNaNkIsRUFBR2dJLEtBQU9BLEVBRVZoSSxFQUFHa0ksT0FBU0EsRUFDWmxJLEVBQUdvSSxNQUFRQSxFQUNYcEksRUFBR3FJLFFBQVVBLEVBQ2JySSxFQUFHOEMsT0FBU0EsRUFDWjlDLEVBQUdzSSxhQUFlQSxFQWRuQjlMLFFBQ0VDLE9BQU8sT0FDUFIsV0FBVyxrQkFBbUI2TCxHQUVoQ0EsRUFBZ0JuTCxTQUFXLG9CQUFxQixTQUFVLE9BQVEsd0JBaUNuRSxXQUNDLFlBT0EsU0FBUzRMLEdBQXFCQyxHQUk3QixRQUFTQyxLQUNKQyxFQUFHVixLQUFLVyxZQUNYSCxFQUF1Qkksb0JBQW9CRixFQUFHVixNQUxoRCxHQUFJVSxHQUFLbEgsSUFDVGtILEdBQUdELG9CQUFzQkEsRUFQMUJqTSxRQUNFQyxPQUFPLE9BQ1BSLFdBQVcsdUJBQXdCc00sR0FFckNBLEVBQXFCNUwsU0FBVyw2QkFZakMsV0FDQyxZQU1BLFNBQVNrTSxLQUNSLE9BQ0NuTixZQUFhLHFDQUNiTyxXQUFZLHVCQUNaQyxhQUFjLEtBQ2R3SyxrQkFBa0IsRUFDbEI5QyxPQUNDb0UsS0FBTSxNQVhUeEwsUUFDRUMsT0FBTyxPQUNQeUgsVUFBVSxXQUFZMkUsTUFjekIsV0FDQyxZQU1BLFNBQVNDLEtBWVIsUUFBU0MsR0FBZ0JmLEdBQ3hCQSxFQUFLVyxZQUFhLEVBR25CLFFBQVNLLEdBQW9CaEIsSUFUN0IsT0FDQ2UsZ0JBQWlCQSxFQUNqQkMsb0JBQXFCQSxHQWJ2QnhNLFFBQ0VDLE9BQU8sT0FDUHVCLFFBQVEsb0JBQXFCOEssTUF3QmhDLFdBQ0MsWUFPQSxTQUFTRyxHQUFnQmpNLEVBQVlrTSxFQUFjQyxFQUFjQyxHQVNoRSxRQUFTL0QsS0FDUjFFLElBQ0FFLElBRUE3RCxFQUFXRyxJQUFJLGVBQWdCd0QsR0FDL0IzRCxFQUFXRyxJQUFJLGNBQWUwRCxHQUcvQixRQUFTd0ksR0FBY3pJLEdBQ3RCd0ksRUFBaUJFLGNBQWMxSSxFQUFNWixFQUFHVSxRQUd6QyxRQUFTNkksR0FBZ0IzSSxHQUN4QnNJLEVBQWFLLGdCQUFnQjNJLEdBRzlCLFFBQVNELEtBQ1JYLEVBQUdVLE9BQVN5SSxFQUFhOUgsWUFHMUIsUUFBU1IsS0FDUmIsRUFBR1gsTUFBUTZKLEVBQWE1SCxXQTdCekIsR0FBSXRCLEdBQUt3QixJQUNUeEIsR0FBR1UsVUFDSFYsRUFBR1gsU0FDSFcsRUFBR3FKLGNBQWdCQSxFQUNuQnJKLEVBQUd1SixnQkFBa0JBLEVBRXJCbEUsSUFaRDdJLFFBQ0VDLE9BQU8sT0FDUFIsV0FBVyxrQkFBbUJnTixHQUVoQ0EsRUFBZ0J0TSxTQUFXLGFBQWMsZUFBZ0IsZUFBZ0IsdUJBbUMxRSxXQUNDLFlBTUEsU0FBUzZNLEtBQ1IsT0FDQzlOLFlBQWEsMkJBQ2JPLFdBQVksa0JBQ1pDLGFBQWMsS0FDZHdLLGtCQUFrQixFQUNsQjlDLE9BQ0M2RixNQUFPLElBQ1BDLEtBQU0sY0FDTkMsU0FBVSxjQWJibk4sUUFDRUMsT0FBTyxPQUNQeUgsVUFBVSxVQUFXc0YsTUFnQnhCLFdBQ0MsWUFPQSxTQUFTTixHQUFhdkosRUFBYTNFLEdBYWxDLFFBQVM0TyxHQUFXaEosR0FDbkIsTUFBT1osR0FBR1ksS0FBSzZCLE9BQU83QixHQUFNVCxLQUFLOEIsR0FHbEMsUUFBUzRILEdBQW1CakosR0FDM0IsTUFBS0EsR0FBS2tKLFFBR0hDLEVBQVduSixFQUFLa0osUUFBU2xKLEdBRnhCZ0osRUFBV2hKLEdBS3BCLFFBQVNvSixHQUFXakksR0FDbkIsTUFBTy9CLEdBQUdZLEtBQUtrQyxPQUFPZixHQUFJNUIsS0FBSzhCLEdBR2hDLFFBQVNYLEtBQ1IsTUFBT3RHLEdBQWFzRyxXQUdyQixRQUFTaUksR0FBZ0IzSSxHQUV4QixNQURBQSxHQUFLcUosV0FBYTNDLFNBQVMxRyxFQUFLcUosV0FDekJGLEVBQVduSixFQUFLa0osUUFBU2xKLEdBQU1ULEtBQUttQixHQUc1QyxRQUFTeUksR0FBV2hJLEVBQUluQixHQUN2QixNQUFPWixHQUFHWSxLQUFLZ0MsT0FBT2IsRUFBSW5CLEdBQU1ULEtBQUs4QixHQUd0QyxRQUFTQSxHQUFnQjdCLEdBQ3hCLEdBQUk0RyxHQUFNNUcsRUFBU1csSUFDbkIsT0FBSWlHLEdBQUloRyxTQUNQaEcsRUFBYStFLGFBQ05pSCxFQUFJakcsTUFFTGlHLEVBQUkvRixNQTlDWixHQUFJakIsR0FBS3dCLElBR1QsT0FGQXhCLEdBQUdZLEtBQU8sR0FBSWpCLEdBQVksU0FHekJpSyxXQUFZQSxFQUNaQyxtQkFBb0JBLEVBQ3BCRyxXQUFZQSxFQUNaMUksU0FBVUEsRUFDVmlJLGdCQUFpQkEsRUFDakJRLFdBQVlBLEdBZmR2TixRQUNFQyxPQUFPLE9BQ1B1QixRQUFRLGVBQWdCa0wsR0FFMUJBLEVBQWF2TSxTQUFXLGNBQWUsbUJBcUR4QyxXQUNDLFlBT0EsU0FBU3VOLEdBQWlCQyxFQUFRekksRUFBTzBJLEdBSXhDLFFBQVNDLEdBQVdDLEVBQU1DLEdBQ3pCLE1BQU9ILEdBQWNDLFdBQVdDLEdBQzlCbkssS0FBSyxTQUFTcUssR0FBWSxNQUFPQSxLQUxwQyxHQUFJQyxHQUFLakosSUFDVGlKLEdBQUdKLFdBQWFBLEVBUGpCN04sUUFDRUMsT0FBTyxPQUNQUixXQUFXLG1CQUFvQmlPLEdBRWpDQSxFQUFpQnZOLFNBQVcsU0FBVSxRQUFTLG9CQVdoRCxXQUNDLFlBT0EsU0FBUytOLEdBQWdCQyxHQVd4QixRQUFTaEgsR0FBS0MsRUFBT0MsRUFBU0MsR0FLN0IsUUFBUzhHLEdBQVl2TixHQUNwQnVHLEVBQU1pSCxPQUFPLFdBQ1osR0FBSVAsR0FBT3pHLEVBQVEsR0FBR2lILE1BQU0sRUFFeEJSLEdBQUtTLE1BQVFDLEVBQ2hCcEgsRUFBTTZHLEdBQUdKLFdBQVdDLEdBQ2xCbkssS0FBSyxTQUFTcUssR0FBWTVHLEVBQU1xSCxhQUFlVCxJQUVqRFUsTUFBTSwwQkFBNkJGLEVBQWMsS0FBTyxLQUFRLFNBWm5FLEdBQUlBLEdBQWMsT0FDRkwsR0FBTzdHLEVBQU1tSCxhQUM3QnBILEdBQVEsR0FBR3NILGlCQUFpQixTQUFVUCxHQUFhLEdBYnBELE9BQ0MzRyxTQUFVLElBQ1ZoSSxXQUFZLG1CQUNaQyxhQUFjLEtBQ2R5SCxLQUFNQSxFQUNOQyxPQUNDcUgsYUFBYyxNQVpqQnpPLFFBQ0VDLE9BQU8sT0FDUHlILFVBQVUsZUFBZ0J3RyxHQUU1QkEsRUFBZ0IvTixTQUFXLGFBZ0M1QixXQUNDLFlBT0EsU0FBU3lOLEdBQWMxSSxFQUFPQyxHQUs3QixRQUFTMEksR0FBV0MsR0FDbkIsR0FBSWMsR0FBVyxHQUFJQyxTQUduQixPQUZBRCxHQUFTRSxPQUFPLE9BQVFoQixHQUVqQjVJLEVBQU1pQixLQUFLLCtCQUFnQ3lJLEdBQ2pERyxpQkFBa0IvTyxRQUFRZ1AsU0FDMUJDLFNBQVdDLGVBQWdCQyxVQUUxQnhMLEtBQUssU0FBUzZHLEdBQ2QsTUFBSUEsR0FBSWpHLEtBQUtDLFFBQ0xnRyxFQUFJakcsS0FBS0EsTUFFakJZLEVBQUtqRSxNQUFNc0osRUFBSS9GLE9BQ1IsTUFURlMsU0FXQyxTQUFTc0YsR0FDZnJGLEVBQUtqRSxNQUFNc0osS0FwQmQsT0FDQ3FELFdBQVlBLEdBUGQ3TixRQUNFQyxPQUFPLE9BQ1B1QixRQUFRLGdCQUFpQm9NLEdBRTNCQSxFQUFjek4sU0FBVyxRQUFTLFdBMkJuQyxXQUNDLFlBT0EsU0FBU2lQLEdBQWdCclEsRUFBU2UsRUFBT2xCLEVBQWF5USxHQVFyRCxRQUFTeEcsTUFPVCxRQUFTeUcsR0FBY2hRLEdBQ3RCK1AsRUFBaUJFLGNBQWNqUSxHQUM3QnFFLEtBQUssU0FBU0MsR0FBZ0JBLElBQVVKLEVBQUcxRCxNQUFROEQsS0FoQnRELEdBQUlKLEdBQUt3QixJQUNUeEIsR0FBR3pFLFFBQVVBLEVBQ2J5RSxFQUFHMUQsTUFBUUEsRUFDWDBELEVBQUc4TCxjQUFnQkEsRUFFbkJ6RyxJQVhEN0ksUUFDRUMsT0FBTyxPQUNQUixXQUFXLGtCQUFtQjJQLEdBRWhDQSxFQUFnQmpQLFNBQVcsVUFBVyxRQUFTLGNBQWUsdUJBc0IvRCxXQUNDLFlBT0EsU0FBU3FQLEdBQWdCQyxHQVd4QixRQUFTQyxLQUNSbE0sRUFBR21NLFNBQVUsRUFDYkYsRUFBYUMsTUFBTWxNLEVBQUdsRSxNQUNwQnFFLEtBQUssU0FBU0MsR0FDZEosRUFBR21NLFNBQVUsRUFDYm5NLEVBQUd0QyxNQUFRMEMsSUFmZCxHQUFJSixHQUFLd0IsSUFDVHhCLEdBQUdtTSxTQUFVLEVBQ2JuTSxFQUFHdEMsTUFBUSxHQUVYc0MsRUFBR2tNLE1BQVFBLEVBVloxUCxRQUNFQyxPQUFPLE9BQ1BSLFdBQVcsa0JBQW1CK1AsR0FFaENBLEVBQWdCclAsU0FBVyxtQkFzQjVCLFdBQ0MsWUFPQSxTQUFTc1AsR0FBYWpQLEVBQVkwRSxFQUFPekUsRUFBUTBFLEVBQU0zRyxHQUt0RCxRQUFTa1IsR0FBTXBRLEdBT2QsUUFBU3NRLEdBQWNoTSxHQUN0QixNQUFJQSxHQUFTVyxLQUFLQyxXQUFZLEVBQ3RCWixFQUFTVyxLQUFLRSxPQUd0QmpHLEVBQWFELFdBQ2JpQyxFQUFXdUUsV0FBVyxrQkFDdEJ0RSxHQUFPWSxHQUFHLGNBR1gsUUFBU3dPLEdBQVkzTyxHQUVwQixNQURBaUUsR0FBS2pFLE1BQU1BLEdBQ0osMENBaEJSLE1BRkE1QixHQUFLZ0MsS0FBT2hDLEVBQUtnQyxLQUFLd08sY0FBY0MsT0FFN0I3SyxFQUFNaUIsS0FBSyw0QkFBNkI3RyxHQUM3Q3FFLEtBQUtpTSxHQURBMUssU0FFQzJLLEdBVFQsT0FDQ0gsTUFBT0EsR0FQVDFQLFFBQ0VDLE9BQU8sT0FDUHVCLFFBQVEsZUFBZ0JpTyxHQUUxQkEsRUFBYXRQLFNBQVcsYUFBYyxRQUFTLFNBQVUsT0FBUSxtQkErQmxFLFdBQ0MsWUFPQSxTQUFTNlAsR0FBbUJDLEdBTTNCLFFBQVNDLEtBQ1IxTSxFQUFHbU0sU0FBVSxFQUNiTSxFQUFnQkMsU0FBUzFNLEVBQUdsRSxNQUMxQnFFLEtBQUssU0FBU0MsR0FDZEosRUFBR21NLFNBQVUsRUFDYm5NLEVBQUd0QyxNQUFRMEMsSUFWZCxHQUFJSixHQUFLd0IsSUFDVHhCLEdBQUd0QyxNQUFRLEdBQ1hzQyxFQUFHbU0sU0FBVSxFQUNibk0sRUFBRzBNLFNBQVdBLEVBVGZsUSxRQUNFQyxPQUFPLE9BQ1BSLFdBQVcscUJBQXNCdVEsR0FFbkNBLEVBQW1CN1AsU0FBVyxzQkFpQi9CLFdBQ0MsWUFPQSxTQUFTOFAsR0FBZ0JFLEVBQVdoTCxFQUFNaEMsR0FRekMsUUFBUytNLEdBQVM1USxHQU1qQixRQUFTOFEsR0FBcUJ4TSxHQUM3QixNQUF5QixVQUFyQkEsRUFBU1ksU0FDWlcsRUFBS2pFLE1BQU0wQyxFQUFTYSxPQUNiYixFQUFTYSxXQUVqQjBMLEdBQVVsUixJQUFJLFVBUmYsTUFGQUssR0FBS2dDLEtBQU9oQyxFQUFLZ0MsS0FBS3dPLGNBQWNDLE9BRTdCdk0sRUFBR21ELEtBQUtWLE9BQU8zRyxHQUNwQnFFLEtBQUt5TSxHQVhSLEdBQUk1TSxHQUFLd0IsSUFHVCxPQUZBeEIsR0FBR21ELEtBQU8sR0FBSXhELEdBQVksU0FHekIrTSxTQUFVQSxHQVZabFEsUUFDRUMsT0FBTyxPQUNQdUIsUUFBUSxrQkFBbUJ5TyxHQUU3QkEsRUFBZ0I5UCxTQUFXLFlBQWEsT0FBUSxrQkF5QmpELFdBQ0MsWUFPQSxTQUFTa1EsR0FBb0JDLEdBQzVCdEwsS0FBS3VMLFFBQVVELEVBQWFDLFFBTjdCdlEsUUFDRUMsT0FBTyxPQUNQUixXQUFXLHNCQUF1QjRRLEdBRXBDQSxFQUFvQmxRLFNBQVcsbUJBS2hDLFdBQ0MsWUFPQSxTQUFTckIsR0FBYzBSLEVBQUkzSixFQUFnQm5HLEdBUTFDLFFBQVM3QixLQUlSLFFBQVM0UixHQUF3QjdNLEdBT2hDLE1BTklBLEdBQVNXLEtBQUtDLFdBQVksRUFDN0JrTSxFQUFTdFIsUUFBUXNCLEVBQWNpUSxJQUUvQkQsRUFBU0UsT0FBT2xRLEVBQWNTLGNBR3hCdVAsRUFBU0csUUFWakIsTUFBT2hLLEdBQWVDLE9BQU8sUUFDM0JuRCxLQUFLOE0sR0FhUixRQUFTMVIsS0FJUixRQUFTK1IsR0FBZ0JsTixHQUN4QixHQUFJcEIsR0FBU29CLEVBQVNXLElBT3RCLE9BTkkvQixHQUFPZ0MsV0FBWSxHQUF5QixNQUFoQmhDLEVBQU8rQixLQUN0Q21NLEVBQVNFLE9BQU9sUSxFQUFjYSxXQUU5Qm1QLEVBQVN0UixRQUFRc0IsRUFBY2lRLElBR3pCRCxFQUFTRyxRQVhqQixNQUFPaEssR0FBZUMsT0FBTyxTQUMzQm5ELEtBQUttTixHQXhCUixHQUFJSixHQUFXRixFQUFHTyxPQUVsQixRQUNDbFMsZ0JBQWlCQSxFQUNqQkUsUUFBU0EsR0FWWGlCLFFBQ0VDLE9BQU8sT0FDUHVCLFFBQVEsZ0JBQWlCMUMsR0FFM0JBLEVBQWNxQixTQUFXLEtBQU0saUJBQWtCLG9CQTBDbEQsV0FDQyxZQVVBLFNBQVNPLEtBQ1IsT0FDQ2lRLEdBQUksSUFDSnhQLGFBQWMsSUFDZEksVUFBVyxLQVJidkIsUUFDRUMsT0FBTyxPQUNQZ0YsUUFBUSxnQkFBaUJ2RSxNQVc1QixXQUNDLFlBT0EsU0FBU3lJLEdBQWdCaEcsRUFBYTNFLEdBV3JDLFFBQVN3UyxHQUFldk4sR0FDdkIsTUFBT0QsR0FBR0MsU0FBU3dDLE9BQU94QyxHQUFVRSxLQUFLOEIsR0FHMUMsUUFBU3dMLEdBQWUxTCxHQUN2QixNQUFPL0IsR0FBR0MsU0FBUzZDLE9BQU9mLEdBQUk1QixLQUFLOEIsR0FHcEMsUUFBU2QsS0FDUixNQUFPbkcsR0FBYW1HLGVBR3JCLFFBQVN1TSxHQUFlM0wsRUFBSTlCLEdBQzNCLE1BQU9ELEdBQUdDLFNBQVMyQyxPQUFPYixFQUFJOUIsR0FBVUUsS0FBSzhCLEdBRzlDLFFBQVNBLEdBQWdCN0IsR0FDeEIsR0FBSXBCLEdBQVNvQixFQUFTVyxJQUN0QixPQUFJL0IsR0FBT2dDLFNBQ1ZoRyxFQUFhNEUsaUJBQ05aLEVBQU8rQixNQUVSL0IsRUFBT2lDLE1BaENmLEdBQUlqQixHQUFLd0IsSUFHVCxPQUZBeEIsR0FBR0MsU0FBVyxHQUFJTixHQUFZLGFBRzdCNk4sZUFBZ0JBLEVBQ2hCQyxlQUFnQkEsRUFDaEJ0TSxhQUFjQSxFQUNkdU0sZUFBZ0JBLEdBYmxCbFIsUUFDRUMsT0FBTyxPQUNQdUIsUUFBUSxrQkFBbUIySCxHQUU3QkEsRUFBZ0JoSixTQUFXLGNBQWUsbUJBdUMzQyxXQUNDLFlBT0EsU0FBU3NMLEdBQWtCMEYsRUFBVy9PLEVBQVFnSCxFQUFlcUIsR0FXNUQsUUFBUzJHLEdBQWV2USxFQUFPZ0QsR0FDOUIsR0FBSXdOLEtBSUosT0FIQXJSLFNBQVFzUixPQUFPRCxFQUFheFEsR0FDNUI0SixFQUFjQyxpQkFBaUIyRyxHQUV4QkYsRUFBVUksTUFDaEI5UixXQUFZLGtCQUNaQyxhQUFjLEtBQ2RSLFlBQWEsd0NBQ2JFLFNBQ0N1QyxPQUFRLFdBQWEsTUFBT2tDLElBQzVCMkgsS0FBTTZGLEtBRUw3TyxPQUNEbUIsS0FBSyxTQUFTQyxHQUVkLE1BREE2RyxHQUFjUSxpQkFBaUJySCxHQUN4QndGLEVBQWNnQixvQkFBb0J4RyxHQUN2Q0QsS0FBS3lGLEVBQWN4RSxZQUNuQixTQUFTaEIsR0FDWCxNQUFJNE4sUUFBTzVOLEdBQ0h3RixFQUFjbUIsWUFBWTNHLEdBQy9CRCxLQUFLeUYsRUFBY3hFLFdBRnRCLFNBT0gsUUFBU2tILEdBQWFqTCxHQUNyQixHQUFJNFEsR0FBVWhILEVBQWNVLGtCQUU1QixJQUFJdEssRUFBTWdLLFFBQ1RoSyxFQUFNNkIsU0FBVytILEVBQWNNLGdCQUFnQjNJLEVBQU92QixFQUFNNkIsU0FBVStPLEdBQVNDLFFBQVEsUUFDdkY3USxFQUFNOEIsT0FBUzhILEVBQWNNLGdCQUFnQjNJLEVBQU92QixFQUFNNkIsU0FBVStPLEdBQVNFLE1BQU0sWUFDN0UsQ0FDTixHQUFJQyxHQUFjeFAsSUFBU3NQLFFBQVEsUUFBUUcsTUFDM0NoUixHQUFNNkIsU0FBVytILEVBQWNNLGdCQUFnQjNJLEVBQU92QixFQUFNNkIsU0FBVStPLEdBQVNJLEtBQUtELElBQ3BGL1EsRUFBTThCLE9BQVM4SCxFQUFjTSxnQkFBZ0IzSSxFQUFPdkIsRUFBTTZCLFNBQVUrTyxHQUFTSSxLQUFLRCxHQUFhMU8sSUFBSSxFQUFHLFdBN0N4RyxPQUNDa08sZUFBZ0JBLEVBQ2hCdEYsYUFBY0EsR0FSaEI5TCxRQUNFQyxPQUFPLE9BQ1B1QixRQUFRLG9CQUFxQmlLLEdBRS9CQSxFQUFrQnRMLFNBQVcsWUFBYSxTQUFVLGdCQUFpQixvQkFxRHRFLFdBQ0MsWUFPQSxTQUFTK0ksR0FBc0I5RyxFQUFRcUosR0FZdEMsUUFBUy9CLEdBQVdDLEVBQVlySCxFQUFLaUgsRUFBYTFGLEdBQ2pELE1BQUlnRyxHQUFVdkgsRUFBSXdQLFNBQVV2SSxJQUMzQk8sRUFDQ0gsR0FFQ2pILFNBQVVKLEVBQUl3UCxTQUNkblAsT0FBUUwsRUFBSXdQLFNBQVNDLFFBQVFKLE1BQU0sT0FDbkM5RyxRQUFTLEdBRVZoSCxHQUVNMEYsR0FFRGpILEVBQUl3UCxTQU1aLFFBQVNySSxHQUFTdUksR0FHakIsSUFBSyxHQUZEeEksTUFDQWxILEVBQU0wUCxFQUFLRCxRQUFRRSxLQUFLLEdBQUdQLFFBQVEsUUFDOUI3UCxFQUFJLEVBQU8sRUFBSkEsRUFBT0EsSUFDdEIySCxFQUFNdkgsS0FBS2lRLEVBQVE1UCxFQUFLMFAsRUFBS3hJLFVBQzdCbEgsRUFBTUEsRUFBSVksSUFBSSxFQUFHLFFBRWxCLE9BQU9zRyxHQUdSLFFBQVNGLEtBQ1IsTUFBT2xILEtBU1IsUUFBUzhQLEdBQVFDLEVBQVVDLEdBSTFCLElBQUssR0FIREMsTUFFQS9QLEVBQU02UCxFQUFTSixRQUNWbFEsRUFBSSxFQUFPLEVBQUpBLEVBQU9BLElBQ3RCd1EsRUFBS3BRLE1BQ0pxUSxPQUFRaFEsRUFBSTJQLE9BQ1pNLGNBQWdCalEsRUFBSWtILFVBQVk0SSxFQUNoQ0ksUUFBU2xRLEVBQUlHLE9BQU9MLElBQVUsT0FDOUIwUCxTQUFVeFAsSUFFWEEsRUFBTUEsRUFBSXlQLFFBQVE3TyxJQUFJLEVBQUcsT0FHMUIsT0FBT21QLEdBU1IsUUFBU3hJLEdBQVU0SSxFQUFNQyxHQUN4QixNQUFPRCxHQUFLaFEsT0FBT2lRLEVBQU0sT0FXMUIsUUFBUzNJLEdBQVU0SSxHQUNsQixNQUFPbEosR0FBU2tKLEVBQVMsR0FBRyxHQUFHYixTQUFTQyxRQUFRYSxTQUFTLEVBQUcsV0FNN0QsUUFBUzVJLEdBQVUySSxHQUNsQixNQUFPbEosR0FBU2tKLEVBQVMsR0FBRyxHQUFHYixTQUFTQyxRQUFRN08sSUFBSSxFQUFHLFdBR3hELFFBQVM0RyxHQUFlSCxFQUFZOUksRUFBT2dELEdBQzFDOEYsRUFBV2tKLGtCQUNYcEgsRUFBa0IyRixlQUFldlEsRUFBT2dELEdBbEd6QyxPQUNDNkYsV0FBWUEsRUFDWkQsU0FBVUEsRUFDVkgsU0FBVUEsRUFDVjRJLFFBQVNBLEVBQ1RySSxVQUFXQSxFQUNYRSxVQUFXQSxFQUNYQyxVQUFXQSxFQUNYRixlQUFnQkEsR0FkbEI5SixRQUNFQyxPQUFPLE9BQ1B1QixRQUFRLHdCQUF5QjBILEdBRW5DQSxFQUFzQi9JLFNBQVcsU0FBVSx3QkF5RzVDLFdBQ0MsWUFPQSxTQUFTNkwsR0FBdUJtRixFQUFXN0UsR0FXMUMsUUFBU0YsR0FBb0JaLEdBQzVCLE1BQU8yRixHQUFVSSxNQUNoQjlSLFdBQVksa0JBQ1pDLGFBQWMsS0FDZFIsWUFBYSxpREFDYkUsU0FDQ3VDLE9BQVEsV0FBYSxNQUFPbVIsSUFDNUJ0SCxLQUFNQSxLQUVMaEosT0FDRG1CLEtBQUssU0FBU0MsR0FDZDBJLEVBQWtCRSxvQkFBb0JoQixJQUNwQyxTQUFTNUgsR0FDWDBJLEVBQWtCQyxnQkFBZ0JmLEtBdkJyQyxHQUNJc0gsSUFDSEMsTUFBTyxTQUFVLFFBQVMsU0FBVSxVQUFXLFVBQy9DN0YsTUFBTyxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxNQUc1QyxRQUNDZCxvQkFBcUJBLEdBYnZCcE0sUUFDRUMsT0FBTyxPQUNQdUIsUUFBUSx5QkFBMEJ3SyxHQUVwQ0EsRUFBdUI3TCxTQUFXLFlBQWEsd0JBK0JoRCxXQUNDLFlBT0EsU0FBU3dNLEdBQWF4SixFQUFhM0UsR0FXbEMsUUFBU3dVLEdBQVkvTyxHQUNwQixNQUFPVCxHQUFHUyxNQUFNZ0MsT0FBT2hDLEdBQU9OLEtBQUs4QixHQUdwQyxRQUFTd04sR0FBWTFOLEdBQ3BCLE1BQU8vQixHQUFHUyxNQUFNcUMsT0FBT2YsR0FBSTVCLEtBQUs4QixHQUdqQyxRQUFTWixLQUNSLE1BQU9yRyxHQUFhcUcsWUFHckIsUUFBU3FPLEdBQVkzTixFQUFJdEIsR0FDeEIsTUFBT1QsR0FBR1MsTUFBTW1DLE9BQU9iLEVBQUl0QixHQUFPTixLQUFLOEIsR0FHeEMsUUFBU0EsR0FBZ0I3QixHQUN4QixHQUFJNEcsR0FBTTVHLEVBQVNXLElBQ25CLE9BQUlpRyxHQUFJaEcsU0FDUGhHLEVBQWE4RSxjQUNOa0gsRUFBSWpHLE1BRUxpRyxFQUFJL0YsTUFoQ1osR0FBSWpCLEdBQUt3QixJQUdULE9BRkF4QixHQUFHUyxNQUFRLEdBQUlkLEdBQVksVUFHMUI2UCxZQUFhQSxFQUNiQyxZQUFhQSxFQUNicE8sVUFBV0EsRUFDWHFPLFlBQWFBLEdBYmZsVCxRQUNFQyxPQUFPLE9BQ1B1QixRQUFRLGVBQWdCbUwsR0FFMUJBLEVBQWF4TSxTQUFXLGNBQWUsbUJBdUN4QyxXQUNDLFlBT0EsU0FBU2dULEdBQW9CaEMsRUFBV3hFLEVBQWN5RyxHQVVyRCxRQUFTQyxHQUFpQkMsRUFBU2xQLEdBQ2xDLEdBQUltUCxLQUNKdlQsU0FBUXNSLE9BQU9pQyxFQUFlRCxHQUU5Qm5DLEVBQVVJLE1BQ1Q5UixXQUFZLGtCQUNaQyxhQUFjLEtBQ2RSLFlBQWEseUNBQ2JFLFNBQ0N1QyxPQUFReUMsRUFDUm9ILEtBQU0rSCxLQUVML1EsT0FDRG1CLEtBQUssU0FBUzZHLEdBQ2Q0SSxFQUFnQkksc0JBQXNCaEosRUFBSThJLFFBQVM5SSxFQUFJcEcsT0FDckQsU0FBU29HLEdBQ1EsZ0JBQVJBLElBQ1Y0SSxFQUFnQkssY0FBY2pKLEVBQUk4SSxRQUFTOUksRUFBSXBHLFFBMUJuRCxPQUNDaVAsaUJBQWtCQSxHQVBwQnJULFFBQ0VDLE9BQU8sT0FDUHVCLFFBQVEsc0JBQXVCMlIsR0FFakNBLEVBQW9CaFQsU0FBVyxZQUFhLGVBQWdCLHNCQW1DN0QsV0FDQyxZQU9BLFNBQVN5TSxHQUFpQnVFLEVBQVd6RSxFQUFjakMsR0FZbEQsUUFBU3FDLEdBQWMxSSxFQUFNRixHQUM1QixHQUFJd1AsS0FJSixPQUhBMVQsU0FBUXNSLE9BQU9vQyxFQUFZdFAsR0FDM0JxRyxFQUFjQyxpQkFBaUJnSixHQUV4QnZDLEVBQVVJLE1BQ2hCOVIsV0FBWSxrQkFDWkMsYUFBYyxLQUNkUixZQUFhLHNDQUNiRSxTQUNDdUMsT0FBUSxXQUFhLE1BQU91QyxJQUM1QnNILEtBQU1rSSxLQUVMbFIsT0FDRG1CLEtBQUssU0FBU0MsR0FFZCxNQURBQSxHQUFXNkcsRUFBY1EsaUJBQWlCckgsR0FDbkM4SSxFQUFhVyxtQkFBbUJ6SixHQUNyQ0QsS0FBSytJLEVBQWE1SCxXQUNsQixTQUFTbEIsR0FDWCxNQUFJNE4sUUFBTzVOLEdBQ0g4SSxFQUFhYyxXQUFXNUosR0FDN0JELEtBQUsrSSxFQUFhNUgsVUFGckIsU0E1QkgsT0FDQ2dJLGNBQWVBLEdBVGpCOU0sUUFDRUMsT0FBTyxPQUNQdUIsUUFBUSxtQkFBb0JvTCxHQUU5QkEsRUFBaUJ6TSxTQUFXLFlBQWEsZUFBZ0Isb0JBeUMxRCxXQUNDLFlBT0EsU0FBU3dULEdBQW1CUCxFQUFpQkQsR0FLNUMsUUFBU1MsR0FBaUJOLEdBQ3pCSCxFQUFvQkUsaUJBQWlCQyxFQUFTTyxFQUFHelAsTUFHbEQsUUFBUzJJLEdBQWdCdUcsR0FDeEJGLEVBQWdCckcsZ0JBQWdCdUcsR0FUakMsR0FBSU8sR0FBSzdPLElBQ1Q2TyxHQUFHRCxpQkFBbUJBLEVBQ3RCQyxFQUFHOUcsZ0JBQWtCQSxFQVJ0Qi9NLFFBQ0VDLE9BQU8sT0FDUFIsV0FBVyxxQkFBc0JrVSxHQUVuQ0EsRUFBbUJ4VCxTQUFXLGtCQUFtQiwwQkFxQmxELFdBQ0MsWUFNQSxTQUFTMlQsS0FDUixPQUNDNVUsWUFBYSx1Q0FDYk8sV0FBWSxxQkFDWkMsYUFBYyxLQUNkd0ssa0JBQWtCLEVBQ2xCOUMsT0FDQ2hELEtBQU0sTUFYVHBFLFFBQ0VDLE9BQU8sT0FDUHlILFVBQVUsYUFBY29NLE1BYzNCLFdBQ0MsWUFPQSxTQUFTVixHQUFnQmxPLEVBQU9DLEdBTy9CLFFBQVNxTyxHQUFzQkYsRUFBU2xQLEdBQ2xDQSxFQUFLMlAsV0FDVDNQLEVBQUsyUCxVQUNKQyxVQUFXLEVBQ1hDLFVBSWlCOUUsU0FBZm1FLEVBQVEvTixLQUNYK04sRUFBUS9OLEdBQUtuQixFQUFLMlAsU0FBU0MsWUFDM0JWLEVBQVE3RixXQUFZLEVBQ3BCckosRUFBSzJQLFNBQVNFLEtBQUtoUyxLQUFLcVIsSUFJMUIsUUFBU0csR0FBY0gsRUFBU2xQLEdBQy9CQSxFQUFLMlAsU0FBU0UsS0FBS0MsT0FBTzlQLEVBQUsyUCxTQUFTRSxLQUFLRSxRQUFRYixHQUFVLEdBR2hFLFFBQVN2RyxHQUFnQnVHLEdBQ3hCQSxFQUFRN0YsV0FBYTZGLEVBQVE3RixVQTFCOUIsT0FDQytGLHNCQUF1QkEsRUFDdkJDLGNBQWVBLEVBQ2YxRyxnQkFBaUJBLEdBVG5CL00sUUFDRUMsT0FBTyxPQUNQdUIsUUFBUSxrQkFBbUI0UixHQUU3QkEsRUFBZ0JqVCxTQUFXLFFBQVMsV0FpQ3JDLFdBQ0MsWUFPQSxTQUFTa1AsR0FBaUI4QixFQUFXdlMsR0FVcEMsUUFBUzJRLEdBQWNqUSxHQUN0QixHQUFJOFUsS0FHSixPQUZBcFUsU0FBUXNSLE9BQU84QyxFQUFZOVUsR0FFcEI2UixFQUFVSSxNQUNoQjlSLFdBQVksa0JBQ1pDLGFBQWMsS0FDZFIsWUFBYSxvQ0FDYkUsU0FDQ3VDLFVBQ0E2SixLQUFNNEksS0FFTDVSLE9BQ0RtQixLQUFLLFNBQVNDLEdBQ2QsTUFBT2hGLEdBQVl5VixtQkFBbUJ6USxHQUNwQ0QsS0FBSy9FLEVBQVlELFdBQ2pCLFNBQVNpRixHQUNYLE1BQUk0TixRQUFPNU4sR0FDSGhGLEVBQVkwVixXQUFXMVEsR0FDNUJELEtBQUsvRSxFQUFZRCxVQUZwQixTQTFCSCxPQUNDNFEsY0FBZUEsR0FQakJ2UCxRQUNFQyxPQUFPLE9BQ1B1QixRQUFRLG1CQUFvQjZOLEdBRTlCQSxFQUFpQmxQLFNBQVcsWUFBYSxrQkFxQzFDLFdBQ0MsWUFPQSxTQUFTdkIsR0FBWXVFLEdBWXBCLFFBQVNvUixHQUFXalYsR0FDbkIsTUFBT2tFLEdBQUdsRSxLQUFLMkcsT0FBTzNHLEdBQU1xRSxLQUFLOEIsR0FHbEMsUUFBUzRPLEdBQW1CL1UsR0FDM0IsTUFBS0EsR0FBS2lHLEdBR0hpUCxFQUFXbFYsRUFBS2lHLEdBQUlqRyxHQUZuQmlWLEVBQVdqVixHQUtwQixRQUFTZ1YsR0FBVy9PLEdBQ25CLE1BQU8vQixHQUFHbEUsS0FBS2dILE9BQU9mLEdBQUk1QixLQUFLOEIsR0FHaEMsUUFBUzlHLEtBQ1IsTUFBTzZFLEdBQUdsRSxLQUFLc0csU0FBUyxPQUFRakMsS0FBSzhCLEdBR3RDLFFBQVMrTyxHQUFXalAsRUFBSWpHLEdBQ3ZCLE1BQU9rRSxHQUFHbEUsS0FBSzhHLE9BQU9iLEVBQUlqRyxHQUFNcUUsS0FBSzhCLEdBR3RDLFFBQVNBLEdBQWdCN0IsR0FDeEIsR0FBSTRHLEdBQU01RyxFQUFTVyxJQUNuQixPQUFJaUcsR0FBSWhHLFFBQ0FnRyxFQUFJakcsS0FFTGlHLEVBQUkvRixNQXZDWixHQUFJakIsR0FBS3dCLElBR1QsT0FGQXhCLEdBQUdsRSxLQUFPLEdBQUk2RCxHQUFZLFNBR3pCb1IsV0FBWUEsRUFDWkYsbUJBQW9CQSxFQUNwQkMsV0FBWUEsRUFDWjNWLFNBQVVBLEVBQ1Y2VixXQUFZQSxHQWRkeFUsUUFDRUMsT0FBTyxPQUNQdUIsUUFBUSxjQUFlNUMsR0FFekJBLEVBQVl1QixTQUFXLGtCQThDeEIsV0FDQyxZQU9BLFNBQVNzVSxHQUFpQmpVLEVBQVlsQixFQUFNWixHQU0zQyxRQUFTbUssS0FDUnJJLEVBQVdHLElBQUksYUFBYzZULEdBRzlCLFFBQVNBLEtBQ1I5VixFQUFjRCxVQUFVa0YsS0FBSyxTQUFTQyxHQUNyQ0osRUFBR2xFLEtBQU9zRSxJQVhaLEdBQUlKLEdBQUt3QixJQUNUeEIsR0FBR2xFLEtBQU9BLEVBRVZ1SixJQVREN0ksUUFDRUMsT0FBTyxPQUNQUixXQUFXLG1CQUFvQmdWLEdBRWpDQSxFQUFpQnRVLFNBQVcsYUFBYyxPQUFRLG9CQWtCbkQsV0FDQyxZQU9BLFNBQVN6QixHQUFjd0csRUFBT0MsRUFBTTBCLEdBS25DLFFBQVNwSSxLQUlSLFFBQVNpVyxHQUFnQjlRLEdBQ3hCLEdBQUlwQixHQUFTb0IsRUFBU1csSUFFdEIsT0FBSS9CLEdBQU9nQyxXQUFZLEdBQ2JsRCxLQUFNLEdBQUlxVCxPQUFRLHdCQUdyQm5TLEVBQU8rQixLQVZmLE1BQU9zQyxHQUFlQyxPQUFPLE9BQzNCbkQsS0FBSytRLEdBTlIsT0FDQ2pXLFFBQVNBLEdBUFh1QixRQUNFQyxPQUFPLE9BQ1B1QixRQUFRLGdCQUFpQjlDLEdBRTNCQSxFQUFjeUIsU0FBVyxRQUFTLE9BQVEscUJBdUIzQyxXQUNDLFlBT0EsU0FBU3lVLEdBQWtCcFUsRUFBWW1NLEVBQWN4RCxFQUFpQjBMLEdBV3JFLFFBQVNoTSxLQUNSOUUsSUFDQUksSUFFQVgsRUFBR3NSLFVBQVlELEVBQWVFLGVBRTlCdlUsRUFBV0csSUFBSSxrQkFBbUJvRCxHQUNsQ3ZELEVBQVdHLElBQUksZUFBZ0J3RCxHQUdoQyxRQUFTNlEsS0FDUnhSLEVBQUdzUixVQUFZRCxFQUFlRyxnQkFHL0IsUUFBU0MsS0FDUnpSLEVBQUdzUixVQUFZRCxFQUFlSSxrQkFHL0IsUUFBU0MsS0FDUjFSLEVBQUdzUixVQUFZRCxFQUFlSyxlQUcvQixRQUFTblIsS0FDUlAsRUFBR0ssVUFBWXNGLEVBQWdCeEUsZUFHaEMsUUFBU1IsS0FDUlgsRUFBR1UsT0FBU3lJLEVBQWE5SCxZQXJDMUIsR0FBSXJCLEdBQUt3QixJQUNUeEIsR0FBR3NSLGFBQ0h0UixFQUFHVSxVQUNIVixFQUFHSyxhQUNITCxFQUFHd1IsY0FBZ0JBLEVBQ25CeFIsRUFBR3lSLGdCQUFrQkEsRUFDckJ6UixFQUFHMFIsYUFBZUEsRUFFbEJyTSxJQWREN0ksUUFDRUMsT0FBTyxPQUNQUixXQUFXLG9CQUFxQm1WLEdBRWxDQSxFQUFrQnpVLFNBQVcsYUFBYyxlQUFnQixrQkFBbUIscUJBMkMvRSxXQUNDLFlBT0EsU0FBUzBVLEdBQWVNLEdBYXZCLFFBQVN0TSxLQUNKc00sRUFBUUMsV0FBYSxJQUN4QjVSLEVBQUdzUixXQUNGblYsU0FBUyxFQUNUa0UsV0FBVyxFQUNYSyxRQUFRLEdBR1RWLEVBQUdzUixXQUNGblYsU0FBUyxFQUNUa0UsV0FBVyxFQUNYSyxRQUFRLEdBS1gsUUFBUzZRLEtBQ1IsTUFBT3ZSLEdBQUdzUixVQUdYLFFBQVNFLEtBTVIsTUFMQXhSLEdBQUdzUixVQUFVblYsU0FBVzZELEVBQUdzUixVQUFVblYsUUFDakM2RCxFQUFHc1IsVUFBVW5WLFVBQ2hCNkQsRUFBR3NSLFVBQVVqUixXQUFZLEVBQ3pCTCxFQUFHc1IsVUFBVTVRLFFBQVMsR0FFaEJWLEVBQUdzUixVQUdYLFFBQVNHLEtBS1IsTUFKQXpSLEdBQUdzUixVQUFValIsV0FBYUwsRUFBR3NSLFVBQVVqUixVQUNsQ0wsRUFBR3NSLFVBQVVqUixZQUNqQkwsRUFBR3NSLFVBQVVuVixTQUFVLEdBRWpCNkQsRUFBR3NSLFVBR1gsUUFBU0ksS0FLUixNQUpBMVIsR0FBR3NSLFVBQVU1USxRQUFVVixFQUFHc1IsVUFBVTVRLE9BQy9CVixFQUFHc1IsVUFBVTVRLFNBQ2pCVixFQUFHc1IsVUFBVW5WLFNBQVUsR0FFakI2RCxFQUFHc1IsVUF0RFgsR0FBSXRSLEdBQUt3QixJQUtULE9BSkF4QixHQUFHc1IsYUFFSGpNLEtBR0NrTSxhQUFjQSxFQUNkQyxjQUFlQSxFQUNmQyxnQkFBaUJBLEVBQ2pCQyxhQUFjQSxHQWZoQmxWLFFBQ0VDLE9BQU8sT0FDUHVCLFFBQVEsaUJBQWtCcVQsR0FFNUJBLEVBQWUxVSxTQUFXIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlcicsICd1aS5ib290c3RyYXAnLCAnYW5ndWxhck1vbWVudCddKVxyXG5cdFx0LmNvbmZpZyhhcHBDb25maWcpO1xyXG5cclxuXHRhcHBDb25maWcuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJ107XHJcblx0ZnVuY3Rpb24gYXBwQ29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuXHJcblx0XHQkc3RhdGVQcm92aWRlclxyXG5cdFx0XHQuc3RhdGUoJ3Jvb3QnLCB7XHJcblx0XHRcdFx0dXJsOiAnJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2luZGV4Lmh0bWwnLFxyXG5cdFx0XHRcdGFic3RyYWN0OiB0cnVlLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGNhY2hlOiBbJ2NhY2hlU2VydmljZScsIGNhY2hlQWxsXSxcclxuXHRcdFx0XHRcdHVzZXI6IFsnaGVhZGVyU2VydmljZScsIGdldFVzZXJdXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2hlYWRlcic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvaGVhZGVyL2hlYWRlci5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdoYydcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQnc2lkZWJhcic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvc2lkZWJhci9zaWRlYmFyLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnU2lkZWJhckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdzYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnbG9naW4nLCB7XHJcblx0XHRcdFx0dXJsOiAnL2xvZ2luJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2xvZ2luL2xvZ2luLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2xvZ291dCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvbG9nb3V0JyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTG9nb3V0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdyZWdpc3RlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvcmVnaXN0ZXInLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bSdcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnYWRtaW4nLCB7XHJcblx0XHRcdFx0dXJsOiAnL2FkbWluJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2FkbWluL2FkbWluLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWRtaW5Db250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRcdFx0aXNBZG1pbjogWydhY2Nlc3NTZXJ2aWNlJywgaXNBZG1pbl0sXHJcblx0XHRcdFx0XHRcdFx0dXNlcnM6IFsndXNlclNlcnZpY2UnLCBnZXRVc2Vyc11cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdkYXNoYm9hcmQnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2Rhc2hib2FyZCcsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9kYXNoYm9hcmQvZGFzaGJvYXJkLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRcdFx0aXNBdXRoZW50aWNhdGVkOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0F1dGhlbnRpY2F0ZWRdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnbGFiZWxzJywge1xyXG5cdFx0XHRcdHVybDogJy9sYWJlbHMnLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnXHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnbGFiZWxzLmxhYmVsJywge1xyXG5cdFx0XHRcdHVybDogJy86bGFiZWxJZCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6IFwicGFnZXMvdGFza3MvbGFiZWwuaHRtbFwiLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTGFiZWxQYWdlQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdpbmJveCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvaW5ib3gnLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvdGFza3MvaW5ib3guaHRtbCcsXHJcblx0XHRcdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IFsnYWNjZXNzU2VydmljZScsIGlzQXV0aGVudGljYXRlZF1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCd0b2RheScsIHtcclxuXHRcdFx0XHR1cmw6ICcvdG9kYXknLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvdGFza3MvdG9kYXkuaHRtbCcsXHJcblx0XHRcdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IFsnYWNjZXNzU2VydmljZScsIGlzQXV0aGVudGljYXRlZF1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCd3ZWVrJywge1xyXG5cdFx0XHRcdHVybDogJy93ZWVrJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL3Rhc2tzL3dlZWsuaHRtbCcsXHJcblx0XHRcdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IFsnYWNjZXNzU2VydmljZScsIGlzQXV0aGVudGljYXRlZF1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdjYWxlbmRhcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvY2FsZW5kYXInLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvY2FsZW5kYXIvY2FsZW5kYXIuaHRtbCcsXHJcblx0XHRcdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IFsnYWNjZXNzU2VydmljZScsIGlzQXV0aGVudGljYXRlZF1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0JHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2Rhc2hib2FyZCcpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNhY2hlQWxsKGNhY2hlU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gY2FjaGVTZXJ2aWNlLmNhY2hlQWxsKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlcihoZWFkZXJTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBoZWFkZXJTZXJ2aWNlLmdldFVzZXIoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVc2Vycyh1c2VyU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gdXNlclNlcnZpY2UuZ2V0VXNlcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoYWNjZXNzU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gYWNjZXNzU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBpc0FkbWluKGFjY2Vzc1NlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGFjY2Vzc1NlcnZpY2UuaXNBZG1pbigpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQucnVuKHJ1bkJsb2NrKTtcclxuXHJcblx0cnVuQmxvY2suJGluamVjdCA9IFsnYXBwU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIHJ1bkJsb2NrKGFwcFNlcnZpY2UpIHtcclxuXHRcdGFwcFNlcnZpY2UuaW5pdCgpO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnYXBwU2VydmljZScsIGFwcFNlcnZpY2UpO1xyXG5cclxuXHRhcHBTZXJ2aWNlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHN0YXRlJywgJ3N0YXR1c1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBhcHBTZXJ2aWNlKCRyb290U2NvcGUsICRzdGF0ZSwgc3RhdHVzU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0aW5pdDogaW5pdFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBpbml0KCkge1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBzdGF0ZUNoYW5nZUVycm9yKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzdGF0ZUNoYW5nZUVycm9yKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xyXG5cdFx0XHRpZiAoZXJyb3IgPT09IHN0YXR1c1NlcnZpY2UuVU5BVVRIT1JJWkVEKSB7XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2xvZ2luJyk7XHJcblx0XHRcdH0gZWxzZSBpZiAodG9TdGF0ZS5uYW1lID09PSAnYWRtaW4nICYmIGVycm9yID09PSBzdGF0dXNTZXJ2aWNlLkZPUkJJRERFTikge1xyXG5cdFx0XHRcdC8vIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0Ly8gJHN0YXRlLmdvKCdkYXNoYm9hcmQnKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZpbHRlcignaW5Hcm91cHMnLCBpbkdyb3Vwcyk7XHJcblxyXG5cdGluR3JvdXBzLiRpbmplY3QgPSBbXTtcclxuXHRmdW5jdGlvbiBpbkdyb3VwcygpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbihhY3Rpdml0aWVzLCBncm91cHMpIHtcclxuXHRcdFx0aWYgKCFncm91cHMpIHtcclxuXHRcdFx0XHRyZXR1cm4gYWN0aXZpdGllcztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIGFjdGl2aXRpZXNJbkdyb3VwcyA9IFtdO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhY3Rpdml0aWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKGFjdGl2aXRpZXNbaV0ubGFiZWxfaWQgPT09IGdyb3VwcyB8fFxyXG5cdFx0XHRcdFx0YWN0aXZpdGllc1tpXS5jYWxlbmRhcl9pZCA9PT0gZ3JvdXBzXHJcblx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRhY3Rpdml0aWVzSW5Hcm91cHMucHVzaChhY3Rpdml0aWVzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBhY3Rpdml0aWVzSW5Hcm91cHM7XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmlsdGVyKCdzYW1lRGF5QXMnLCBzYW1lRGF5QXMpO1xyXG5cclxuXHRzYW1lRGF5QXMuJGluamVjdCA9IFsnbW9tZW50J107XHJcblx0ZnVuY3Rpb24gc2FtZURheUFzKG1vbWVudCkge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGV2ZW50cywgZGF5KSB7XHJcblx0XHRcdHZhciBzYW1lRGF5RXZlbnRzID0gW107XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciByZXN1bHQgPSBkYXkuaXNTYW1lKG1vbWVudChldmVudHNbaV0uZHRfc3RhcnQpLCAnZGF5Jyk7XHJcblxyXG5cdFx0XHRcdGlmICghcmVzdWx0KSB7XHJcblx0XHRcdFx0XHRyZXN1bHQgPSBkYXkuaXNTYW1lKG1vbWVudChldmVudHNbaV0uZHRfZW5kKSwgJ2RheScpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYocmVzdWx0KSB7XHJcblx0XHRcdFx0XHRzYW1lRGF5RXZlbnRzLnB1c2goZXZlbnRzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBzYW1lRGF5RXZlbnRzO1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZpbHRlcignd2l0aGluRGF5cycsIHdpdGhpbkRheXMpO1xyXG5cclxuXHR3aXRoaW5EYXlzLiRpbmplY3QgPSBbJ21vbWVudCddO1xyXG5cdGZ1bmN0aW9uIHdpdGhpbkRheXMobW9tZW50KSB7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24odGFza3MsIG51bU9mRGF5cykge1xyXG5cdFx0XHRpZiAoIW51bU9mRGF5cykge1xyXG5cdFx0XHRcdHJldHVybiB0YXNrcztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHRhc2tzV2l0aGluRGF5cyA9IFtdO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0YXNrcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciByZXN1bHQ7XHJcblxyXG5cdFx0XHRcdGlmICghdGFza3NbaV0uZHVlIHx8ICh0YXNrc1tpXS5kdWUgJiZcclxuXHRcdFx0XHRcdG1vbWVudCh0YXNrc1tpXS5kdWUpLmlzQmVmb3JlKG1vbWVudCgpLmFkZChudW1PZkRheXMsICdkYXlzJykpKVxyXG5cdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0dGFza3NXaXRoaW5EYXlzLnB1c2godGFza3NbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRhc2tzV2l0aGluRGF5cztcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5zZXJ2aWNlKCdjYWNoZVNlcnZpY2UnLCBjYWNoZVNlcnZpY2UpO1xyXG5cclxuXHRjYWNoZVNlcnZpY2UuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdjcnVkU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGNhY2hlU2VydmljZSgkcm9vdFNjb3BlLCBjcnVkU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgLy8ganNoaW50IGlnbm9yZTogbGluZVxyXG5cdFx0dm0uY2FsZW5kYXJzID0gW107XHJcblx0XHR2bS5ldmVudHMgPSBbXTtcclxuXHRcdHZtLmxhYmVscyA9IFtdO1xyXG5cdFx0dm0udGFza3MgPSBbXTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjYWNoZUFsbDogY2FjaGVBbGwsXHJcblx0XHRcdGNhY2hlQ2FsZW5kYXJzOiBjYWNoZUNhbGVuZGFycyxcclxuXHRcdFx0Y2FjaGVFdmVudHM6IGNhY2hlRXZlbnRzLFxyXG5cdFx0XHRjYWNoZUxhYmVsczogY2FjaGVMYWJlbHMsXHJcblx0XHRcdGNhY2hlVGFza3M6IGNhY2hlVGFza3MsXHJcblx0XHRcdGNsZWFyQ2FjaGU6IGNsZWFyQ2FjaGUsXHJcblxyXG5cdFx0XHRnZXRBbGw6IGdldEFsbCxcclxuXHRcdFx0Z2V0Q2FsZW5kYXJzOiBnZXRDYWxlbmRhcnMsXHJcblx0XHRcdGdldEV2ZW50czogZ2V0RXZlbnRzLFxyXG5cdFx0XHRnZXRMYWJlbHM6IGdldExhYmVscyxcclxuXHRcdFx0Z2V0VGFza3M6IGdldFRhc2tzXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIFRPRE86IElkZWFsbHkgb25lIEFQSSBjYWxsLlxyXG5cdFx0ZnVuY3Rpb24gY2FjaGVBbGwoKSB7XHJcblx0XHRcdGNhY2hlQ2FsZW5kYXJzKCk7XHJcblx0XHRcdGNhY2hlRXZlbnRzKCk7XHJcblx0XHRcdGNhY2hlTGFiZWxzKCk7XHJcblx0XHRcdGNhY2hlVGFza3MoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZUNhbGVuZGFycygpIHtcclxuXHRcdFx0dm0uY2FsZW5kYXIgPSBuZXcgY3J1ZFNlcnZpY2UoJ2NhbGVuZGFyJyk7XHJcblx0XHRcdHZtLmNhbGVuZGFyLmdldEJ5VXNlcigpXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHZtLmNhbGVuZGFycyA9IGdldFJlc3VsdChyZXNwb25zZSk7XHJcblx0XHRcdFx0XHR1cGRhdGVDYWxlbmRhcnMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZUV2ZW50cygpIHtcclxuXHRcdFx0dm0uZXZlbnQgPSBuZXcgY3J1ZFNlcnZpY2UoJ2V2ZW50Jyk7XHJcblx0XHRcdHZtLmV2ZW50LmdldEJ5VXNlcigpXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHZtLmV2ZW50cyA9IGdldFJlc3VsdChyZXNwb25zZSk7XHJcblx0XHRcdFx0XHR1cGRhdGVFdmVudHMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZUxhYmVscygpIHtcclxuXHRcdFx0dm0ubGFiZWwgPSBuZXcgY3J1ZFNlcnZpY2UoJ2xhYmVsJyk7XHJcblx0XHRcdHZtLmxhYmVsLmdldEJ5VXNlcigpXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHZtLmxhYmVscyA9IGdldFJlc3VsdChyZXNwb25zZSk7XHJcblx0XHRcdFx0XHR1cGRhdGVMYWJlbHMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZVRhc2tzKCkge1xyXG5cdFx0XHR2bS50YXNrID0gbmV3IGNydWRTZXJ2aWNlKCd0YXNrJyk7XHJcblx0XHRcdHZtLnRhc2suZ2V0QnlVc2VyKClcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dm0udGFza3MgPSBnZXRSZXN1bHQocmVzcG9uc2UpO1xyXG5cdFx0XHRcdFx0dXBkYXRlVGFza3MoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjbGVhckNhY2hlKCkge1xyXG5cdFx0XHR2bS5jYWxlbmRhcnMgPSBbXTtcclxuXHRcdFx0dm0uZXZlbnRzID0gW107XHJcblx0XHRcdHZtLmxhYmVscyA9IFtdO1xyXG5cdFx0XHR2bS50YXNrcyA9IFtdO1xyXG5cclxuXHRcdFx0dXBkYXRlQ2FsZW5kYXJzKCk7XHJcblx0XHRcdHVwZGF0ZUV2ZW50cygpO1xyXG5cdFx0XHR1cGRhdGVMYWJlbHMoKTtcclxuXHRcdFx0dXBkYXRlVGFza3MoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZXN1bHQocmVzcG9uc2UpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdHJldHVybiByZXN1bHQuc3VjY2VzcyA/IHJlc3VsdC5kYXRhIDogcmVzdWx0LnRpdGxlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEFsbCgpIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRjYWxlbmRhcnM6IGdldENhbGVuZGFycygpLFxyXG5cdFx0XHRcdGV2ZW50czogZ2V0RXZlbnRzKCksXHJcblx0XHRcdFx0bGFiZWxzOiBnZXRMYWJlbHMoKSxcclxuXHRcdFx0XHR0YXNrczogZ2V0VGFza3MoKVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENhbGVuZGFycygpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFycztcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRFdmVudHMoKSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudHM7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0TGFiZWxzKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWxzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFRhc2tzKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0udGFza3M7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlQ2FsZW5kYXJzKCkge1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3VwZGF0ZUNhbGVuZGFycycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUV2ZW50cygpIHtcclxuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCd1cGRhdGVFdmVudHMnKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVMYWJlbHMoKSB7XHJcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgndXBkYXRlTGFiZWxzJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlVGFza3MoKSB7XHJcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgndXBkYXRlVGFza3MnKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyB0aGUgYXBpIG9mIHRoZSB2YXJpb3VzIGl0ZW0gdHlwZXMuXHJcblx0KiBBbiBpbnN0YW5jZSBvZiBjcnVkIG11c3QgYmUgY3JlYXRlZCBpbiBvcmRlciB0byB1c2UgdGhlIHNlcnZpY2UuXHJcblx0KlxyXG5cdCogQWxsIHByb21pc2VzIHJldHVybiAnc3VjY2VzcycgYW5kIGVpdGhlciAnZGF0YScgb24gc3VjY2VzcyBvciwgb24gZXJyb3IsICd0aXRsZSdcclxuXHQqIHdpdGggYSBnZW5lcmFsIGVycm9yIGFuZCAnZGV0YWlscycgd2l0aCBtb3JlIGRldGFpbHMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjcnVkU2VydmljZScsIGNydWRTZXJ2aWNlKTtcclxuXHJcblx0Y3J1ZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIGNydWRTZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgY3J1ZCA9IGluaXQ7XHJcblx0XHRjcnVkLnByb3RvdHlwZSA9IHtcclxuXHRcdFx0Z2V0OiBnZXQsXHJcblx0XHRcdGdldEJ5VXNlcjogZ2V0QnlVc2VyLFxyXG5cdFx0XHRnZXRXaGVyZTogZ2V0V2hlcmUsXHJcblx0XHRcdGNyZWF0ZTogY3JlYXRlLFxyXG5cdFx0XHR1cGRhdGU6IHVwZGF0ZSxcclxuXHRcdFx0cmVtb3ZlOiByZW1vdmUsXHJcblx0XHRcdHJlbW92ZVdoZXJlOiByZW1vdmVXaGVyZSxcclxuXHRcdFx0cmVtb3ZlVW5lY2Vzc2FyeUtleXM6IHJlbW92ZVVuZWNlc3NhcnlLZXlzXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBjcnVkO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJbml0aWFsaXplIHRoZSBiYXNlIHVybCB1c2luZyB0aGUgdHlwZSBvZiBpdGVtIHRvIGJlIGNhbGxlZCBvbi5cclxuXHRcdCogQWN0aXZpdGllcyBhbmQgdGhlaXIgcGFyZW50cyBoYXZlIGEgc3BlY2lmaWMgc3ViZm9sZGVyIHRvIGJlIHBvaW50ZWQgdG8sXHJcblx0XHQqIHdoaWxlIG90aGVycyBkbyBub3QuXHJcblx0XHQqXHJcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUgb2YgaXRlbS5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBpbml0KHR5cGUpIHtcclxuXHRcdFx0LyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xyXG5cdFx0XHR0aGlzLnR5cGUgPSB0eXBlO1xyXG5cdFx0XHR0aGlzLmJhc2UgPSAnYXBpLyc7XHJcblx0XHRcdHN3aXRjaCAodHlwZSkge1xyXG5cdFx0XHRcdGNhc2UgJ2V2ZW50JzpcclxuXHRcdFx0XHRjYXNlICdjYWxlbmRhcic6XHJcblx0XHRcdFx0XHR0aGlzLmJhc2UgKz0gJ2FjdGl2aXR5L2NhbGVuZGFyLyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRjYXNlICdsYWJlbCc6XHJcblx0XHRcdFx0Y2FzZSAndGFzayc6XHJcblx0XHRcdFx0XHR0aGlzLmJhc2UgKz0gJ2FjdGl2aXR5L3Rhc2svJztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHR0aGlzLmJhc2UgKz0gdHlwZSArICcvJztcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmJhc2UgKz0gdHlwZSArICdNYW5hZ2VyLnBocCc7XHJcblx0XHRcdC8qIGpzaGludCBpZ25vcmU6ZW5kICovXHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byBnZXQuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09IHF1ZXJ5IHJlc3VsdHMgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXQoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGlzLmJhc2UsIHtwYXJhbXM6IHsgaWQ6IGlkIH19KSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cdFx0LyoqXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09IHF1ZXJ5IHJlc3VsdHMgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXRCeVVzZXIoKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQodGhpcy5iYXNlLCB7cGFyYW1zOiB7YnlVc2VyOiB0cnVlfX0pIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0V2hlcmUod2hlcmUsIGJpbmRpbmdzKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQodGhpcy5iYXNlLCB7cGFyYW1zOiB7IHdoZXJlOiB3aGVyZSwgYmluZGluZ3M6IEpTT04uc3RyaW5naWZ5KGJpbmRpbmdzKSB9fSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX1cdGRhdGFcdERhdGEgb2YgaXRlbSB0byBjcmVhdGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAxIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlKGRhdGEpIHtcclxuXHRcdFx0ZGF0YSA9IHRoaXMucmVtb3ZlVW5lY2Vzc2FyeUtleXMoZGF0YSk7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QodGhpcy5iYXNlLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gdXBkYXRlLlxyXG5cdFx0KiBAcGFyYW1cdHttaXhlZFtdfVx0ZGF0YVx0RGF0YSBvZiBpdGVtIHRvIHVwZGF0ZS5cclxuXHRcdCpcclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT09ICcxJyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZShpZCwgZGF0YSkge1xyXG5cdFx0XHRkYXRhID0gdGhpcy5yZW1vdmVVbmVjZXNzYXJ5S2V5cyhkYXRhKTsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KHRoaXMuYmFzZSwgZGF0YSwge3BhcmFtczogeyBpZDogaWQgfX0pIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byBkZWxldGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAxIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUodGhpcy5iYXNlLCB7cGFyYW1zOiB7IGlkOiBpZCB9fSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIFx0e3N0cmluZ31cdHdoZXJlIFx0V2hlcmUgY2xhdXNlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA+PSAwIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlV2hlcmUod2hlcmUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSh0aGlzLmJhc2UgKyAnP3VzZXdoZXJlPXRydWUmd2hlcmU9JyArIGVzY2FwZSh3aGVyZSkpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHJldHVybiByZXNwb25zZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlRmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHN1Y2Nlc3M6ICdmYWxzZScsXHJcblx0XHRcdFx0dGl0bGU6ICdFcnJvciB3aGVuIHF1ZXJ5aW5nIHNlcnZlci4nLFxyXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEl0ZW0gZGF0YSBwYXNzZWQgaW4gbWF5IHN0aWxsIGhhdmUgdGhlaXIgaWRzIG9yIGFsaWFzIGZpZWxkcyAoZm9yIGFjdGl2aXRpZXMpXHJcblx0XHQqIGVtYmVkZGVkLCB3aGljaCB3aWxsIGNhbiBjYXVzZSBlcnJvcnMgaW4gdGhlIFNRTC5cclxuXHRcdCpcclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX0gZGF0YVxyXG5cdFx0KiBAcmV0dXJuXHR7bWl4ZWRbXX1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmVVbmVjZXNzYXJ5S2V5cyhkYXRhKSB7XHJcblx0XHRcdHZhciB0b0RlbGV0ZSA9IFsnaWQnLCAncGVyc29uX2lkJywgdGhpcy50eXBlICsgJ19pZCcsICdhY3Rpdml0eV9pbmZvX2lkJywgJ3BhcmVudF9uYW1lJ107ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0b0RlbGV0ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGRlbGV0ZSBkYXRhW3RvRGVsZXRlW2ldXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyBzZXNzaW9uIHZhcmlhYmxlcy5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3Nlc3Npb25TZXJ2aWNlJywgc2Vzc2lvblNlcnZpY2UpO1xyXG5cclxuXHRzZXNzaW9uU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gc2Vzc2lvblNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmJhc2UgPSAnYXBpL3Nlc3Npb24vc2Vzc2lvblZhck1hbmFnZXIucGhwP3Zhcj0nO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFZhcjogZ2V0VmFyLFxyXG5cdFx0XHRzZXRWYXI6IHNldFZhclxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfSAkbmFtZVx0VmFyaWFibGUgbmFtZSB0byBnZXQgZnJvbSBzZXNzaW9uLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfSBcdFx0UHJvbWlzZSBvciBlcnJvciBvbiBmYWlsLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFZhcigkbmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KHZtLmJhc2UgKyAkbmFtZSlcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9ICRuYW1lXHRWYXJpYWJsZSBuYW1lIHRvIGdldCBmcm9tIHNlc3Npb24uXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmd9IFx0XHRQcm9taXNlIG9yIGVycm9yIG9uIGZhaWwuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gc2V0VmFyKCRuYW1lLCAkdmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3Qodm0uYmFzZSArICRuYW1lLCAkdmFsdWUpXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VGYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0c3VjY2VzczogJ2ZhbHNlJyxcclxuXHRcdFx0XHR0aXRsZTogJ0Vycm9yIHdoZW4gYWNjZXNzaW5nIHZhcmlhYmxlLicsXHJcblx0XHRcdFx0bWVzc2FnZTogZXJyb3JcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBUbyBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYXV0b2ZvY3VzIGF0dHJpYnV0ZSB0byBhdXRvLWZvY3VzXHJcblx0KiBtb2RhbCBpbnB1dHMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwQXV0b0ZvY3VzJywgYXV0b0ZvY3VzRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gYXV0b0ZvY3VzRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0bGluazogbGlua1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG5cdFx0XHRlbGVtZW50WzBdLmZvY3VzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBDb21wYXJlIGFuIGlucHV0IGZpZWxkIHRvIGFub3RoZXIgZmllbGQsIGRldGVybWluZWQgYnkgdGhlIGRldi5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BDb21wYXJlVG8nLCBjb21wYXJlVG9EaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBjb21wYXJlVG9EaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXF1aXJlOiAnbmdNb2RlbCcsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0b3RoZXJNb2RlbDogJz1zcENvbXBhcmVUbydcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogbGlua1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG5cdFx0XHR2YXIgdW5iaW5kV2F0Y2ggPSBzY29wZS4kd2F0Y2goJ290aGVyTW9kZWwnLCB2YWxpZGF0ZU9uQ2hhbmdlKTtcclxuXHRcdFx0bmdNb2RlbC4kdmFsaWRhdG9ycy5zcENvbXBhcmVUbyA9IGNvbXBhcmVWYWx1ZXM7XHJcblx0XHRcdGVsZW1lbnQub24oJyRkZXN0cm95JywgY2xlYW5VcCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjbGVhblVwKCkge1xyXG5cdFx0XHRcdHVuYmluZFdhdGNoKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNvbXBhcmVWYWx1ZXModmlld1ZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuICh2aWV3VmFsdWUgPT09IHNjb3BlLm90aGVyTW9kZWwuJHZpZXdWYWx1ZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHZhbGlkYXRlT25DaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcblx0XHRcdFx0bmdNb2RlbC4kdmFsaWRhdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignTG9nb3V0Q29udHJvbGxlcicsIExvZ291dENvbnRyb2xsZXIpO1xyXG5cclxuXHRMb2dvdXRDb250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ291dFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBMb2dvdXRDb250cm9sbGVyKGxvZ291dFNlcnZpY2UpIHtcclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGxvZ291dFNlcnZpY2UubG9nb3V0KCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdsb2dvdXRTZXJ2aWNlJywgbG9nb3V0U2VydmljZSk7XHJcblxyXG5cdGxvZ291dFNlcnZpY2UuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckaHR0cCcsICckc3RhdGUnLCAnJGxvZycsICdjYWNoZVNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBsb2dvdXRTZXJ2aWNlKCRyb290U2NvcGUsICRodHRwLCAkc3RhdGUsICRsb2csIGNhY2hlU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bG9nb3V0OiBsb2dvdXRcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9nb3V0KCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnYXBpL3VzZXIvbG9nb3V0TWFuYWdlci5waHAnKVxyXG5cdFx0XHRcdC50aGVuKGxvZ291dENvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChsb2dvdXRGYWlsZWQpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9nb3V0Q29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRjYWNoZVNlcnZpY2UuY2xlYXJDYWNoZSgpO1xyXG5cdFx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgndXBkYXRlVXNlcicpO1xyXG5cdFx0XHRcdCRzdGF0ZS5nbygnbG9naW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9nb3V0RmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdFdmVudHNDb250cm9sbGVyJywgRXZlbnRzQ29udHJvbGxlcik7XHJcblxyXG5cdEV2ZW50c0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdjYWxlbmRhcldpZGdldFNlcnZpY2UnLCAnY2FsZW5kYXJTZXJ2aWNlJywgJ2V2ZW50c1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBFdmVudHNDb250cm9sbGVyKCRyb290U2NvcGUsIGNhbGVuZGFyV2lkZ2V0U2VydmljZSwgY2FsZW5kYXJTZXJ2aWNlLCBldmVudHNTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uZXZlbnRzID0gW107XHJcblx0XHR2bS5jYWxlbmRhciA9IFtdO1xyXG5cclxuXHRcdHZtLnRvZGF5ID0gbnVsbDtcclxuXHRcdHZtLnNlbGVjdGVkRGF5ID0gbnVsbDtcclxuXHRcdHZtLm1vbnRoID0gbnVsbDtcclxuXHJcblx0XHR2bS5kYXlDbGlja2VkID0gZGF5Q2xpY2tlZDtcclxuXHRcdHZtLmlzU2FtZURheUFzU2VsZWN0ZWQgPSBpc1NhbWVEYXlBc1NlbGVjdGVkO1xyXG5cdFx0dm0uc2hvd0V2ZW50TW9kYWwgPSBzaG93RXZlbnRNb2RhbDtcclxuXHRcdHZtLmxhc3RNb250aCA9IGxhc3RNb250aDtcclxuXHRcdHZtLm5leHRNb250aCA9IG5leHRNb250aDtcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHR1cGRhdGVDYWxlbmRhcnMoKTtcclxuXHRcdFx0dXBkYXRlRXZlbnRzKCk7XHJcblxyXG5cdFx0XHQkcm9vdFNjb3BlLiRvbigndXBkYXRlQ2FsZW5kYXJzJywgdXBkYXRlQ2FsZW5kYXJzKTtcclxuXHRcdFx0JHJvb3RTY29wZS4kb24oJ3VwZGF0ZUV2ZW50cycsIHVwZGF0ZUV2ZW50cyk7XHJcblxyXG5cdFx0XHR2bS50b2RheSA9IGNhbGVuZGFyV2lkZ2V0U2VydmljZS5nZXRUb2RheSgpO1xyXG5cdFx0XHR2bS5zZWxlY3RlZERheSA9IHZtLnRvZGF5O1xyXG5cdFx0XHR2bS5tb250aCA9IGNhbGVuZGFyV2lkZ2V0U2VydmljZS5nZXRNb250aCh2bS50b2RheSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGF5Q2xpY2tlZChjbGlja0V2ZW50LCBkYXkpIHtcclxuXHRcdFx0dm0uc2VsZWN0ZWREYXkgPSBjYWxlbmRhcldpZGdldFNlcnZpY2UuZGF5Q2xpY2tlZChjbGlja0V2ZW50LCBkYXksIHZtLnNlbGVjdGVkRGF5LCB2bS5jYWxlbmRhcnMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzU2FtZURheUFzU2VsZWN0ZWQoZGF5KSB7XHJcblx0XHRcdHJldHVybiBjYWxlbmRhcldpZGdldFNlcnZpY2UuaXNTYW1lRGF5KGRheSwgdm0uc2VsZWN0ZWREYXkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNob3dFdmVudE1vZGFsKGNsaWNrRXZlbnQsIGV2ZW50KSB7XHJcblx0XHRcdGNhbGVuZGFyV2lkZ2V0U2VydmljZS5zaG93RXZlbnRNb2RhbChjbGlja0V2ZW50LCBldmVudCwgdm0uY2FsZW5kYXJzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsYXN0TW9udGgoKSB7XHJcblx0XHRcdHZtLm1vbnRoID0gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLmxhc3RNb250aCh2bS5tb250aCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbmV4dE1vbnRoKCkge1xyXG5cdFx0XHR2bS5tb250aCA9IGNhbGVuZGFyV2lkZ2V0U2VydmljZS5uZXh0TW9udGgodm0ubW9udGgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUNhbGVuZGFycygpIHtcclxuXHRcdFx0dm0uY2FsZW5kYXJzID0gY2FsZW5kYXJTZXJ2aWNlLmdldENhbGVuZGFycygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUV2ZW50cygpIHtcclxuXHRcdFx0dm0uZXZlbnRzID0gZXZlbnRzU2VydmljZS5nZXRFdmVudHMoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BFdmVudHMnLCBldmVudHNEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBldmVudHNEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZXZlbnRzL2V2ZW50cy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ0V2ZW50c0NvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdldmVudHNTZXJ2aWNlJywgZXZlbnRzU2VydmljZSk7XHJcblxyXG5cdGV2ZW50c1NlcnZpY2UuJGluamVjdCA9IFsnY3J1ZFNlcnZpY2UnLCAnY2FjaGVTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gZXZlbnRzU2VydmljZShjcnVkU2VydmljZSwgY2FjaGVTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5ldmVudCA9IG5ldyBjcnVkU2VydmljZSgnZXZlbnQnKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVFdmVudDogY3JlYXRlRXZlbnQsXHJcblx0XHRcdGNyZWF0ZU9yVXBkYXRlRXZlbnQ6IGNyZWF0ZU9yVXBkYXRlRXZlbnQsXHJcblx0XHRcdGRlbGV0ZUV2ZW50OiBkZWxldGVFdmVudCxcclxuXHRcdFx0Z2V0RXZlbnRzOiBnZXRFdmVudHMsXHJcblx0XHRcdHVwZGF0ZUV2ZW50OiB1cGRhdGVFdmVudFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVFdmVudChldmVudCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uZXZlbnQuY3JlYXRlKGV2ZW50KS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVFdmVudChldmVudCkge1xyXG5cdFx0XHRpZiAoIWV2ZW50LmV2ZW50X2lkKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZUV2ZW50KGV2ZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdXBkYXRlRXZlbnQoZXZlbnQuZXZlbnRfaWQsIGV2ZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVFdmVudChpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uZXZlbnQucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RXZlbnRzKCkge1xyXG5cdFx0XHRyZXR1cm4gY2FjaGVTZXJ2aWNlLmdldEV2ZW50cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUV2ZW50KGlkLCBldmVudCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uZXZlbnQudXBkYXRlKGlkLCBldmVudCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0Y2FjaGVTZXJ2aWNlLmNhY2hlRXZlbnRzKCk7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCogVGhlIGZvcm1hdHMgb2YgdGhlIHRhc2sgYW5kIGV2ZW50IG1vZGFscy5cclxuXHQqIERpc3BsYXkgZm9ybWF0IGlzIHVzZWQgZm9yIGEgdXNlci1mcmllbmRseSBkYXRlLlxyXG5cdCogU3RvcmFnZSBmb3JtYXQgaXMgdXNlZCB0byBzdG9yZSBpbnRvIHRoZSBkYXRhYmFzZS5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2Zvcm1hdFNlcnZpY2UnLCBmb3JtYXRTZXJ2aWNlKTtcclxuXHJcblx0Zm9ybWF0U2VydmljZS4kaW5qZWN0ID0gWydtb21lbnQnXTtcclxuXHRmdW5jdGlvbiBmb3JtYXRTZXJ2aWNlKG1vbWVudCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Zm9ybWF0Rm9yRGlzcGxheTogZm9ybWF0Rm9yRGlzcGxheSxcclxuXHRcdFx0Zm9ybWF0Rm9yU3RvcmFnZTogZm9ybWF0Rm9yU3RvcmFnZSxcclxuXHRcdFx0Z2V0RGlzcGxheUZvcm1hdDogZ2V0RGlzcGxheUZvcm1hdCxcclxuXHRcdFx0dG9EaXNwbGF5Rm9ybWF0OiB0b0Rpc3BsYXlGb3JtYXQsXHJcblx0XHRcdHRvU3RvcmFnZUZvcm1hdDogdG9TdG9yYWdlRm9ybWF0XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGZvcm1hdEZvckRpc3BsYXkoYWN0aXZpdHkpIHtcclxuXHRcdFx0aWYgKGFjdGl2aXR5Lmhhc093blByb3BlcnR5KCdkdF9zdGFydCcpKSB7XHJcblx0XHRcdFx0YWN0aXZpdHkuYWxsX2RheSA9IHBhcnNlSW50KGFjdGl2aXR5LmFsbF9kYXkpO1xyXG5cdFx0XHRcdGFjdGl2aXR5LmR0X3N0YXJ0ID0gdG9EaXNwbGF5Rm9ybWF0KG1vbWVudChhY3Rpdml0eS5kdF9zdGFydCkpO1xyXG5cdFx0XHRcdGFjdGl2aXR5LmR0X2VuZCA9IHRvRGlzcGxheUZvcm1hdChtb21lbnQoYWN0aXZpdHkuZHRfZW5kKSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKGFjdGl2aXR5Lmhhc093blByb3BlcnR5KCdkdWUnKSAmJiBhY3Rpdml0eS5kdWUpIHtcclxuXHRcdFx0XHRcdGFjdGl2aXR5LmR1ZSA9IHRvRGlzcGxheUZvcm1hdChtb21lbnQoYWN0aXZpdHkuZHVlKSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoYWN0aXZpdHkuaGFzT3duUHJvcGVydHkoJ3JlbWluZGVyJykgJiYgYWN0aXZpdHkucmVtaW5kZXIpIHtcclxuXHRcdFx0XHRcdGFjdGl2aXR5LnJlbWluZGVyID0gdG9EaXNwbGF5Rm9ybWF0KG1vbWVudChhY3Rpdml0eS5yZW1pbmRlcikpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGZvcm1hdEZvclN0b3JhZ2UoYWN0aXZpdHkpIHtcclxuXHRcdFx0dmFyIGRpc3BsYXlGb3JtYXQgPSBnZXREaXNwbGF5Rm9ybWF0KCk7XHJcblx0XHRcdGlmIChhY3Rpdml0eS5oYXNPd25Qcm9wZXJ0eSgnZHRfc3RhcnQnKSkge1xyXG5cdFx0XHRcdGFjdGl2aXR5LmR0X3N0YXJ0ID0gdG9TdG9yYWdlRm9ybWF0KG1vbWVudChhY3Rpdml0eS5kdF9zdGFydCwgZGlzcGxheUZvcm1hdCkpO1xyXG5cdFx0XHRcdGFjdGl2aXR5LmR0X2VuZCA9IHRvU3RvcmFnZUZvcm1hdChtb21lbnQoYWN0aXZpdHkuZHRfZW5kLCBkaXNwbGF5Rm9ybWF0KSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKGFjdGl2aXR5Lmhhc093blByb3BlcnR5KCdkdWUnKSAmJiBhY3Rpdml0eS5kdWUpIHtcclxuXHRcdFx0XHRcdGFjdGl2aXR5LmR1ZSA9IHRvU3RvcmFnZUZvcm1hdChtb21lbnQoYWN0aXZpdHkuZHVlLCBkaXNwbGF5Rm9ybWF0KSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoYWN0aXZpdHkuaGFzT3duUHJvcGVydHkoJ3JlbWluZGVyJykgJiYgYWN0aXZpdHkucmVtaW5kZXIpIHtcclxuXHRcdFx0XHRcdGFjdGl2aXR5LnJlbWluZGVyID0gdG9TdG9yYWdlRm9ybWF0KG1vbWVudChhY3Rpdml0eS5yZW1pbmRlciwgZGlzcGxheUZvcm1hdCkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gYWN0aXZpdHk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RGlzcGxheUZvcm1hdCgpIHtcclxuXHRcdFx0cmV0dXJuICdoaDptbSBhIE1NLURELVlZWVknO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0ge21vbWVudCBPYmplY3R9IGFjdGl2aXR5XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gdG9EaXNwbGF5Rm9ybWF0KGFjdGl2aXR5KSB7XHJcblx0XHRcdHJldHVybiBhY3Rpdml0eS5mb3JtYXQoZ2V0RGlzcGxheUZvcm1hdCgpKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHttb21lbnQgT2JqZWN0fSBhY3Rpdml0eVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHRvU3RvcmFnZUZvcm1hdChhY3Rpdml0eSkge1xyXG5cdFx0XHRyZXR1cm4gYWN0aXZpdHkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignTW9kYWxDb250cm9sbGVyJywgTW9kYWxDb250cm9sbGVyKTtcclxuXHJcblx0TW9kYWxDb250cm9sbGVyLiRpbmplY3QgPSBbJyR1aWJNb2RhbEluc3RhbmNlJywgJ2dyb3VwcycsICdpdGVtJywgJ2V2ZW50TW9kYWxTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gTW9kYWxDb250cm9sbGVyKCR1aWJNb2RhbEluc3RhbmNlLCBncm91cHMsIGl0ZW0sIGV2ZW50TW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uZ3JvdXBzID0gZ3JvdXBzO1xyXG5cdFx0dm0uaXRlbSA9IGl0ZW07XHJcblxyXG5cdFx0dm0uY2FuY2VsID0gY2FuY2VsO1xyXG5cdFx0dm0uY2xvc2UgPSBjbG9zZTtcclxuXHRcdHZtLmNvbmZpcm0gPSBjb25maXJtO1xyXG5cdFx0dm0ucmVtb3ZlID0gcmVtb3ZlO1xyXG5cdFx0dm0udG9nZ2xlQWxsRGF5ID0gdG9nZ2xlQWxsRGF5O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNhbmNlbCgpIHtcclxuXHRcdFx0JHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2xvc2UoKSB7XHJcblx0XHRcdCR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY29uZmlybShkYXRhKSB7XHJcblx0XHRcdCR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKGRhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZShkYXRhKSB7XHJcblx0XHRcdCR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoZGF0YSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQWxsRGF5KGV2ZW50KSB7XHJcblx0XHRcdGV2ZW50TW9kYWxTZXJ2aWNlLnRvZ2dsZUFsbERheShldmVudCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdSZWN1cnJlbmNlQ29udHJvbGxlcicsIFJlY3VycmVuY2VDb250cm9sbGVyKTtcclxuXHJcblx0UmVjdXJyZW5jZUNvbnRyb2xsZXIuJGluamVjdCA9IFsncmVjdXJyZW5jZU1vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFJlY3VycmVuY2VDb250cm9sbGVyKHJlY3VycmVuY2VNb2RhbFNlcnZpY2UpIHtcclxuXHRcdHZhciByYyA9IHRoaXM7XHJcblx0XHRyYy5zaG93UmVjdXJyZW5jZU1vZGFsID0gc2hvd1JlY3VycmVuY2VNb2RhbDtcclxuXHJcblx0XHRmdW5jdGlvbiBzaG93UmVjdXJyZW5jZU1vZGFsKCkge1xyXG5cdFx0XHRpZiAocmMuaXRlbS5yZWN1cnJlbmNlKSB7XHJcblx0XHRcdFx0cmVjdXJyZW5jZU1vZGFsU2VydmljZS5vcGVuUmVjdXJyZW5jZU1vZGFsKHJjLml0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwUmVwZWF0JywgcmVjdXJyZW5jZURpcmVjdGl2ZSk7XHJcblxyXG5cdGZ1bmN0aW9uIHJlY3VycmVuY2VEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcmVjdXJyZW5jZS9yZWN1cnJlbmNlLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnUmVjdXJyZW5jZUNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICdyYycsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0aXRlbTogJz0nXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdyZWN1cnJlbmNlU2VydmljZScsIHJlY3VycmVuY2VTZXJ2aWNlKTtcclxuXHJcblx0ZnVuY3Rpb24gcmVjdXJyZW5jZVNlcnZpY2UoKSB7XHJcblx0XHR2YXIgcmVjdXJyZW5jZUNvbHMgPSB7XHJcblx0XHRcdGZyZXE6IFsnaG91cmx5JywgJ2RhaWx5JywgJ3dlZWtseScsICdtb250aGx5JywgJ3llYXJseSddLFxyXG5cdFx0XHRkYXlzOiBbJ21vJywgJ3R1JywgJ3dlJywgJ3RoJywgJ2ZyJywgJ3NhJywgJ3N1J10sXHJcblx0XHRcdGJ5OiBbJ2J5X2hvdXInLCAnYnlfZGF5JywgJ2J5X21vbnRoX2RheScsICdieV95ZWFyX2RheScsICdieV93ZWVrX25vJywgJ2J5X21vbnRoJ11cclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y2xlYXJSZWN1cnJlbmNlOiBjbGVhclJlY3VycmVuY2UsXHJcblx0XHRcdGNvbnN0cnVjdFJlY3VycmVuY2U6IGNvbnN0cnVjdFJlY3VycmVuY2VcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2xlYXJSZWN1cnJlbmNlKGl0ZW0pIHtcclxuXHRcdFx0aXRlbS5yZWN1cnJlbmNlID0gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY29uc3RydWN0UmVjdXJyZW5jZShpdGVtKSB7XHJcblxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1Rhc2tzQ29udHJvbGxlcicsIFRhc2tzQ29udHJvbGxlcik7XHJcblxyXG5cdFRhc2tzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ3Rhc2tzU2VydmljZScsICdsYWJlbFNlcnZpY2UnLCAndGFza01vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFRhc2tzQ29udHJvbGxlcigkcm9vdFNjb3BlLCB0YXNrc1NlcnZpY2UsIGxhYmVsU2VydmljZSwgdGFza01vZGFsU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmxhYmVscyA9IFtdO1xyXG5cdFx0dm0udGFza3MgPSBbXTtcclxuXHRcdHZtLnNob3dUYXNrTW9kYWwgPSBzaG93VGFza01vZGFsO1xyXG5cdFx0dm0udG9nZ2xlQ29tcGxldGVkID0gdG9nZ2xlQ29tcGxldGVkO1xyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdHVwZGF0ZUxhYmVscygpO1xyXG5cdFx0XHR1cGRhdGVUYXNrcygpO1xyXG5cclxuXHRcdFx0JHJvb3RTY29wZS4kb24oJ3VwZGF0ZUxhYmVscycsIHVwZGF0ZUxhYmVscyk7XHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCd1cGRhdGVUYXNrcycsIHVwZGF0ZVRhc2tzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaG93VGFza01vZGFsKHRhc2spIHtcclxuXHRcdFx0dGFza01vZGFsU2VydmljZS5vcGVuVGFza01vZGFsKHRhc2ssIHZtLmxhYmVscyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQ29tcGxldGVkKHRhc2spIHtcclxuXHRcdFx0dGFza3NTZXJ2aWNlLnRvZ2dsZUNvbXBsZXRlZCh0YXNrKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVMYWJlbHMoKSB7XHJcblx0XHRcdHZtLmxhYmVscyA9IGxhYmVsU2VydmljZS5nZXRMYWJlbHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVUYXNrcygpIHtcclxuXHRcdFx0dm0udGFza3MgPSB0YXNrc1NlcnZpY2UuZ2V0VGFza3MoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BUYXNrcycsIHRhc2tzRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gdGFza3NEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdGFza3MvdGFza3MuaHRtbCcsXHJcblx0XHRcdGNvbnRyb2xsZXI6ICdUYXNrc0NvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0b3JkZXI6ICc9JyxcclxuXHRcdFx0XHRkYXlzOiAnPXdpdGhpbkRheXMnLFxyXG5cdFx0XHRcdGluTGFiZWxzOiAnPWluR3JvdXBzJ1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgndGFza3NTZXJ2aWNlJywgdGFza3NTZXJ2aWNlKTtcclxuXHJcblx0dGFza3NTZXJ2aWNlLiRpbmplY3QgPSBbJ2NydWRTZXJ2aWNlJywgJ2NhY2hlU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIHRhc2tzU2VydmljZShjcnVkU2VydmljZSwgY2FjaGVTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS50YXNrID0gbmV3IGNydWRTZXJ2aWNlKCd0YXNrJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y3JlYXRlVGFzazogY3JlYXRlVGFzayxcclxuXHRcdFx0Y3JlYXRlT3JVcGRhdGVUYXNrOiBjcmVhdGVPclVwZGF0ZVRhc2ssXHJcblx0XHRcdGRlbGV0ZVRhc2s6IGRlbGV0ZVRhc2ssXHJcblx0XHRcdGdldFRhc2tzOiBnZXRUYXNrcyxcclxuXHRcdFx0dG9nZ2xlQ29tcGxldGVkOiB0b2dnbGVDb21wbGV0ZWQsXHJcblx0XHRcdHVwZGF0ZVRhc2s6IHVwZGF0ZVRhc2tcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlVGFzayh0YXNrKSB7XHJcblx0XHRcdHJldHVybiB2bS50YXNrLmNyZWF0ZSh0YXNrKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVUYXNrKHRhc2spIHtcclxuXHRcdFx0aWYgKCF0YXNrLnRhc2tfaWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gY3JlYXRlVGFzayh0YXNrKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdXBkYXRlVGFzayh0YXNrLnRhc2tfaWQsIHRhc2spO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZVRhc2soaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLnRhc2sucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VGFza3MoKSB7XHJcblx0XHRcdHJldHVybiBjYWNoZVNlcnZpY2UuZ2V0VGFza3MoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVDb21wbGV0ZWQodGFzaykge1xyXG5cdFx0XHR0YXNrLmNvbXBsZXRlZCA9ICFwYXJzZUludCh0YXNrLmNvbXBsZXRlZCk7XHJcblx0XHRcdHJldHVybiB1cGRhdGVUYXNrKHRhc2sudGFza19pZCwgdGFzaykudGhlbihnZXRUYXNrcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlVGFzayhpZCwgdGFzaykge1xyXG5cdFx0XHRyZXR1cm4gdm0udGFzay51cGRhdGUoaWQsIHRhc2spLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0dmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdGlmIChyZXMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdGNhY2hlU2VydmljZS5jYWNoZVRhc2tzKCk7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignVXBsb2FkQ29udHJvbGxlcicsIFVwbG9hZENvbnRyb2xsZXIpO1xyXG5cclxuXHRVcGxvYWRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckaHR0cCcsICd1cGxvYWRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gVXBsb2FkQ29udHJvbGxlcigkc2NvcGUsICRodHRwLCB1cGxvYWRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdWMgPSB0aGlzO1xyXG5cdFx0dWMudXBsb2FkRmlsZSA9IHVwbG9hZEZpbGU7XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBsb2FkRmlsZShmaWxlLCBvbGRGaWxlKSB7XHJcblx0XHRcdHJldHVybiB1cGxvYWRTZXJ2aWNlLnVwbG9hZEZpbGUoZmlsZSlcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihmaWxlUGF0aCkgeyByZXR1cm4gZmlsZVBhdGg7IH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcEZpbGVDaGFuZ2UnLCB1cGxvYWREaXJlY3RpdmUpO1xyXG5cclxuXHR1cGxvYWREaXJlY3RpdmUuJGluamVjdCA9IFsnJHBhcnNlJ107XHJcblx0ZnVuY3Rpb24gdXBsb2FkRGlyZWN0aXZlKCRwYXJzZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1VwbG9hZENvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd1YycsXHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0c3BGaWxlQ2hhbmdlOiAnPScsXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdFx0dmFyIG1heEZpbGVTaXplID0gMiAqIDEwMjQgKiAxMDI0O1xyXG5cdFx0XHR2YXIgZmlsZU1vZGVsID0gJHBhcnNlKGF0dHJzLnNwRmlsZUNoYW5nZSk7XHJcblx0XHRcdGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZmlsZUhhbmRsZXIsIGZhbHNlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGZpbGVIYW5kbGVyKGV2ZW50KSB7XHJcblx0XHRcdFx0c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIGZpbGUgPSBlbGVtZW50WzBdLmZpbGVzWzBdO1xyXG5cclxuXHRcdFx0XHRcdGlmIChmaWxlLnNpemUgPD0gbWF4RmlsZVNpemUpIHtcclxuXHRcdFx0XHRcdFx0c2NvcGUudWMudXBsb2FkRmlsZShmaWxlKVxyXG5cdFx0XHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKGZpbGVQYXRoKSB7IHNjb3BlLnNwRmlsZUNoYW5nZSA9IGZpbGVQYXRoOyB9KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGFsZXJ0KFwiRmlsZSBtdXN0IGJlIGxlc3MgdGhhbiBcIiArIChtYXhGaWxlU2l6ZSAvIDEwMjQgLyAxMDI0KSArIFwiTUIuXCIpOy8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd1cGxvYWRTZXJ2aWNlJywgdXBsb2FkU2VydmljZSk7XHJcblxyXG5cdHVwbG9hZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIHVwbG9hZFNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHVwbG9hZEZpbGU6IHVwbG9hZEZpbGVcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBsb2FkRmlsZShmaWxlKSB7XHJcblx0XHRcdHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG5cdFx0XHRmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuXHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCdhcGkvdXBsb2FkL3VwbG9hZE1hbmFnZXIucGhwJywgZm9ybURhdGEsIHtcclxuXHRcdFx0XHR0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG5cdFx0XHRcdGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9XHJcblx0XHRcdH0pXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRpZiAocmVzLmRhdGEuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzLmRhdGEuZGF0YTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRsb2cuZXJyb3IocmVzLnRpdGxlKTtcclxuXHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdCRsb2cuZXJyb3IocmVzKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0FkbWluQ29udHJvbGxlcicsIEFkbWluQ29udHJvbGxlcik7XHJcblxyXG5cdEFkbWluQ29udHJvbGxlci4kaW5qZWN0ID0gWydpc0FkbWluJywgJ3VzZXJzJywgJ3VzZXJTZXJ2aWNlJywgJ3VzZXJNb2RhbFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBBZG1pbkNvbnRyb2xsZXIoaXNBZG1pbiwgdXNlcnMsIHVzZXJTZXJ2aWNlLCB1c2VyTW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uaXNBZG1pbiA9IGlzQWRtaW47XHJcblx0XHR2bS51c2VycyA9IHVzZXJzO1xyXG5cdFx0dm0uc2hvd1VzZXJNb2RhbCA9IHNob3dVc2VyTW9kYWw7XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVc2VycygpIHtcclxuXHRcdFx0dXNlclNlcnZpY2UuZ2V0VXNlcnMoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7IHZtLnVzZXJzID0gcmVzcG9uc2U7IH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNob3dVc2VyTW9kYWwodXNlcikge1xyXG5cdFx0XHR1c2VyTW9kYWxTZXJ2aWNlLm9wZW5Vc2VyTW9kYWwodXNlcilcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkgeyBpZiAocmVzcG9uc2UpIHZtLnVzZXJzID0gcmVzcG9uc2U7IH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgTG9naW5Db250cm9sbGVyKTtcclxuXHJcblx0TG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ2luU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihsb2dpblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR2bS5lcnJvciA9ICcnO1xyXG5cclxuXHRcdHZtLmxvZ2luID0gbG9naW47XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIExvZ2luU2VydmljZSB3aWxsIHJlZGlyZWN0IGlmIHRoZXJlIGlzIG5vIGVycm9yLiBUaHVzLCB0aGVyZSdzIG9ubHkgYVxyXG5cdFx0KiBuZWVkIHRvIHJldHVybiBhIHByb21pc2UgaWYgdGhlcmUncyBhbiBlcnJvci5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBsb2dpbigpIHtcclxuXHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdGxvZ2luU2VydmljZS5sb2dpbih2bS51c2VyKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnbG9naW5TZXJ2aWNlJywgbG9naW5TZXJ2aWNlKTtcclxuXHJcblx0bG9naW5TZXJ2aWNlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJGh0dHAnLCAnJHN0YXRlJywgJyRsb2cnLCAnY2FjaGVTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gbG9naW5TZXJ2aWNlKCRyb290U2NvcGUsICRodHRwLCAkc3RhdGUsICRsb2csIGNhY2hlU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bG9naW46IGxvZ2luXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxvZ2luKHVzZXIpIHtcclxuXHRcdFx0dXNlci5uYW1lID0gdXNlci5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG5cclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJ2FwaS91c2VyL2xvZ2luTWFuYWdlci5waHAnLCB1c2VyKVxyXG5cdFx0XHRcdC50aGVuKGxvZ2luQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKGxvZ2luRmFpbGVkKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGxvZ2luQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGEudGl0bGU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjYWNoZVNlcnZpY2UuY2FjaGVBbGwoKTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3VwZGF0ZVVzZXInKTtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2Rhc2hib2FyZCcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dpbkZhaWxlZChlcnJvcikge1xyXG5cdFx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRcdHJldHVybiAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ29udHJvbGxlcicsIFJlZ2lzdGVyQ29udHJvbGxlcik7XHJcblxyXG5cdFJlZ2lzdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWydyZWdpc3RlclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBSZWdpc3RlckNvbnRyb2xsZXIocmVnaXN0ZXJTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uZXJyb3IgPSAnJztcclxuXHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdHZtLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XHJcblx0XHRcdHZtLmxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRyZWdpc3RlclNlcnZpY2UucmVnaXN0ZXIodm0udXNlcilcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dm0uZXJyb3IgPSByZXNwb25zZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3JlZ2lzdGVyU2VydmljZScsIHJlZ2lzdGVyU2VydmljZSk7XHJcblxyXG5cdHJlZ2lzdGVyU2VydmljZS4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnJGxvZycsICdjcnVkU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIHJlZ2lzdGVyU2VydmljZSgkbG9jYXRpb24sICRsb2csIGNydWRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5jcnVkID0gbmV3IGNydWRTZXJ2aWNlKCd1c2VyJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVnaXN0ZXI6IHJlZ2lzdGVyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlZ2lzdGVyKHVzZXIpIHtcclxuXHRcdFx0dXNlci5uYW1lID0gdXNlci5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHZtLmNydWQuY3JlYXRlKHVzZXIpXHJcblx0XHRcdFx0LnRoZW4ocmVnaXN0cmF0aW9uQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gcmVnaXN0cmF0aW9uQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2Uuc3VjY2VzcyA9PT0gJ2ZhbHNlJykge1xyXG5cdFx0XHRcdFx0JGxvZy5lcnJvcihyZXNwb25zZS50aXRsZSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UudGl0bGU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRsb2NhdGlvbi51cmwoJy9sb2dpbicpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdMYWJlbFBhZ2VDb250cm9sbGVyJywgTGFiZWxQYWdlQ29udHJvbGxlcik7XHJcblxyXG5cdExhYmVsUGFnZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHN0YXRlUGFyYW1zJ107XHJcblx0ZnVuY3Rpb24gTGFiZWxQYWdlQ29udHJvbGxlcigkc3RhdGVQYXJhbXMpIHtcclxuXHRcdHRoaXMubGFiZWxJZCA9ICRzdGF0ZVBhcmFtcy5sYWJlbElkO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnYWNjZXNzU2VydmljZScsIGFjY2Vzc1NlcnZpY2UpO1xyXG5cclxuXHRhY2Nlc3NTZXJ2aWNlLiRpbmplY3QgPSBbJyRxJywgJ3Nlc3Npb25TZXJ2aWNlJywgJ3N0YXR1c1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBhY2Nlc3NTZXJ2aWNlKCRxLCBzZXNzaW9uU2VydmljZSwgc3RhdHVzU2VydmljZSkge1xyXG5cdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IGlzQXV0aGVudGljYXRlZCxcclxuXHRcdFx0aXNBZG1pbjogaXNBZG1pblxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ25hbWUnKVxyXG5cdFx0XHRcdC50aGVuKGlzQXV0aGVudGljYXRlZENvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZENvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoc3RhdHVzU2VydmljZS5PSyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChzdGF0dXNTZXJ2aWNlLlVOQVVUSE9SSVpFRCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQWRtaW4oKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ2FkbWluJylcclxuXHRcdFx0XHQudGhlbihpc0FkbWluQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gaXNBZG1pbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSB8fCByZXN1bHQuZGF0YSA9PT0gJzAnKSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3Qoc3RhdHVzU2VydmljZS5GT1JCSURERU4pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHN0YXR1c1NlcnZpY2UuT0spO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBTdGF0dXMgY29kZXMgdXNlZCB3aGVuIGFjY2Vzc2luZyB2YXJpb3VzIHBhZ2VzIGluIHRoZSBhcHAuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5zZXJ2aWNlKCdzdGF0dXNTZXJ2aWNlJywgc3RhdHVzU2VydmljZSk7XHJcblxyXG5cdGZ1bmN0aW9uIHN0YXR1c1NlcnZpY2UoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRPSzogMjAwLFxyXG5cdFx0XHRVTkFVVEhPUklaRUQ6IDQwMSxcclxuXHRcdFx0Rk9SQklEREVOOiA0MDNcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnY2FsZW5kYXJTZXJ2aWNlJywgY2FsZW5kYXJTZXJ2aWNlKTtcclxuXHJcblx0Y2FsZW5kYXJTZXJ2aWNlLiRpbmplY3QgPSBbJ2NydWRTZXJ2aWNlJywgJ2NhY2hlU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGNhbGVuZGFyU2VydmljZShjcnVkU2VydmljZSwgY2FjaGVTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5jYWxlbmRhciA9IG5ldyBjcnVkU2VydmljZSgnY2FsZW5kYXInKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVDYWxlbmRhcjogY3JlYXRlQ2FsZW5kYXIsXHJcblx0XHRcdGRlbGV0ZUNhbGVuZGFyOiBkZWxldGVDYWxlbmRhcixcclxuXHRcdFx0Z2V0Q2FsZW5kYXJzOiBnZXRDYWxlbmRhcnMsXHJcblx0XHRcdHVwZGF0ZUNhbGVuZGFyOiB1cGRhdGVDYWxlbmRhclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVDYWxlbmRhcihjYWxlbmRhcikge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXIuY3JlYXRlKGNhbGVuZGFyKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlQ2FsZW5kYXIoaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyLnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENhbGVuZGFycygpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlU2VydmljZS5nZXRDYWxlbmRhcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVDYWxlbmRhcihpZCwgY2FsZW5kYXIpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyLnVwZGF0ZShpZCwgY2FsZW5kYXIpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG5cdFx0XHRcdGNhY2hlU2VydmljZS5jYWNoZUNhbGVuZGFycygpO1xyXG5cdFx0XHRcdHJldHVybiByZXN1bHQuZGF0YTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LnRpdGxlO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2V2ZW50TW9kYWxTZXJ2aWNlJywgZXZlbnRNb2RhbFNlcnZpY2UpO1xyXG5cclxuXHRldmVudE1vZGFsU2VydmljZS4kaW5qZWN0ID0gWyckdWliTW9kYWwnLCAnbW9tZW50JywgJ2V2ZW50c1NlcnZpY2UnLCAnZm9ybWF0U2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGV2ZW50TW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgbW9tZW50LCBldmVudHNTZXJ2aWNlLCBmb3JtYXRTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuRXZlbnRNb2RhbDogb3BlbkV2ZW50TW9kYWwsXHJcblx0XHRcdHRvZ2dsZUFsbERheTogdG9nZ2xlQWxsRGF5XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBXaXRob3V0IGNsb25pbmcgdGhlIGV2ZW50LCBhbnkgY2hhbmdlcyBtYWRlIGluIHRoZSBtb2RhbCB3aWxsIGJlIHJlZmxlY3RlZFxyXG5cdFx0KiBpbiB0aGUgbWFpbiB3aW5kb3cgcmVnYXJkbGVzcyBvZiBpZiB0aGUgY2hhbmdlcyB3ZXJlIHNhdmVkIG9yIG5vdCwgd2hpY2hcclxuXHRcdCogbWVhbnMgYSB1c2VyIHdvdWxkIG5vdCBiZSBhYmxlIHRvIGNhbmNlbCB0aGVpciBjaGFuZ2VzIHVubGVzcyB0aGV5IHJlZnJlc2guXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gb3BlbkV2ZW50TW9kYWwoZXZlbnQsIGNhbGVuZGFycykge1xyXG5cdFx0XHR2YXIgY2xvbmVkRXZlbnQgPSB7fTtcclxuXHRcdFx0YW5ndWxhci5leHRlbmQoY2xvbmVkRXZlbnQsIGV2ZW50KTtcclxuXHRcdFx0Zm9ybWF0U2VydmljZS5mb3JtYXRGb3JEaXNwbGF5KGNsb25lZEV2ZW50KTtcclxuXHJcblx0XHRcdHJldHVybiAkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9ldmVudHMvbW9kYWwvZXZlbnQubW9kYWwuaHRtbCcsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0Z3JvdXBzOiBmdW5jdGlvbigpIHsgcmV0dXJuIGNhbGVuZGFyczsgfSxcclxuXHRcdFx0XHRcdGl0ZW06IGNsb25lZEV2ZW50XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0Zm9ybWF0U2VydmljZS5mb3JtYXRGb3JTdG9yYWdlKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdHJldHVybiBldmVudHNTZXJ2aWNlLmNyZWF0ZU9yVXBkYXRlRXZlbnQocmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdC50aGVuKGV2ZW50c1NlcnZpY2UuZ2V0RXZlbnRzKTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0aWYgKE51bWJlcihyZXNwb25zZSkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGV2ZW50c1NlcnZpY2UuZGVsZXRlRXZlbnQocmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4oZXZlbnRzU2VydmljZS5nZXRFdmVudHMpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUFsbERheShldmVudCkge1xyXG5cdFx0XHR2YXIgZGlzcGxheSA9IGZvcm1hdFNlcnZpY2UuZ2V0RGlzcGxheUZvcm1hdCgpO1xyXG5cclxuXHRcdFx0aWYgKGV2ZW50LmFsbF9kYXkpIHtcclxuXHRcdFx0XHRldmVudC5kdF9zdGFydCA9IGZvcm1hdFNlcnZpY2UudG9EaXNwbGF5Rm9ybWF0KG1vbWVudChldmVudC5kdF9zdGFydCwgZGlzcGxheSkuc3RhcnRPZignZGF5JykpO1xyXG5cdFx0XHRcdGV2ZW50LmR0X2VuZCA9IGZvcm1hdFNlcnZpY2UudG9EaXNwbGF5Rm9ybWF0KG1vbWVudChldmVudC5kdF9zdGFydCwgZGlzcGxheSkuZW5kT2YoJ2RheScpKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgY3VycmVudEhvdXIgPSBtb21lbnQoKS5zdGFydE9mKCdob3VyJykuaG91cigpO1xyXG5cdFx0XHRcdGV2ZW50LmR0X3N0YXJ0ID0gZm9ybWF0U2VydmljZS50b0Rpc3BsYXlGb3JtYXQobW9tZW50KGV2ZW50LmR0X3N0YXJ0LCBkaXNwbGF5KS5ob3VyKGN1cnJlbnRIb3VyKSk7XHJcblx0XHRcdFx0ZXZlbnQuZHRfZW5kID0gZm9ybWF0U2VydmljZS50b0Rpc3BsYXlGb3JtYXQobW9tZW50KGV2ZW50LmR0X3N0YXJ0LCBkaXNwbGF5KS5ob3VyKGN1cnJlbnRIb3VyKS5hZGQoMSwgJ2hvdXJzJykpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnY2FsZW5kYXJXaWRnZXRTZXJ2aWNlJywgY2FsZW5kYXJXaWRnZXRTZXJ2aWNlKTtcclxuXHJcblx0Y2FsZW5kYXJXaWRnZXRTZXJ2aWNlLiRpbmplY3QgPSBbJ21vbWVudCcsICdldmVudE1vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGNhbGVuZGFyV2lkZ2V0U2VydmljZShtb21lbnQsIGV2ZW50TW9kYWxTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRkYXlDbGlja2VkOiBkYXlDbGlja2VkLFxyXG5cdFx0XHRnZXRNb250aDogZ2V0TW9udGgsXHJcblx0XHRcdGdldFRvZGF5OiBnZXRUb2RheSxcclxuXHRcdFx0Z2V0V2VlazogZ2V0V2VlayxcclxuXHRcdFx0aXNTYW1lRGF5OiBpc1NhbWVEYXksXHJcblx0XHRcdGxhc3RNb250aDogbGFzdE1vbnRoLFxyXG5cdFx0XHRuZXh0TW9udGg6IG5leHRNb250aCxcclxuXHRcdFx0c2hvd0V2ZW50TW9kYWw6IHNob3dFdmVudE1vZGFsXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGRheUNsaWNrZWQoY2xpY2tFdmVudCwgZGF5LCBzZWxlY3RlZERheSwgY2FsZW5kYXJzKSB7XHJcblx0XHRcdGlmIChpc1NhbWVEYXkoZGF5LmZ1bGxEYXRlLCBzZWxlY3RlZERheSkpIHtcclxuXHRcdFx0XHRzaG93RXZlbnRNb2RhbChcclxuXHRcdFx0XHRcdGNsaWNrRXZlbnQsXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGR0X3N0YXJ0OiBkYXkuZnVsbERhdGUsXHJcblx0XHRcdFx0XHRcdGR0X2VuZDogZGF5LmZ1bGxEYXRlLmNsb25lKCkuZW5kT2YoJ2RheScpLFxyXG5cdFx0XHRcdFx0XHRhbGxfZGF5OiAxLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGNhbGVuZGFyc1xyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0cmV0dXJuIHNlbGVjdGVkRGF5O1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBkYXkuZnVsbERhdGU7XHJcblx0XHR9XHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHtNb21lbnQgT2JqZWN0fSBhRGF5IERheSB0byBidWlsZCBtb250aCBhcm91bmQuXHJcblx0XHQqIEByZXR1cm4ge01vbWVudCBPYmplY3RbXVtdfVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldE1vbnRoKGFEYXkpIHtcclxuXHRcdFx0dmFyIG1vbnRoID0gW107XHJcblx0XHRcdHZhciBkYXkgPSBhRGF5LmNsb25lKCkuZGF0ZSgxKS5zdGFydE9mKCd3ZWVrJyk7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcblx0XHRcdFx0bW9udGgucHVzaChnZXRXZWVrKGRheSwgYURheS5tb250aCgpKSk7XHJcblx0XHRcdFx0ZGF5ID0gZGF5LmFkZCgxLCAnd2Vla3MnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbW9udGg7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VG9kYXkoKSB7XHJcblx0XHRcdHJldHVybiBtb21lbnQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHtNb21lbnQgT2JqZWN0fVx0c3RhcnREYXlcdFN0YXJ0aW5nIGRheSBvZiBhIHdlZWsuXHJcblx0XHQqIEBwYXJhbSB7aW50fVx0XHRcdFx0dGFyZ2V0TW9udGhcdE1vbnRoIG51bWJlciBiZWluZyBidWlsdC5cclxuXHRcdCpcclxuXHRcdCogQHJldHVybiB7TW9tZW50IE9iamVjdFtdfVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFdlZWsoc3RhcnREYXksIHRhcmdldE1vbnRoKSB7XHJcblx0XHRcdHZhciB3ZWVrID0gW107XHJcblxyXG5cdFx0XHR2YXIgZGF5ID0gc3RhcnREYXkuY2xvbmUoKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcclxuXHRcdFx0XHR3ZWVrLnB1c2goe1xyXG5cdFx0XHRcdFx0bnVtYmVyOiBkYXkuZGF0ZSgpLFxyXG5cdFx0XHRcdFx0aXNUYXJnZXRNb250aDogKGRheS5tb250aCgpID09PSB0YXJnZXRNb250aCksXHJcblx0XHRcdFx0XHRpc1RvZGF5OiBkYXkuaXNTYW1lKG1vbWVudCgpLCAnZGF5JyksXHJcblx0XHRcdFx0XHRmdWxsRGF0ZTogZGF5XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0ZGF5ID0gZGF5LmNsb25lKCkuYWRkKDEsICdkYXlzJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB3ZWVrO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0ge01vbWVudCBPYmplY3R9XHRkYXkxXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH1cdGRheTJcclxuXHRcdCpcclxuXHRcdCogQHJldHVybiB7Ym9vbH1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBpc1NhbWVEYXkoZGF5MSwgZGF5Mikge1xyXG5cdFx0XHRyZXR1cm4gZGF5MS5pc1NhbWUoZGF5MiwgJ2RheScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBTaW5jZSBzcmNNb250aCBpcyBhbiBhcnJheSBvZiBkYXlzIGJ5IHdlZWtzLCBpdCBjb250YWlucyBkYXlzIG5vdCBpbiB0aGVcclxuXHRcdCogc291cmNlIG1vbnRoLiBUaGUgZmlyc3QgZGF5IG9mIHRoZSB0aGlyZCB3ZWVrIG9mIHRoZSBnaXZlbiBtb250aCBpc1xyXG5cdFx0KiBndWFyYW50ZWVkIHRvIGJlIGEgZGF5IHdpdGhpbiB0aGUgc291cmNlIG1vbnRoLlxyXG5cdFx0KlxyXG5cdFx0KiBAcGFyYW0ge01vbWVudCBPYmplY3R9XHRzcmNNb250aFxyXG5cdFx0KiBAcmV0dXJuIHtNb21lbnQgT2JqZWN0W119XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gbGFzdE1vbnRoKHNyY01vbnRoKSB7XHJcblx0XHRcdHJldHVybiBnZXRNb250aChzcmNNb250aFszXVswXS5mdWxsRGF0ZS5jbG9uZSgpLnN1YnRyYWN0KDEsICdtb250aHMnKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBzZWUgbGFzdE1vbnRoKClcclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBuZXh0TW9udGgoc3JjTW9udGgpIHtcclxuXHRcdFx0cmV0dXJuIGdldE1vbnRoKHNyY01vbnRoWzNdWzBdLmZ1bGxEYXRlLmNsb25lKCkuYWRkKDEsICdtb250aHMnKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd0V2ZW50TW9kYWwoY2xpY2tFdmVudCwgZXZlbnQsIGNhbGVuZGFycykge1xyXG5cdFx0XHRjbGlja0V2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRldmVudE1vZGFsU2VydmljZS5vcGVuRXZlbnRNb2RhbChldmVudCwgY2FsZW5kYXJzKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdyZWN1cnJlbmNlTW9kYWxTZXJ2aWNlJywgcmVjdXJyZW5jZU1vZGFsU2VydmljZSk7XHJcblxyXG5cdHJlY3VycmVuY2VNb2RhbFNlcnZpY2UuJGluamVjdCA9IFsnJHVpYk1vZGFsJywgJ3JlY3VycmVuY2VTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gcmVjdXJyZW5jZU1vZGFsU2VydmljZSgkdWliTW9kYWwsIHJlY3VycmVuY2VTZXJ2aWNlKSB7XHJcblx0XHR2YXIgcmMgPSB0aGlzOyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXHJcblx0XHR2YXIgcmVjdXJyZW5jZUluZm8gPSB7XHJcblx0XHRcdGZyZXE6IFsnaG91cmx5JywgJ2RhaWx5JywgJ3dlZWtseScsICdtb250aGx5JywgJ3llYXJseSddLFxyXG5cdFx0XHRkYXlzOiBbJ21vJywgJ3R1JywgJ3dlJywgJ3RoJywgJ2ZyJywgJ3NhJywgJ3N1J11cclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0b3BlblJlY3VycmVuY2VNb2RhbDogb3BlblJlY3VycmVuY2VNb2RhbFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBvcGVuUmVjdXJyZW5jZU1vZGFsKGl0ZW0pIHtcclxuXHRcdFx0cmV0dXJuICR1aWJNb2RhbC5vcGVuKHtcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTW9kYWxDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL3JlY3VycmVuY2UvbW9kYWwvcmVjdXJyZW5jZS5tb2RhbC5odG1sJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRncm91cHM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcmVjdXJyZW5jZUluZm87IH0sXHJcblx0XHRcdFx0XHRpdGVtOiBpdGVtXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmVjdXJyZW5jZVNlcnZpY2UuY29uc3RydWN0UmVjdXJyZW5jZShpdGVtKTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmVjdXJyZW5jZVNlcnZpY2UuY2xlYXJSZWN1cnJlbmNlKGl0ZW0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2xhYmVsU2VydmljZScsIGxhYmVsU2VydmljZSk7XHJcblxyXG5cdGxhYmVsU2VydmljZS4kaW5qZWN0ID0gWydjcnVkU2VydmljZScsICdjYWNoZVNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBsYWJlbFNlcnZpY2UoY3J1ZFNlcnZpY2UsIGNhY2hlU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0dm0ubGFiZWwgPSBuZXcgY3J1ZFNlcnZpY2UoJ2xhYmVsJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y3JlYXRlTGFiZWw6IGNyZWF0ZUxhYmVsLFxyXG5cdFx0XHRkZWxldGVMYWJlbDogZGVsZXRlTGFiZWwsXHJcblx0XHRcdGdldExhYmVsczogZ2V0TGFiZWxzLFxyXG5cdFx0XHR1cGRhdGVMYWJlbDogdXBkYXRlTGFiZWxcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlTGFiZWwobGFiZWwpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmxhYmVsLmNyZWF0ZShsYWJlbCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUxhYmVsKGlkKSB7XHJcblx0XHRcdHJldHVybiB2bS5sYWJlbC5yZW1vdmUoaWQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRMYWJlbHMoKSB7XHJcblx0XHRcdHJldHVybiBjYWNoZVNlcnZpY2UuZ2V0TGFiZWxzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlTGFiZWwoaWQsIGxhYmVsKSB7XHJcblx0XHRcdHJldHVybiB2bS5sYWJlbC51cGRhdGUoaWQsIGxhYmVsKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRjYWNoZVNlcnZpY2UuY2FjaGVMYWJlbHMoKTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdzdWJ0YXNrTW9kYWxTZXJ2aWNlJywgc3VidGFza01vZGFsU2VydmljZSk7XHJcblxyXG5cdHN1YnRhc2tNb2RhbFNlcnZpY2UuJGluamVjdCA9IFsnJHVpYk1vZGFsJywgJ2xhYmVsU2VydmljZScsICdzdWJ0YXNrc1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBzdWJ0YXNrTW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgbGFiZWxTZXJ2aWNlLCBzdWJ0YXNrc1NlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG9wZW5TdWJ0YXNrTW9kYWw6IG9wZW5TdWJ0YXNrTW9kYWxcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFdpdGhvdXQgY2xvbmluZyB0aGUgc3VidGFzaywgYW55IGNoYW5nZXMgbWFkZSBpbiB0aGUgbW9kYWwgd2lsbCBiZSByZWZsZWN0ZWRcclxuXHRcdCogaW4gdGhlIG1haW4gd2luZG93IHJlZ2FyZGxlc3Mgb2YgaWYgdGhlIGNoYW5nZXMgd2VyZSBzYXZlZCBvciBub3QsIHdoaWNoXHJcblx0XHQqIG1lYW5zIGEgdXNlciB3b3VsZCBub3QgYmUgYWJsZSB0byBjYW5jZWwgdGhlaXIgY2hhbmdlcyB1bmxlc3MgdGhleSByZWZyZXNoLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIG9wZW5TdWJ0YXNrTW9kYWwoc3VidGFzaywgdGFzaykge1xyXG5cdFx0XHR2YXIgY2xvbmVkU3VidGFzayA9IHt9O1xyXG5cdFx0XHRhbmd1bGFyLmV4dGVuZChjbG9uZWRTdWJ0YXNrLCBzdWJ0YXNrKTtcclxuXHJcblx0XHRcdCR1aWJNb2RhbC5vcGVuKHtcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTW9kYWxDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL3Rhc2tzL21vZGFsL3N1YnRhc2subW9kYWwuaHRtbCcsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0Z3JvdXBzOiB0YXNrLFxyXG5cdFx0XHRcdFx0aXRlbTogY2xvbmVkU3VidGFza1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkucmVzdWx0XHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRzdWJ0YXNrc1NlcnZpY2UuY3JlYXRlT3JVcGRhdGVTdWJ0YXNrKHJlcy5zdWJ0YXNrLCByZXMudGFzayk7XHJcblx0XHRcdFx0fSwgZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHJlcyAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdFx0c3VidGFza3NTZXJ2aWNlLmRlbGV0ZVN1YnRhc2socmVzLnN1YnRhc2ssIHJlcy50YXNrKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd0YXNrTW9kYWxTZXJ2aWNlJywgdGFza01vZGFsU2VydmljZSk7XHJcblxyXG5cdHRhc2tNb2RhbFNlcnZpY2UuJGluamVjdCA9IFsnJHVpYk1vZGFsJywgJ3Rhc2tzU2VydmljZScsICdmb3JtYXRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gdGFza01vZGFsU2VydmljZSgkdWliTW9kYWwsIHRhc2tzU2VydmljZSwgZm9ybWF0U2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgLy8ganNoaW50IGlnbm9yZTogbGluZVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG9wZW5UYXNrTW9kYWw6IG9wZW5UYXNrTW9kYWxcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFdpdGhvdXQgY2xvbmluZyB0aGUgdGFzaywgYW55IGNoYW5nZXMgbWFkZSBpbiB0aGUgbW9kYWwgd2lsbCBiZSByZWZsZWN0ZWRcclxuXHRcdCogaW4gdGhlIG1haW4gd2luZG93IHJlZ2FyZGxlc3Mgb2YgaWYgdGhlIGNoYW5nZXMgd2VyZSBzYXZlZCBvciBub3QsIHdoaWNoXHJcblx0XHQqIG1lYW5zIGEgdXNlciB3b3VsZCBub3QgYmUgYWJsZSB0byBjYW5jZWwgdGhlaXIgY2hhbmdlcyB1bmxlc3MgdGhleSByZWZyZXNoLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIG9wZW5UYXNrTW9kYWwodGFzaywgbGFiZWxzKSB7XHJcblx0XHRcdHZhciBjbG9uZWRUYXNrID0ge307XHJcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKGNsb25lZFRhc2ssIHRhc2spO1xyXG5cdFx0XHRmb3JtYXRTZXJ2aWNlLmZvcm1hdEZvckRpc3BsYXkoY2xvbmVkVGFzayk7XHJcblxyXG5cdFx0XHRyZXR1cm4gJHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdNb2RhbENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdGFza3MvbW9kYWwvdGFzay5tb2RhbC5odG1sJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRncm91cHM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbGFiZWxzOyB9LFxyXG5cdFx0XHRcdFx0aXRlbTogY2xvbmVkVGFza1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkucmVzdWx0XHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHJlc3BvbnNlID0gZm9ybWF0U2VydmljZS5mb3JtYXRGb3JTdG9yYWdlKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdHJldHVybiB0YXNrc1NlcnZpY2UuY3JlYXRlT3JVcGRhdGVUYXNrKHJlc3BvbnNlKVxyXG5cdFx0XHRcdFx0XHQudGhlbih0YXNrc1NlcnZpY2UuZ2V0VGFza3MpO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRpZiAoTnVtYmVyKHJlc3BvbnNlKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdGFza3NTZXJ2aWNlLmRlbGV0ZVRhc2socmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4odGFza3NTZXJ2aWNlLmdldFRhc2tzKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdTdWJ0YXNrc0NvbnRyb2xsZXInLCBTdWJ0YXNrc0NvbnRyb2xsZXIpO1xyXG5cclxuXHRTdWJ0YXNrc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnc3VidGFza3NTZXJ2aWNlJywgJ3N1YnRhc2tNb2RhbFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBTdWJ0YXNrc0NvbnRyb2xsZXIoc3VidGFza3NTZXJ2aWNlLCBzdWJ0YXNrTW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgc3QgPSB0aGlzO1xyXG5cdFx0c3Quc2hvd1N1YnRhc2tNb2RhbCA9IHNob3dTdWJ0YXNrTW9kYWw7XHJcblx0XHRzdC50b2dnbGVDb21wbGV0ZWQgPSB0b2dnbGVDb21wbGV0ZWQ7XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd1N1YnRhc2tNb2RhbChzdWJ0YXNrKSB7XHJcblx0XHRcdHN1YnRhc2tNb2RhbFNlcnZpY2Uub3BlblN1YnRhc2tNb2RhbChzdWJ0YXNrLCBzdC50YXNrKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVDb21wbGV0ZWQoc3VidGFzaykge1xyXG5cdFx0XHRzdWJ0YXNrc1NlcnZpY2UudG9nZ2xlQ29tcGxldGVkKHN1YnRhc2spO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZVN1YnRhc2tzKHJlc3BvbnNlKSB7XHJcblx0XHRcdGlmIChyZXNwb25zZSkge1xyXG5cdFx0XHRcdHN0LnN1YnRhc2tzID0gcmVzcG9uc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BTdWJ0YXNrcycsIHN1YnRhc2tzRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gc3VidGFza3NEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdGFza3Mvc3VidGFza3Mvc3VidGFza3MuaHRtbCcsXHJcblx0XHRcdGNvbnRyb2xsZXI6ICdTdWJ0YXNrc0NvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICdzdCcsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0dGFzazogJz0nXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdzdWJ0YXNrc1NlcnZpY2UnLCBzdWJ0YXNrc1NlcnZpY2UpO1xyXG5cclxuXHRzdWJ0YXNrc1NlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIHN1YnRhc2tzU2VydmljZSgkaHR0cCwgJGxvZykge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y3JlYXRlT3JVcGRhdGVTdWJ0YXNrOiBjcmVhdGVPclVwZGF0ZVN1YnRhc2ssXHJcblx0XHRcdGRlbGV0ZVN1YnRhc2s6IGRlbGV0ZVN1YnRhc2ssXHJcblx0XHRcdHRvZ2dsZUNvbXBsZXRlZDogdG9nZ2xlQ29tcGxldGVkXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlU3VidGFzayhzdWJ0YXNrLCB0YXNrKSB7XHJcblx0XHRcdGlmICghdGFzay5zdWJ0YXNrcykge1xyXG5cdFx0XHRcdHRhc2suc3VidGFza3MgPSB7XHJcblx0XHRcdFx0XHRjdXJyZW50SWQ6IDEsXHJcblx0XHRcdFx0XHRsaXN0OiBbXVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChzdWJ0YXNrLmlkID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRzdWJ0YXNrLmlkID0gdGFzay5zdWJ0YXNrcy5jdXJyZW50SWQrKztcclxuXHRcdFx0XHRzdWJ0YXNrLmNvbXBsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdHRhc2suc3VidGFza3MubGlzdC5wdXNoKHN1YnRhc2spO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlU3VidGFzayhzdWJ0YXNrLCB0YXNrKSB7XHJcblx0XHRcdHRhc2suc3VidGFza3MubGlzdC5zcGxpY2UodGFzay5zdWJ0YXNrcy5saXN0LmluZGV4T2Yoc3VidGFzayksIDEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZChzdWJ0YXNrKSB7XHJcblx0XHRcdHN1YnRhc2suY29tcGxldGVkID0gIXN1YnRhc2suY29tcGxldGVkO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3VzZXJNb2RhbFNlcnZpY2UnLCB1c2VyTW9kYWxTZXJ2aWNlKTtcclxuXHJcblx0dXNlck1vZGFsU2VydmljZS4kaW5qZWN0ID0gWyckdWliTW9kYWwnLCAndXNlclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiB1c2VyTW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgdXNlclNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG9wZW5Vc2VyTW9kYWw6IG9wZW5Vc2VyTW9kYWxcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFdpdGhvdXQgY2xvbmluZyB0aGUgdXNlciwgYW55IGNoYW5nZXMgbWFkZSBpbiB0aGUgbW9kYWwgd2lsbCBiZSByZWZsZWN0ZWRcclxuXHRcdCogaW4gdGhlIG1haW4gd2luZG93IHJlZ2FyZGxlc3Mgb2YgaWYgdGhlIGNoYW5nZXMgd2VyZSBzYXZlZCBvciBub3QsIHdoaWNoXHJcblx0XHQqIG1lYW5zIGEgdXNlciB3b3VsZCBub3QgYmUgYWJsZSB0byBjYW5jZWwgdGhlaXIgY2hhbmdlcyB1bmxlc3MgdGhleSByZWZyZXNoLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIG9wZW5Vc2VyTW9kYWwodXNlcikge1xyXG5cdFx0XHR2YXIgY2xvbmVkVXNlciA9IHt9O1xyXG5cdFx0XHRhbmd1bGFyLmV4dGVuZChjbG9uZWRVc2VyLCB1c2VyKTtcclxuXHJcblx0XHRcdHJldHVybiAkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvYWRtaW4vbW9kYWwvdXNlci5tb2RhbC5odG1sJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRncm91cHM6IHt9LFxyXG5cdFx0XHRcdFx0aXRlbTogY2xvbmVkVXNlclxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkucmVzdWx0XHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHJldHVybiB1c2VyU2VydmljZS5jcmVhdGVPclVwZGF0ZVVzZXIocmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdC50aGVuKHVzZXJTZXJ2aWNlLmdldFVzZXJzKTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0aWYgKE51bWJlcihyZXNwb25zZSkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHVzZXJTZXJ2aWNlLmRlbGV0ZVVzZXIocmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4odXNlclNlcnZpY2UuZ2V0VXNlcnMpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3VzZXJTZXJ2aWNlJywgdXNlclNlcnZpY2UpO1xyXG5cclxuXHR1c2VyU2VydmljZS4kaW5qZWN0ID0gWydjcnVkU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIHVzZXJTZXJ2aWNlKGNydWRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS51c2VyID0gbmV3IGNydWRTZXJ2aWNlKCd1c2VyJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y3JlYXRlVXNlcjogY3JlYXRlVXNlcixcclxuXHRcdFx0Y3JlYXRlT3JVcGRhdGVVc2VyOiBjcmVhdGVPclVwZGF0ZVVzZXIsXHJcblx0XHRcdGRlbGV0ZVVzZXI6IGRlbGV0ZVVzZXIsXHJcblx0XHRcdGdldFVzZXJzOiBnZXRVc2VycyxcclxuXHRcdFx0dXBkYXRlVXNlcjogdXBkYXRlVXNlclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVVc2VyKHVzZXIpIHtcclxuXHRcdFx0cmV0dXJuIHZtLnVzZXIuY3JlYXRlKHVzZXIpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVVzZXIodXNlcikge1xyXG5cdFx0XHRpZiAoIXVzZXIuaWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gY3JlYXRlVXNlcih1c2VyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdXBkYXRlVXNlcih1c2VyLmlkLCB1c2VyKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVVc2VyKGlkKSB7XHJcblx0XHRcdHJldHVybiB2bS51c2VyLnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXJzKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0udXNlci5nZXRXaGVyZSgnJywge30pLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVVc2VyKGlkLCB1c2VyKSB7XHJcblx0XHRcdHJldHVybiB2bS51c2VyLnVwZGF0ZShpZCwgdXNlcikudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignSGVhZGVyQ29udHJvbGxlcicsIEhlYWRlckNvbnRyb2xsZXIpO1xyXG5cclxuXHRIZWFkZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAndXNlcicsICdoZWFkZXJTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gSGVhZGVyQ29udHJvbGxlcigkcm9vdFNjb3BlLCB1c2VyLCBoZWFkZXJTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0udXNlciA9IHVzZXI7XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0JHJvb3RTY29wZS4kb24oJ3VwZGF0ZVVzZXInLCB1cGRhdGVVc2VyKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVVc2VyKCkge1xyXG5cdFx0XHRoZWFkZXJTZXJ2aWNlLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dm0udXNlciA9IHJlc3BvbnNlO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2hlYWRlclNlcnZpY2UnLCBoZWFkZXJTZXJ2aWNlKTtcclxuXHJcblx0aGVhZGVyU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gaGVhZGVyU2VydmljZSgkaHR0cCwgJGxvZywgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFVzZXI6IGdldFVzZXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlcigpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignYWxsJylcclxuXHRcdFx0XHQudGhlbihnZXROYW1lQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0TmFtZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblxyXG5cdFx0XHRcdGlmIChyZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdHJldHVybiB7IG5hbWU6ICcnLCBhdmF0YXI6ICdjb250ZW50L2ltZy91c2VyLnBuZycgfTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiByZXN1bHQuZGF0YTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1NpZGViYXJDb250cm9sbGVyJywgU2lkZWJhckNvbnRyb2xsZXIpO1xyXG5cclxuXHRTaWRlYmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ2xhYmVsU2VydmljZScsICdjYWxlbmRhclNlcnZpY2UnLCAnc2lkZWJhclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBTaWRlYmFyQ29udHJvbGxlcigkcm9vdFNjb3BlLCBsYWJlbFNlcnZpY2UsIGNhbGVuZGFyU2VydmljZSwgc2lkZWJhclNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5jb2xsYXBzZWQgPSB7fTtcclxuXHRcdHZtLmxhYmVscyA9IFtdO1xyXG5cdFx0dm0uY2FsZW5kYXJzID0gW107XHJcblx0XHR2bS50b2dnbGVTaWRlYmFyID0gdG9nZ2xlU2lkZWJhcjtcclxuXHRcdHZtLnRvZ2dsZUNhbGVuZGFycyA9IHRvZ2dsZUNhbGVuZGFycztcclxuXHRcdHZtLnRvZ2dsZUxhYmVscyA9IHRvZ2dsZUxhYmVscztcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHR1cGRhdGVDYWxlbmRhcnMoKTtcclxuXHRcdFx0dXBkYXRlTGFiZWxzKCk7XHJcblxyXG5cdFx0XHR2bS5jb2xsYXBzZWQgPSBzaWRlYmFyU2VydmljZS5nZXRDb2xsYXBzZWQoKTtcclxuXHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCd1cGRhdGVDYWxlbmRhcnMnLCB1cGRhdGVDYWxlbmRhcnMpO1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRvbigndXBkYXRlTGFiZWxzJywgdXBkYXRlTGFiZWxzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkge1xyXG5cdFx0XHR2bS5jb2xsYXBzZWQgPSBzaWRlYmFyU2VydmljZS50b2dnbGVTaWRlYmFyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQ2FsZW5kYXJzKCkge1xyXG5cdFx0XHR2bS5jb2xsYXBzZWQgPSBzaWRlYmFyU2VydmljZS50b2dnbGVDYWxlbmRhcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVMYWJlbHMoKSB7XHJcblx0XHRcdHZtLmNvbGxhcHNlZCA9IHNpZGViYXJTZXJ2aWNlLnRvZ2dsZUxhYmVscygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUNhbGVuZGFycygpIHtcclxuXHRcdFx0dm0uY2FsZW5kYXJzID0gY2FsZW5kYXJTZXJ2aWNlLmdldENhbGVuZGFycygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUxhYmVscygpIHtcclxuXHRcdFx0dm0ubGFiZWxzID0gbGFiZWxTZXJ2aWNlLmdldExhYmVscygpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnc2lkZWJhclNlcnZpY2UnLCBzaWRlYmFyU2VydmljZSk7XHJcblxyXG5cdHNpZGViYXJTZXJ2aWNlLiRpbmplY3QgPSBbJyR3aW5kb3cnXTtcclxuXHRmdW5jdGlvbiBzaWRlYmFyU2VydmljZSgkd2luZG93KSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXHJcblx0XHR2bS5jb2xsYXBzZWQgPSB7fTtcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldENvbGxhcHNlZDogZ2V0Q29sbGFwc2VkLFxyXG5cdFx0XHR0b2dnbGVTaWRlYmFyOiB0b2dnbGVTaWRlYmFyLFxyXG5cdFx0XHR0b2dnbGVDYWxlbmRhcnM6IHRvZ2dsZUNhbGVuZGFycyxcclxuXHRcdFx0dG9nZ2xlTGFiZWxzOiB0b2dnbGVMYWJlbHNcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGlmICgkd2luZG93LmlubmVyV2lkdGggPCA2MDApIHtcclxuXHRcdFx0XHR2bS5jb2xsYXBzZWQgPSB7XHJcblx0XHRcdFx0XHRzaWRlYmFyOiB0cnVlLFxyXG5cdFx0XHRcdFx0Y2FsZW5kYXJzOiB0cnVlLFxyXG5cdFx0XHRcdFx0bGFiZWxzOiB0cnVlXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2bS5jb2xsYXBzZWQgPSB7XHJcblx0XHRcdFx0XHRzaWRlYmFyOiBmYWxzZSxcclxuXHRcdFx0XHRcdGNhbGVuZGFyczogZmFsc2UsXHJcblx0XHRcdFx0XHRsYWJlbHM6IGZhbHNlXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENvbGxhcHNlZCgpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNvbGxhcHNlZDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkge1xyXG5cdFx0XHR2bS5jb2xsYXBzZWQuc2lkZWJhciA9ICF2bS5jb2xsYXBzZWQuc2lkZWJhcjtcclxuXHRcdFx0aWYgKHZtLmNvbGxhcHNlZC5zaWRlYmFyKSB7XHJcblx0XHRcdFx0dm0uY29sbGFwc2VkLmNhbGVuZGFycyA9IHRydWU7XHJcblx0XHRcdFx0dm0uY29sbGFwc2VkLmxhYmVscyA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHZtLmNvbGxhcHNlZDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVDYWxlbmRhcnMoKSB7XHJcblx0XHRcdHZtLmNvbGxhcHNlZC5jYWxlbmRhcnMgPSAhdm0uY29sbGFwc2VkLmNhbGVuZGFycztcclxuXHRcdFx0aWYgKCF2bS5jb2xsYXBzZWQuY2FsZW5kYXJzKSB7XHJcblx0XHRcdFx0dm0uY29sbGFwc2VkLnNpZGViYXIgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdm0uY29sbGFwc2VkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUxhYmVscygpIHtcclxuXHRcdFx0dm0uY29sbGFwc2VkLmxhYmVscyA9ICF2bS5jb2xsYXBzZWQubGFiZWxzO1xyXG5cdFx0XHRpZiAoIXZtLmNvbGxhcHNlZC5sYWJlbHMpIHtcclxuXHRcdFx0XHR2bS5jb2xsYXBzZWQuc2lkZWJhciA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB2bS5jb2xsYXBzZWQ7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
