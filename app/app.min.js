!function(){"use strict";function e(e,t){function n(e){return e.cacheAll()}function r(e){return e.getUser()}function a(e){return e.isAuthenticated()}e.state("root",{url:"",templateUrl:"index.html","abstract":!0,resolve:{cache:["cacheService",n],user:["headerService",r]},views:{header:{templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"hc"},sidebar:{templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"sc"}}}).state("login",{url:"/login",parent:"root",views:{"content@":{templateUrl:"pages/login/login.html",controller:"LoginController",controllerAs:"vm"}}}).state("logout",{url:"/logout",parent:"root",views:{"content@":{controller:"LogoutController",controllerAs:"vm"}}}).state("register",{url:"/register",parent:"root",views:{"content@":{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm"}}}).state("dashboard",{url:"/dashboard",parent:"root",views:{"content@":{templateUrl:"pages/dashboard/dashboard.html",resolve:{isAuthenticated:["accessService",a]}}}}).state("labels",{url:"/labels",parent:"root"}).state("labels.label",{url:"/:labelId",views:{"content@":{templateUrl:"pages/tasks/label.html",controller:"LabelPageController",controllerAs:"vm"}}}).state("inbox",{url:"/inbox",parent:"root",views:{"content@":{templateUrl:"pages/tasks/inbox.html",resolve:{isAuthenticated:["accessService",a]}}}}).state("today",{url:"/today",parent:"root",views:{"content@":{templateUrl:"pages/tasks/today.html",resolve:{isAuthenticated:["accessService",a]}}}}).state("week",{url:"/week",parent:"root",views:{"content@":{templateUrl:"pages/tasks/week.html",resolve:{isAuthenticated:["accessService",a]}}}}).state("calendar",{url:"/calendar",parent:"root",views:{"content@":{templateUrl:"pages/calendar/calendar.html",resolve:{isAuthenticated:["accessService",a]}}}}),t.otherwise("/dashboard")}angular.module("app",["ui.router","ui.bootstrap","angularMoment"]).config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.init()}angular.module("app").run(e),e.$inject=["appService"]}(),function(){"use strict";function e(e,t,n){function r(){e.$on("$stateChangeError",a)}function a(e,r,a,o,c,l){l===n.UNAUTHORIZED&&(e.preventDefault(),t.go("login"))}return{init:r}}angular.module("app").factory("appService",e),e.$inject=["$rootScope","$state","statusService"]}(),function(){"use strict";function e(){return function(e,t){if(!t)return e;for(var n=[],r=0;r<e.length;r++)(e[r].label_id===t||e[r].calendar_id===t)&&n.push(e[r]);return n}}angular.module("app").filter("inGroups",e),e.$inject=[]}(),function(){"use strict";function e(e){return function(t,n){for(var r=[],a=0;a<t.length;a++){var o=n.isSame(e(t[a].dt_start),"day");o||(o=n.isSame(e(t[a].dt_end),"day")),o&&r.push(t[a])}return r}}angular.module("app").filter("sameDayAs",e),e.$inject=["moment"]}(),function(){"use strict";function e(e){return function(t,n){if(!n)return t;for(var r=[],a=0;a<t.length;a++){(!t[a].due||t[a].due&&e(t[a].due).isBefore(e().add(n,"days")))&&r.push(t[a])}return r}}angular.module("app").filter("withinDays",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t){function n(){r(),a(),o(),c()}function r(){b.calendar=new t("calendar"),b.calendar.getByUser().then(function(e){b.calendars=s(e),g()})}function a(){b.event=new t("event"),b.event.getByUser().then(function(e){b.events=s(e),v()})}function o(){b.label=new t("label"),b.label.getByUser().then(function(e){b.labels=s(e),h()})}function c(){b.task=new t("task"),b.task.getByUser().then(function(e){b.tasks=s(e),m()})}function l(){b.calendars=[],b.events=[],b.labels=[],b.tasks=[],g(),v(),h(),m()}function s(e){var t=e.data;return t.success?t.data:t.title}function u(){return{calendars:i(),events:d(),labels:p(),tasks:f()}}function i(){return b.calendars}function d(){return b.events}function p(){return b.labels}function f(){return b.tasks}function g(){e.$broadcast("updateCalendars")}function v(){e.$broadcast("updateEvents")}function h(){e.$broadcast("updateLabels")}function m(){e.$broadcast("updateTasks")}var b=this;return b.calendars=[],b.events=[],b.labels=[],b.tasks=[],{cacheAll:n,cacheCalendars:r,cacheEvents:a,cacheLabels:o,cacheTasks:c,clearCache:l,getAll:u,getCalendars:i,getEvents:d,getLabels:p,getTasks:f}}angular.module("app").service("cacheService",e),e.$inject=["$rootScope","crudService"]}(),function(){"use strict";function e(e,t){function n(e){switch(this.type=e,this.base="api/",e){case"event":case"calendar":this.base+="activity/calendar/";break;case"label":case"task":this.base+="activity/task/";break;default:this.base+=e+"/"}this.base+=e+"Manager.php"}function r(t){return e.get(this.base+"?id="+t).then(u)["catch"](i)}function a(){return e.get(this.base+"?byuser=true").then(u)["catch"](i)}function o(t){return t=this.removeUnecessaryKeys(t),e.post(this.base,t).then(u)["catch"](i)}function c(t,n){return n=this.removeUnecessaryKeys(n),e.put(this.base+"?id="+t,n).then(u)["catch"](i)}function l(t){return e["delete"](this.base+"?id="+t).then(u)["catch"](i)}function s(t){return e["delete"](this.base+"?usewhere=true&where="+escape(t)).then(u)["catch"](i)}function u(e){return e}function i(e){return t.error(e),{success:"false",title:"Error when querying server.",message:e}}function d(e){for(var t=["id","person_id",this.type+"_id","activity_info_id","parent_name"],n=0;n<t.length;n++)delete e[t[n]];return e}var p=n;return p.prototype={get:r,getByUser:a,create:o,update:c,remove:l,removeWhere:s,removeUnecessaryKeys:d},p}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t){function n(t){return e.get(c.base+t).then(a)["catch"](o)}function r(t,n){return e.post(c.base+t,n).then(a)["catch"](o)}function a(e){return e}function o(e){return t.error(e),{success:"false",title:"Error when accessing variable.",message:e}}var c=this;return c.base="api/session/sessionVarManager.php?var=",{getVar:n,setVar:r}}angular.module("app").factory("sessionService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t,n,r){function a(){i(),d(),e.$on("updateCalendars",i),e.$on("updateEvents",d),p.today=t.getToday(),p.selectedDay=p.today,p.month=t.getMonth(p.today)}function o(e,n){p.selectedDay=t.dayClicked(e,n,p.selectedDay,p.calendars)}function c(e){return t.isSameDay(e,p.selectedDay)}function l(e,n){t.showEventModal(e,n,p.calendars)}function s(){p.month=t.lastMonth(p.month)}function u(){p.month=t.nextMonth(p.month)}function i(){p.calendars=n.getCalendars()}function d(){p.events=r.getEvents()}var p=this;p.events=[],p.calendar=[],p.today=null,p.selectedDay=null,p.month=null,p.dayClicked=o,p.isSameDayAsSelected=c,p.showEventModal=l,p.lastMonth=s,p.nextMonth=u,a()}angular.module("app").controller("EventsController",e),e.$inject=["$rootScope","calendarWidgetService","calendarService","eventsService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/events/events.html",controller:"EventsController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spEvents",e)}(),function(){"use strict";function e(e,t){function n(e){return s.event.create(e).then(l)}function r(e){return e.event_id?c(e.event_id,e):n(e)}function a(e){return s.event.remove(e).then(l)}function o(){return t.getEvents()}function c(e,t){return s.event.update(e,t).then(l)}function l(e){var n=e.data;return n.success?(t.cacheEvents(),n.data):n.title}var s=this;return s.event=new e("event"),{createEvent:n,createOrUpdateEvent:r,deleteEvent:a,getEvents:o,updateEvent:c}}angular.module("app").factory("eventsService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(){function e(e,t,n,r){t[0].focus()}return{restrict:"A",link:e}}angular.module("app").directive("spAutoFocus",e)}(),function(){"use strict";function e(){function e(e,t,n,r){function a(){l()}function o(t){return t===e.otherModel.$viewValue}function c(e,t){r.$validate()}var l=e.$watch("otherModel",c);r.$validators.spCompareTo=o,t.on("$destroy",a)}return{require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e}}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){function t(){e.logout()}t()}angular.module("app").controller("LogoutController",e),e.$inject=["logoutService"]}(),function(){"use strict";function e(e,t,n,r,a){function o(){function o(t){a.clearCache(),e.$broadcast("updateUser"),n.go("login")}function c(e){r.error(e)}return t.post("api/user/logoutManager.php").then(o)["catch"](c)}return{logout:o}}angular.module("app").factory("logoutService",e),e.$inject=["$rootScope","$http","$state","$log","cacheService"]}(),function(){"use strict";function e(e){function t(){n.item.recurrence&&e.openRecurrenceModal(n.item)}var n=this;n.showRecurrenceModal=t}angular.module("app").controller("RecurrenceController",e),e.$inject=["recurrenceModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/recurrence/recurrence.html",controller:"RecurrenceController",controllerAs:"rc",bindToController:!0,scope:{item:"="}}}angular.module("app").directive("spRepeat",e)}(),function(){"use strict";function e(){function e(e){e.recurrence=!1}function t(e){}return{clearRecurrence:e,constructRecurrence:t}}angular.module("app").factory("recurrenceService",e)}(),function(){"use strict";function e(e){function t(t){t.hasOwnProperty("dt_start")?(t.all_day=parseInt(t.all_day),t.dt_start=a(e(t.dt_start)),t.dt_end=a(e(t.dt_end))):(t.hasOwnProperty("due")&&t.due&&(t.due=a(e(t.due))),t.hasOwnProperty("reminder")&&t.reminder&&(t.reminder=a(e(t.reminder))))}function n(t){t.hasOwnProperty("dt_start")?(t.dt_start=o(e(t.dt_start)),t.dt_end=o(e(t.dt_end))):(t.hasOwnProperty("due")&&t.due&&(t.due=o(e(t.due))),t.hasOwnProperty("reminder")&&t.reminder&&(t.reminder=o(e(t.reminder))))}function r(){return"hh:mm a MM-DD-YYYY"}function a(e){return e.format(r())}function o(e){return e.format("YYYY-MM-DD HH:mm:ss")}return{formatForDisplay:t,formatForStorage:n,getDisplayFormat:r,toDisplayFormat:a,toStorageFormat:o}}angular.module("app").factory("formatService",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t,n,r){function a(){e.dismiss("cancel")}function o(){e.close()}function c(t){e.close(t)}function l(t){e.dismiss(t)}function s(e){r.toggleAllDay(e)}var u=this;u.groups=t,u.item=n,u.cancel=a,u.close=o,u.confirm=c,u.remove=l,u.toggleAllDay=s}angular.module("app").controller("ModalController",e),e.$inject=["$uibModalInstance","groups","item","eventModalService"]}(),function(){"use strict";function e(e,t,n,r){function a(){l(),s(),e.$on("updateLabels",l),e.$on("updateTasks",s)}function o(e){r.openTaskModal(e,u.labels)}function c(e){t.toggleCompleted(e)}function l(){u.labels=n.getLabels()}function s(){u.tasks=t.getTasks()}var u=this;u.labels=[],u.tasks=[],u.showTaskModal=o,u.toggleCompleted=c,a()}angular.module("app").controller("TasksController",e),e.$inject=["$rootScope","tasksService","labelService","taskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/tasks/tasks.html",controller:"TasksController",controllerAs:"vm",bindToController:!0,scope:{order:"=",days:"=withinDays",inLabels:"=inGroups"}}}angular.module("app").directive("spTasks",e)}(),function(){"use strict";function e(e,t){function n(e){return u.task.create(e).then(s)}function r(e){return e.task_id?l(e.task_id,e):n(e)}function a(e){return u.task.remove(e).then(s)}function o(){return t.getTasks()}function c(e){return e.completed=!parseInt(e.completed),l(e.task_id,e).then(o)}function l(e,t){return u.task.update(e,t).then(s)}function s(e){var n=e.data;return n.success?(t.cacheTasks(),n.data):n.title}var u=this;return u.task=new e("task"),{createTask:n,createOrUpdateTask:r,deleteTask:a,getTasks:o,toggleCompleted:c,updateTask:l}}angular.module("app").factory("tasksService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e,t,n){function r(e,t){return n.uploadFile(e).then(function(e){return e})}var a=this;a.uploadFile=r}angular.module("app").controller("UploadController",e),e.$inject=["$scope","$http","uploadService"]}(),function(){"use strict";function e(e){function t(t,n,r){function a(e){t.$apply(function(){var e=n[0].files[0];e.size<=o?t.uc.uploadFile(e).then(function(e){t.spFileChange=e}):alert("File must be less than "+o/1024/1024+"MB.")})}var o=2097152;e(r.spFileChange);n[0].addEventListener("change",a,!1)}return{restrict:"A",controller:"UploadController",controllerAs:"uc",link:t,scope:{spFileChange:"="}}}angular.module("app").directive("spFileChange",e),e.$inject=["$parse"]}(),function(){"use strict";function e(e,t){function n(n){var r=new FormData;return r.append("file",n),e.post("api/upload/uploadManager.php",r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return e.data.success?e.data.data:(t.error(e.title),"")})["catch"](function(e){t.error(e)})}return{uploadFile:n}}angular.module("app").factory("uploadService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.login(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.loading=!1,n.error="",n.login=t}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,t,n,r,a){function o(o){function c(t){return t.data.success===!1?t.data.title:(a.cacheAll(),e.$broadcast("updateUser"),void n.go("dashboard"))}function l(e){return r.error(e),"Something went wrong. Please try again."}return o.name=o.name.toLowerCase().trim(),t.post("api/user/loginManager.php",o).then(c)["catch"](l)}return{login:o}}angular.module("app").factory("loginService",e),e.$inject=["$rootScope","$http","$state","$log","cacheService"]}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.register(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.error="",n.loading=!1,n.register=t}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,t,n){function r(n){function r(n){return"false"===n.success?(t.error(n.title),n.title):void e.url("/login")}return n.name=n.name.toLowerCase().trim(),a.crud.create(n).then(r)}var a=this;return a.crud=new n("user"),{register:r}}angular.module("app").factory("registerService",e),e.$inject=["$location","$log","crudService"]}(),function(){"use strict";function e(e){this.labelId=e.labelId}angular.module("app").controller("LabelPageController",e),e.$inject=["$stateParams"]}(),function(){"use strict";function e(e,t,n){function r(){function e(e){return e.data.success!==!1?o.resolve(n.OK):o.reject(n.UNAUTHORIZED),o.promise}return t.getVar("name").then(e)}function a(){}var o=e.defer();return{isAuthenticated:r,isAdmin:a}}angular.module("app").factory("accessService",e),e.$inject=["$q","sessionService","statusService"]}(),function(){"use strict";function e(){return{OK:200,UNAUTHORIZED:401,FORBIDDEN:403}}angular.module("app").service("statusService",e)}(),function(){"use strict";function e(e,t){function n(e){return l.calendar.create(e).then(c)}function r(e){return l.calendar.remove(e).then(c)}function a(){return t.getCalendars()}function o(e,t){return l.calendar.update(e,t).then(c)}function c(e){var n=e.data;return n.success?(t.cacheCalendars(),n.data):n.title}var l=this;return l.calendar=new e("calendar"),{createCalendar:n,deleteCalendar:r,getCalendars:a,updateCalendar:o}}angular.module("app").factory("calendarService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e,t,n,r){function a(t,a){var o={};return angular.extend(o,t),r.formatForDisplay(o),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/events/modal/event.modal.html",resolve:{groups:function(){return a},item:o}}).result.then(function(e){return r.formatForStorage(e),n.createOrUpdateEvent(e).then(n.getEvents)},function(e){return Number(e)?n.deleteEvent(e).then(n.getEvents):void 0})}function o(e){var n=r.getDisplayFormat();if(e.all_day)e.dt_start=r.toDisplayFormat(t(e.dt_start,n).startOf("day")),e.dt_end=r.toDisplayFormat(t(e.dt_start,n).endOf("day"));else{var a=t().startOf("hour").hour();e.dt_start=r.toDisplayFormat(t(e.dt_start,n).hour(a)),e.dt_end=r.toDisplayFormat(t(e.dt_start,n).hour(a).add(1,"hours"))}}return{openEventModal:a,toggleAllDay:o}}angular.module("app").factory("eventModalService",e),e.$inject=["$uibModal","moment","eventsService","formatService"]}(),function(){"use strict";function e(e,t){function n(e,t,n,r){return c(t.fullDate,n)?(u(e,{dt_start:t.fullDate,dt_end:t.fullDate.clone().endOf("day"),all_day:1},r),n):t.fullDate}function r(e){for(var t=[],n=e.clone().date(1).startOf("week"),r=0;6>r;r++)t.push(o(n,e.month())),n=n.add(1,"weeks");return t}function a(){return e()}function o(t,n){for(var r=[],a=t.clone(),o=0;7>o;o++)r.push({number:a.date(),isTargetMonth:a.month()===n,isToday:a.isSame(e(),"day"),fullDate:a}),a=a.clone().add(1,"days");return r}function c(e,t){return e.isSame(t,"day")}function l(e){return r(e[3][0].fullDate.clone().subtract(1,"months"))}function s(e){return r(e[3][0].fullDate.clone().add(1,"months"))}function u(e,n,r){e.stopPropagation(),t.openEventModal(n,r)}return{dayClicked:n,getMonth:r,getToday:a,getWeek:o,isSameDay:c,lastMonth:l,nextMonth:s,showEventModal:u}}angular.module("app").factory("calendarWidgetService",e),e.$inject=["moment","eventModalService"]}(),function(){"use strict";function e(e,t){function n(n){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/recurrence/modal/recurrence.modal.html",resolve:{groups:function(){return r},item:n}}).result.then(function(e){t.constructRecurrence(n)},function(e){t.clearRecurrence(n)})}var r={freq:["hourly","daily","weekly","monthly","yearly"],days:["mo","tu","we","th","fr","sa","su"]};return{openRecurrenceModal:n}}angular.module("app").factory("recurrenceModalService",e),e.$inject=["$uibModal","recurrenceService"]}(),function(){"use strict";function e(e,t){function n(e){return l.label.create(e).then(c)}function r(e){return l.label.remove(e).then(c)}function a(){return t.getLabels()}function o(e,t){return l.label.update(e,t).then(c)}function c(e){var n=e.data;return n.success?(t.cacheLabels(),n.data):n.title}var l=this;return l.label=new e("label"),{createLabel:n,deleteLabel:r,getLabels:a,updateLabel:o}}angular.module("app").factory("labelService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){var a={};angular.extend(a,t),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/tasks/modal/subtask.modal.html",resolve:{groups:r,item:a}}).result.then(function(e){n.createOrUpdateSubtask(e.subtask,e.task)},function(e){"string"!=typeof e&&n.deleteSubtask(e.subtask,e.task)})}return{openSubtaskModal:r}}angular.module("app").factory("subtaskModalService",e),e.$inject=["$uibModal","labelService","subtasksService"]}(),function(){"use strict";function e(e,t,n){function r(r,a){var o={};return angular.extend(o,r),n.formatForDisplay(o),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/tasks/modal/task.modal.html",resolve:{groups:function(){return a},item:o}}).result.then(function(e){return e=n.formatForStorage(e),t.createOrUpdateTask(e).then(t.getTasks)},function(e){return Number(e)?t.deleteTask(e).then(t.getTasks):void 0})}return{openTaskModal:r}}angular.module("app").factory("taskModalService",e),e.$inject=["$uibModal","tasksService","formatService"]}(),function(){"use strict";function e(e,t){function n(e){t.openSubtaskModal(e,a.task)}function r(t){e.toggleCompleted(t)}var a=this;a.showSubtaskModal=n,a.toggleCompleted=r}angular.module("app").controller("SubtasksController",e),e.$inject=["subtasksService","subtaskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/tasks/subtasks/subtasks.html",controller:"SubtasksController",controllerAs:"st",bindToController:!0,scope:{task:"="}}}angular.module("app").directive("spSubtasks",e)}(),function(){"use strict";function e(e,t){function n(e,t){t.subtasks||(t.subtasks={currentId:1,list:[]}),void 0===e.id&&(e.id=t.subtasks.currentId++,e.completed=!1,t.subtasks.list.push(e))}function r(e,t){t.subtasks.list.splice(t.subtasks.list.indexOf(e),1)}function a(e){e.completed=!e.completed}return{createOrUpdateSubtask:n,deleteSubtask:r,toggleCompleted:a}}angular.module("app").factory("subtasksService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t,n){function r(){e.$on("updateUser",a)}function a(){n.getUser().then(function(e){o.user=e})}var o=this;o.user=t,r()}angular.module("app").controller("HeaderController",e),e.$inject=["$rootScope","user","headerService"]}(),function(){"use strict";function e(e,t,n){function r(){function e(e){var t=e.data;return t.success===!1?{name:"",avatar:"content/img/user.png"}:t.data}return n.getVar("all").then(e)}return{getUser:r}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log","sessionService"]}(),function(){"use strict";function e(e,t,n,r){function a(){s(),u(),i.collapsed=r.getCollapsed(),e.$on("updateCalendars",s),e.$on("updateLabels",u)}function o(){i.collapsed=r.toggleSidebar()}function c(){i.collapsed=r.toggleCalendars()}function l(){i.collapsed=r.toggleLabels()}function s(){i.calendars=n.getCalendars()}function u(){i.labels=t.getLabels()}var i=this;i.collapsed={},i.labels=[],i.calendars=[],i.toggleSidebar=o,i.toggleCalendars=c,i.toggleLabels=l,a()}angular.module("app").controller("SidebarController",e),e.$inject=["$rootScope","labelService","calendarService","sidebarService"]}(),function(){"use strict";function e(e){function t(){e.innerWidth<600?c.collapsed={sidebar:!0,calendars:!0,labels:!0}:c.collapsed={sidebar:!1,calendars:!1,labels:!1}}function n(){return c.collapsed}function r(){return c.collapsed.sidebar=!c.collapsed.sidebar,c.collapsed.sidebar&&(c.collapsed.calendars=!0,c.collapsed.labels=!0),c.collapsed}function a(){return c.collapsed.calendars=!c.collapsed.calendars,c.collapsed.calendars||(c.collapsed.sidebar=!1),c.collapsed}function o(){return c.collapsed.labels=!c.collapsed.labels,c.collapsed.labels||(c.collapsed.sidebar=!1),c.collapsed}var c=this;return c.collapsed={},t(),{getCollapsed:n,toggleSidebar:r,toggleCalendars:a,toggleLabels:o}}angular.module("app").factory("sidebarService",e),e.$inject=["$window"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiYXBwQ29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJjYWNoZUFsbCIsImNhY2hlU2VydmljZSIsImdldFVzZXIiLCJoZWFkZXJTZXJ2aWNlIiwiaXNBdXRoZW50aWNhdGVkIiwiYWNjZXNzU2VydmljZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJhYnN0cmFjdCIsInJlc29sdmUiLCJjYWNoZSIsInVzZXIiLCJ2aWV3cyIsImhlYWRlciIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJzaWRlYmFyIiwicGFyZW50IiwiY29udGVudEAiLCJvdGhlcndpc2UiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGluamVjdCIsInJ1bkJsb2NrIiwiYXBwU2VydmljZSIsImluaXQiLCJydW4iLCIkcm9vdFNjb3BlIiwiJHN0YXRlIiwic3RhdHVzU2VydmljZSIsIiRvbiIsInN0YXRlQ2hhbmdlRXJyb3IiLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJlcnJvciIsIlVOQVVUSE9SSVpFRCIsInByZXZlbnREZWZhdWx0IiwiZ28iLCJmYWN0b3J5IiwiaW5Hcm91cHMiLCJhY3Rpdml0aWVzIiwiZ3JvdXBzIiwiYWN0aXZpdGllc0luR3JvdXBzIiwiaSIsImxlbmd0aCIsImxhYmVsX2lkIiwiY2FsZW5kYXJfaWQiLCJwdXNoIiwiZmlsdGVyIiwic2FtZURheUFzIiwibW9tZW50IiwiZXZlbnRzIiwiZGF5Iiwic2FtZURheUV2ZW50cyIsInJlc3VsdCIsImlzU2FtZSIsImR0X3N0YXJ0IiwiZHRfZW5kIiwid2l0aGluRGF5cyIsInRhc2tzIiwibnVtT2ZEYXlzIiwidGFza3NXaXRoaW5EYXlzIiwiZHVlIiwiaXNCZWZvcmUiLCJhZGQiLCJjcnVkU2VydmljZSIsImNhY2hlQ2FsZW5kYXJzIiwiY2FjaGVFdmVudHMiLCJjYWNoZUxhYmVscyIsImNhY2hlVGFza3MiLCJ2bSIsImNhbGVuZGFyIiwiZ2V0QnlVc2VyIiwidGhlbiIsInJlc3BvbnNlIiwiY2FsZW5kYXJzIiwiZ2V0UmVzdWx0IiwidXBkYXRlQ2FsZW5kYXJzIiwidXBkYXRlRXZlbnRzIiwibGFiZWwiLCJsYWJlbHMiLCJ1cGRhdGVMYWJlbHMiLCJ0YXNrIiwidXBkYXRlVGFza3MiLCJjbGVhckNhY2hlIiwiZGF0YSIsInN1Y2Nlc3MiLCJ0aXRsZSIsImdldEFsbCIsImdldENhbGVuZGFycyIsImdldEV2ZW50cyIsImdldExhYmVscyIsImdldFRhc2tzIiwiJGJyb2FkY2FzdCIsInRoaXMiLCJzZXJ2aWNlIiwiJGh0dHAiLCIkbG9nIiwidHlwZSIsImJhc2UiLCJnZXQiLCJpZCIsInByb21pc2VDb21wbGV0ZSIsInByb21pc2VGYWlsZWQiLCJjcmVhdGUiLCJyZW1vdmVVbmVjZXNzYXJ5S2V5cyIsInBvc3QiLCJ1cGRhdGUiLCJwdXQiLCJyZW1vdmUiLCJyZW1vdmVXaGVyZSIsIndoZXJlIiwiZXNjYXBlIiwibWVzc2FnZSIsInRvRGVsZXRlIiwiY3J1ZCIsInByb3RvdHlwZSIsInNlc3Npb25TZXJ2aWNlIiwiZ2V0VmFyIiwiJG5hbWUiLCJzZXRWYXIiLCIkdmFsdWUiLCJFdmVudHNDb250cm9sbGVyIiwiY2FsZW5kYXJXaWRnZXRTZXJ2aWNlIiwiY2FsZW5kYXJTZXJ2aWNlIiwiZXZlbnRzU2VydmljZSIsImFjdGl2YXRlIiwidG9kYXkiLCJnZXRUb2RheSIsInNlbGVjdGVkRGF5IiwibW9udGgiLCJnZXRNb250aCIsImRheUNsaWNrZWQiLCJjbGlja0V2ZW50IiwiaXNTYW1lRGF5QXNTZWxlY3RlZCIsImlzU2FtZURheSIsInNob3dFdmVudE1vZGFsIiwibGFzdE1vbnRoIiwibmV4dE1vbnRoIiwiZXZlbnRzRGlyZWN0aXZlIiwiYmluZFRvQ29udHJvbGxlciIsImRpcmVjdGl2ZSIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlT3JVcGRhdGVFdmVudCIsImV2ZW50X2lkIiwidXBkYXRlRXZlbnQiLCJkZWxldGVFdmVudCIsInJlcyIsImF1dG9Gb2N1c0RpcmVjdGl2ZSIsImxpbmsiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsIm5nTW9kZWwiLCJmb2N1cyIsInJlc3RyaWN0IiwiY29tcGFyZVRvRGlyZWN0aXZlIiwiY2xlYW5VcCIsInVuYmluZFdhdGNoIiwiY29tcGFyZVZhbHVlcyIsInZpZXdWYWx1ZSIsIm90aGVyTW9kZWwiLCIkdmlld1ZhbHVlIiwidmFsaWRhdGVPbkNoYW5nZSIsIm5ld1ZhbHVlIiwib2xkVmFsdWUiLCIkdmFsaWRhdGUiLCIkd2F0Y2giLCIkdmFsaWRhdG9ycyIsInNwQ29tcGFyZVRvIiwib24iLCJyZXF1aXJlIiwiTG9nb3V0Q29udHJvbGxlciIsImxvZ291dFNlcnZpY2UiLCJsb2dvdXQiLCJsb2dvdXRDb21wbGV0ZSIsImxvZ291dEZhaWxlZCIsIlJlY3VycmVuY2VDb250cm9sbGVyIiwicmVjdXJyZW5jZU1vZGFsU2VydmljZSIsInNob3dSZWN1cnJlbmNlTW9kYWwiLCJyYyIsIml0ZW0iLCJyZWN1cnJlbmNlIiwib3BlblJlY3VycmVuY2VNb2RhbCIsInJlY3VycmVuY2VEaXJlY3RpdmUiLCJyZWN1cnJlbmNlU2VydmljZSIsImNsZWFyUmVjdXJyZW5jZSIsImNvbnN0cnVjdFJlY3VycmVuY2UiLCJmb3JtYXRTZXJ2aWNlIiwiZm9ybWF0Rm9yRGlzcGxheSIsImFjdGl2aXR5IiwiaGFzT3duUHJvcGVydHkiLCJhbGxfZGF5IiwicGFyc2VJbnQiLCJ0b0Rpc3BsYXlGb3JtYXQiLCJyZW1pbmRlciIsImZvcm1hdEZvclN0b3JhZ2UiLCJ0b1N0b3JhZ2VGb3JtYXQiLCJnZXREaXNwbGF5Rm9ybWF0IiwiZm9ybWF0IiwiTW9kYWxDb250cm9sbGVyIiwiJHVpYk1vZGFsSW5zdGFuY2UiLCJldmVudE1vZGFsU2VydmljZSIsImNhbmNlbCIsImRpc21pc3MiLCJjbG9zZSIsImNvbmZpcm0iLCJ0b2dnbGVBbGxEYXkiLCJUYXNrc0NvbnRyb2xsZXIiLCJ0YXNrc1NlcnZpY2UiLCJsYWJlbFNlcnZpY2UiLCJ0YXNrTW9kYWxTZXJ2aWNlIiwic2hvd1Rhc2tNb2RhbCIsIm9wZW5UYXNrTW9kYWwiLCJ0b2dnbGVDb21wbGV0ZWQiLCJ0YXNrc0RpcmVjdGl2ZSIsIm9yZGVyIiwiZGF5cyIsImluTGFiZWxzIiwiY3JlYXRlVGFzayIsImNyZWF0ZU9yVXBkYXRlVGFzayIsInRhc2tfaWQiLCJ1cGRhdGVUYXNrIiwiZGVsZXRlVGFzayIsImNvbXBsZXRlZCIsIlVwbG9hZENvbnRyb2xsZXIiLCIkc2NvcGUiLCJ1cGxvYWRTZXJ2aWNlIiwidXBsb2FkRmlsZSIsImZpbGUiLCJvbGRGaWxlIiwiZmlsZVBhdGgiLCJ1YyIsInVwbG9hZERpcmVjdGl2ZSIsIiRwYXJzZSIsImZpbGVIYW5kbGVyIiwiJGFwcGx5IiwiZmlsZXMiLCJzaXplIiwibWF4RmlsZVNpemUiLCJzcEZpbGVDaGFuZ2UiLCJhbGVydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInVuZGVmaW5lZCIsIkxvZ2luQ29udHJvbGxlciIsImxvZ2luU2VydmljZSIsImxvZ2luIiwibG9hZGluZyIsImxvZ2luQ29tcGxldGUiLCJsb2dpbkZhaWxlZCIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJSZWdpc3RlckNvbnRyb2xsZXIiLCJyZWdpc3RlclNlcnZpY2UiLCJyZWdpc3RlciIsIiRsb2NhdGlvbiIsInJlZ2lzdHJhdGlvbkNvbXBsZXRlIiwiTGFiZWxQYWdlQ29udHJvbGxlciIsIiRzdGF0ZVBhcmFtcyIsImxhYmVsSWQiLCIkcSIsImlzQXV0aGVudGljYXRlZENvbXBsZXRlIiwiZGVmZXJyZWQiLCJPSyIsInJlamVjdCIsInByb21pc2UiLCJpc0FkbWluIiwiZGVmZXIiLCJGT1JCSURERU4iLCJjcmVhdGVDYWxlbmRhciIsImRlbGV0ZUNhbGVuZGFyIiwidXBkYXRlQ2FsZW5kYXIiLCIkdWliTW9kYWwiLCJvcGVuRXZlbnRNb2RhbCIsImNsb25lZEV2ZW50IiwiZXh0ZW5kIiwib3BlbiIsIk51bWJlciIsImRpc3BsYXkiLCJzdGFydE9mIiwiZW5kT2YiLCJjdXJyZW50SG91ciIsImhvdXIiLCJmdWxsRGF0ZSIsImNsb25lIiwiYURheSIsImRhdGUiLCJnZXRXZWVrIiwic3RhcnREYXkiLCJ0YXJnZXRNb250aCIsIndlZWsiLCJudW1iZXIiLCJpc1RhcmdldE1vbnRoIiwiaXNUb2RheSIsImRheTEiLCJkYXkyIiwic3JjTW9udGgiLCJzdWJ0cmFjdCIsInN0b3BQcm9wYWdhdGlvbiIsInJlY3VycmVuY2VJbmZvIiwiZnJlcSIsImNyZWF0ZUxhYmVsIiwiZGVsZXRlTGFiZWwiLCJ1cGRhdGVMYWJlbCIsInN1YnRhc2tNb2RhbFNlcnZpY2UiLCJzdWJ0YXNrc1NlcnZpY2UiLCJvcGVuU3VidGFza01vZGFsIiwic3VidGFzayIsImNsb25lZFN1YnRhc2siLCJjcmVhdGVPclVwZGF0ZVN1YnRhc2siLCJkZWxldGVTdWJ0YXNrIiwiY2xvbmVkVGFzayIsIlN1YnRhc2tzQ29udHJvbGxlciIsInNob3dTdWJ0YXNrTW9kYWwiLCJzdCIsInN1YnRhc2tzRGlyZWN0aXZlIiwic3VidGFza3MiLCJjdXJyZW50SWQiLCJsaXN0Iiwic3BsaWNlIiwiaW5kZXhPZiIsIkhlYWRlckNvbnRyb2xsZXIiLCJ1cGRhdGVVc2VyIiwiZ2V0TmFtZUNvbXBsZXRlIiwiYXZhdGFyIiwiU2lkZWJhckNvbnRyb2xsZXIiLCJzaWRlYmFyU2VydmljZSIsImNvbGxhcHNlZCIsImdldENvbGxhcHNlZCIsInRvZ2dsZVNpZGViYXIiLCJ0b2dnbGVDYWxlbmRhcnMiLCJ0b2dnbGVMYWJlbHMiLCIkd2luZG93IiwiaW5uZXJXaWR0aCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQyxZQU9BLFNBQVNBLEdBQVVDLEVBQWdCQyxHQXFJbEMsUUFBU0MsR0FBU0MsR0FDakIsTUFBT0Es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b3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlcicsICd1aS5ib290c3RyYXAnLCAnYW5ndWxhck1vbWVudCddKVxyXG5cdFx0LmNvbmZpZyhhcHBDb25maWcpO1xyXG5cclxuXHRhcHBDb25maWcuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJ107XHJcblx0ZnVuY3Rpb24gYXBwQ29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuXHJcblx0XHQkc3RhdGVQcm92aWRlclxyXG5cdFx0XHQuc3RhdGUoJ3Jvb3QnLCB7XHJcblx0XHRcdFx0dXJsOiAnJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2luZGV4Lmh0bWwnLFxyXG5cdFx0XHRcdGFic3RyYWN0OiB0cnVlLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGNhY2hlOiBbJ2NhY2hlU2VydmljZScsIGNhY2hlQWxsXSxcclxuXHRcdFx0XHRcdHVzZXI6IFsnaGVhZGVyU2VydmljZScsIGdldFVzZXJdXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2hlYWRlcic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvaGVhZGVyL2hlYWRlci5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdoYydcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQnc2lkZWJhcic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvc2lkZWJhci9zaWRlYmFyLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnU2lkZWJhckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdzYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnbG9naW4nLCB7XHJcblx0XHRcdFx0dXJsOiAnL2xvZ2luJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2xvZ2luL2xvZ2luLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2xvZ291dCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvbG9nb3V0JyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTG9nb3V0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdyZWdpc3RlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvcmVnaXN0ZXInLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bSdcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnZGFzaGJvYXJkJywge1xyXG5cdFx0XHRcdHVybDogJy9kYXNoYm9hcmQnLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5odG1sJyxcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0XHRcdGlzQXV0aGVudGljYXRlZDogWydhY2Nlc3NTZXJ2aWNlJywgaXNBdXRoZW50aWNhdGVkXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2xhYmVscycsIHtcclxuXHRcdFx0XHR1cmw6ICcvbGFiZWxzJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290J1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2xhYmVscy5sYWJlbCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvOmxhYmVsSWQnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiBcInBhZ2VzL3Rhc2tzL2xhYmVsLmh0bWxcIixcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0xhYmVsUGFnZUNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bSdcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnaW5ib3gnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2luYm94JyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL3Rhc2tzL2luYm94Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRcdFx0aXNBdXRoZW50aWNhdGVkOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0F1dGhlbnRpY2F0ZWRdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgndG9kYXknLCB7XHJcblx0XHRcdFx0dXJsOiAnL3RvZGF5JyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL3Rhc2tzL3RvZGF5Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRcdFx0aXNBdXRoZW50aWNhdGVkOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0F1dGhlbnRpY2F0ZWRdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnd2VlaycsIHtcclxuXHRcdFx0XHR1cmw6ICcvd2VlaycsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy90YXNrcy93ZWVrLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRcdFx0aXNBdXRoZW50aWNhdGVkOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0F1dGhlbnRpY2F0ZWRdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnY2FsZW5kYXInLCB7XHJcblx0XHRcdFx0dXJsOiAnL2NhbGVuZGFyJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2NhbGVuZGFyL2NhbGVuZGFyLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRcdFx0aXNBdXRoZW50aWNhdGVkOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0F1dGhlbnRpY2F0ZWRdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9kYXNoYm9hcmQnKTtcclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZUFsbChjYWNoZVNlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlU2VydmljZS5jYWNoZUFsbCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXIoaGVhZGVyU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gaGVhZGVyU2VydmljZS5nZXRVc2VyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKGFjY2Vzc1NlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGFjY2Vzc1NlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5ydW4ocnVuQmxvY2spO1xyXG5cclxuXHRydW5CbG9jay4kaW5qZWN0ID0gWydhcHBTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gcnVuQmxvY2soYXBwU2VydmljZSkge1xyXG5cdFx0YXBwU2VydmljZS5pbml0KCk7XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdhcHBTZXJ2aWNlJywgYXBwU2VydmljZSk7XHJcblxyXG5cdGFwcFNlcnZpY2UuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc3RhdGUnLCAnc3RhdHVzU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGFwcFNlcnZpY2UoJHJvb3RTY29wZSwgJHN0YXRlLCBzdGF0dXNTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRpbml0OiBpbml0XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGluaXQoKSB7XHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsIHN0YXRlQ2hhbmdlRXJyb3IpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHN0YXRlQ2hhbmdlRXJyb3IoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XHJcblx0XHRcdGlmIChlcnJvciA9PT0gc3RhdHVzU2VydmljZS5VTkFVVEhPUklaRUQpIHtcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdCRzdGF0ZS5nbygnbG9naW4nKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZpbHRlcignaW5Hcm91cHMnLCBpbkdyb3Vwcyk7XHJcblxyXG5cdGluR3JvdXBzLiRpbmplY3QgPSBbXTtcclxuXHRmdW5jdGlvbiBpbkdyb3VwcygpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbihhY3Rpdml0aWVzLCBncm91cHMpIHtcclxuXHRcdFx0aWYgKCFncm91cHMpIHtcclxuXHRcdFx0XHRyZXR1cm4gYWN0aXZpdGllcztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIGFjdGl2aXRpZXNJbkdyb3VwcyA9IFtdO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhY3Rpdml0aWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKGFjdGl2aXRpZXNbaV0ubGFiZWxfaWQgPT09IGdyb3VwcyB8fFxyXG5cdFx0XHRcdFx0YWN0aXZpdGllc1tpXS5jYWxlbmRhcl9pZCA9PT0gZ3JvdXBzXHJcblx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRhY3Rpdml0aWVzSW5Hcm91cHMucHVzaChhY3Rpdml0aWVzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBhY3Rpdml0aWVzSW5Hcm91cHM7XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmlsdGVyKCdzYW1lRGF5QXMnLCBzYW1lRGF5QXMpO1xyXG5cclxuXHRzYW1lRGF5QXMuJGluamVjdCA9IFsnbW9tZW50J107XHJcblx0ZnVuY3Rpb24gc2FtZURheUFzKG1vbWVudCkge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGV2ZW50cywgZGF5KSB7XHJcblx0XHRcdHZhciBzYW1lRGF5RXZlbnRzID0gW107XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciByZXN1bHQgPSBkYXkuaXNTYW1lKG1vbWVudChldmVudHNbaV0uZHRfc3RhcnQpLCAnZGF5Jyk7XHJcblxyXG5cdFx0XHRcdGlmICghcmVzdWx0KSB7XHJcblx0XHRcdFx0XHRyZXN1bHQgPSBkYXkuaXNTYW1lKG1vbWVudChldmVudHNbaV0uZHRfZW5kKSwgJ2RheScpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYocmVzdWx0KSB7XHJcblx0XHRcdFx0XHRzYW1lRGF5RXZlbnRzLnB1c2goZXZlbnRzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBzYW1lRGF5RXZlbnRzO1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZpbHRlcignd2l0aGluRGF5cycsIHdpdGhpbkRheXMpO1xyXG5cclxuXHR3aXRoaW5EYXlzLiRpbmplY3QgPSBbJ21vbWVudCddO1xyXG5cdGZ1bmN0aW9uIHdpdGhpbkRheXMobW9tZW50KSB7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24odGFza3MsIG51bU9mRGF5cykge1xyXG5cdFx0XHRpZiAoIW51bU9mRGF5cykge1xyXG5cdFx0XHRcdHJldHVybiB0YXNrcztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHRhc2tzV2l0aGluRGF5cyA9IFtdO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0YXNrcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciByZXN1bHQ7XHJcblxyXG5cdFx0XHRcdGlmICghdGFza3NbaV0uZHVlIHx8ICh0YXNrc1tpXS5kdWUgJiZcclxuXHRcdFx0XHRcdG1vbWVudCh0YXNrc1tpXS5kdWUpLmlzQmVmb3JlKG1vbWVudCgpLmFkZChudW1PZkRheXMsICdkYXlzJykpKVxyXG5cdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0dGFza3NXaXRoaW5EYXlzLnB1c2godGFza3NbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRhc2tzV2l0aGluRGF5cztcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5zZXJ2aWNlKCdjYWNoZVNlcnZpY2UnLCBjYWNoZVNlcnZpY2UpO1xyXG5cclxuXHRjYWNoZVNlcnZpY2UuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdjcnVkU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGNhY2hlU2VydmljZSgkcm9vdFNjb3BlLCBjcnVkU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgLy8ganNoaW50IGlnbm9yZTogbGluZVxyXG5cdFx0dm0uY2FsZW5kYXJzID0gW107XHJcblx0XHR2bS5ldmVudHMgPSBbXTtcclxuXHRcdHZtLmxhYmVscyA9IFtdO1xyXG5cdFx0dm0udGFza3MgPSBbXTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjYWNoZUFsbDogY2FjaGVBbGwsXHJcblx0XHRcdGNhY2hlQ2FsZW5kYXJzOiBjYWNoZUNhbGVuZGFycyxcclxuXHRcdFx0Y2FjaGVFdmVudHM6IGNhY2hlRXZlbnRzLFxyXG5cdFx0XHRjYWNoZUxhYmVsczogY2FjaGVMYWJlbHMsXHJcblx0XHRcdGNhY2hlVGFza3M6IGNhY2hlVGFza3MsXHJcblx0XHRcdGNsZWFyQ2FjaGU6IGNsZWFyQ2FjaGUsXHJcblxyXG5cdFx0XHRnZXRBbGw6IGdldEFsbCxcclxuXHRcdFx0Z2V0Q2FsZW5kYXJzOiBnZXRDYWxlbmRhcnMsXHJcblx0XHRcdGdldEV2ZW50czogZ2V0RXZlbnRzLFxyXG5cdFx0XHRnZXRMYWJlbHM6IGdldExhYmVscyxcclxuXHRcdFx0Z2V0VGFza3M6IGdldFRhc2tzXHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIFRPRE86IElkZWFsbHkgb25lIEFQSSBjYWxsLlxyXG5cdFx0ZnVuY3Rpb24gY2FjaGVBbGwoKSB7XHJcblx0XHRcdGNhY2hlQ2FsZW5kYXJzKCk7XHJcblx0XHRcdGNhY2hlRXZlbnRzKCk7XHJcblx0XHRcdGNhY2hlTGFiZWxzKCk7XHJcblx0XHRcdGNhY2hlVGFza3MoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZUNhbGVuZGFycygpIHtcclxuXHRcdFx0dm0uY2FsZW5kYXIgPSBuZXcgY3J1ZFNlcnZpY2UoJ2NhbGVuZGFyJyk7XHJcblx0XHRcdHZtLmNhbGVuZGFyLmdldEJ5VXNlcigpXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHZtLmNhbGVuZGFycyA9IGdldFJlc3VsdChyZXNwb25zZSk7XHJcblx0XHRcdFx0XHR1cGRhdGVDYWxlbmRhcnMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZUV2ZW50cygpIHtcclxuXHRcdFx0dm0uZXZlbnQgPSBuZXcgY3J1ZFNlcnZpY2UoJ2V2ZW50Jyk7XHJcblx0XHRcdHZtLmV2ZW50LmdldEJ5VXNlcigpXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHZtLmV2ZW50cyA9IGdldFJlc3VsdChyZXNwb25zZSk7XHJcblx0XHRcdFx0XHR1cGRhdGVFdmVudHMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZUxhYmVscygpIHtcclxuXHRcdFx0dm0ubGFiZWwgPSBuZXcgY3J1ZFNlcnZpY2UoJ2xhYmVsJyk7XHJcblx0XHRcdHZtLmxhYmVsLmdldEJ5VXNlcigpXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHZtLmxhYmVscyA9IGdldFJlc3VsdChyZXNwb25zZSk7XHJcblx0XHRcdFx0XHR1cGRhdGVMYWJlbHMoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZVRhc2tzKCkge1xyXG5cdFx0XHR2bS50YXNrID0gbmV3IGNydWRTZXJ2aWNlKCd0YXNrJyk7XHJcblx0XHRcdHZtLnRhc2suZ2V0QnlVc2VyKClcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dm0udGFza3MgPSBnZXRSZXN1bHQocmVzcG9uc2UpO1xyXG5cdFx0XHRcdFx0dXBkYXRlVGFza3MoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjbGVhckNhY2hlKCkge1xyXG5cdFx0XHR2bS5jYWxlbmRhcnMgPSBbXTtcclxuXHRcdFx0dm0uZXZlbnRzID0gW107XHJcblx0XHRcdHZtLmxhYmVscyA9IFtdO1xyXG5cdFx0XHR2bS50YXNrcyA9IFtdO1xyXG5cclxuXHRcdFx0dXBkYXRlQ2FsZW5kYXJzKCk7XHJcblx0XHRcdHVwZGF0ZUV2ZW50cygpO1xyXG5cdFx0XHR1cGRhdGVMYWJlbHMoKTtcclxuXHRcdFx0dXBkYXRlVGFza3MoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZXN1bHQocmVzcG9uc2UpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdHJldHVybiByZXN1bHQuc3VjY2VzcyA/IHJlc3VsdC5kYXRhIDogcmVzdWx0LnRpdGxlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEFsbCgpIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRjYWxlbmRhcnM6IGdldENhbGVuZGFycygpLFxyXG5cdFx0XHRcdGV2ZW50czogZ2V0RXZlbnRzKCksXHJcblx0XHRcdFx0bGFiZWxzOiBnZXRMYWJlbHMoKSxcclxuXHRcdFx0XHR0YXNrczogZ2V0VGFza3MoKVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENhbGVuZGFycygpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFycztcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRFdmVudHMoKSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudHM7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0TGFiZWxzKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWxzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFRhc2tzKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0udGFza3M7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlQ2FsZW5kYXJzKCkge1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3VwZGF0ZUNhbGVuZGFycycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUV2ZW50cygpIHtcclxuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCd1cGRhdGVFdmVudHMnKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVMYWJlbHMoKSB7XHJcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgndXBkYXRlTGFiZWxzJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlVGFza3MoKSB7XHJcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgndXBkYXRlVGFza3MnKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyB0aGUgYXBpIG9mIHRoZSB2YXJpb3VzIGl0ZW0gdHlwZXMuXHJcblx0KiBBbiBpbnN0YW5jZSBvZiBjcnVkIG11c3QgYmUgY3JlYXRlZCBpbiBvcmRlciB0byB1c2UgdGhlIHNlcnZpY2UuXHJcblx0KlxyXG5cdCogQWxsIHByb21pc2VzIHJldHVybiAnc3VjY2VzcycgYW5kIGVpdGhlciAnZGF0YScgb24gc3VjY2VzcyBvciwgb24gZXJyb3IsICd0aXRsZSdcclxuXHQqIHdpdGggYSBnZW5lcmFsIGVycm9yIGFuZCAnZGV0YWlscycgd2l0aCBtb3JlIGRldGFpbHMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjcnVkU2VydmljZScsIGNydWRTZXJ2aWNlKTtcclxuXHJcblx0Y3J1ZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIGNydWRTZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgY3J1ZCA9IGluaXQ7XHJcblx0XHRjcnVkLnByb3RvdHlwZSA9IHtcclxuXHRcdFx0Z2V0OiBnZXQsXHJcblx0XHRcdGdldEJ5VXNlcjogZ2V0QnlVc2VyLFxyXG5cdFx0XHRjcmVhdGU6IGNyZWF0ZSxcclxuXHRcdFx0dXBkYXRlOiB1cGRhdGUsXHJcblx0XHRcdHJlbW92ZTogcmVtb3ZlLFxyXG5cdFx0XHRyZW1vdmVXaGVyZTogcmVtb3ZlV2hlcmUsXHJcblx0XHRcdHJlbW92ZVVuZWNlc3NhcnlLZXlzOiByZW1vdmVVbmVjZXNzYXJ5S2V5c1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gY3J1ZDtcclxuXHJcblx0XHQvKipcclxuXHRcdCogSW5pdGlhbGl6ZSB0aGUgYmFzZSB1cmwgdXNpbmcgdGhlIHR5cGUgb2YgaXRlbSB0byBiZSBjYWxsZWQgb24uXHJcblx0XHQqIEFjdGl2aXRpZXMgYW5kIHRoZWlyIHBhcmVudHMgaGF2ZSBhIHNwZWNpZmljIHN1YmZvbGRlciB0byBiZSBwb2ludGVkIHRvLFxyXG5cdFx0KiB3aGlsZSBvdGhlcnMgZG8gbm90LlxyXG5cdFx0KlxyXG5cdFx0KiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlIG9mIGl0ZW0uXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gaW5pdCh0eXBlKSB7XHJcblx0XHRcdC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cclxuXHRcdFx0dGhpcy50eXBlID0gdHlwZTtcclxuXHRcdFx0dGhpcy5iYXNlID0gJ2FwaS8nO1xyXG5cdFx0XHRzd2l0Y2ggKHR5cGUpIHtcclxuXHRcdFx0XHRjYXNlICdldmVudCc6XHJcblx0XHRcdFx0Y2FzZSAnY2FsZW5kYXInOlxyXG5cdFx0XHRcdFx0dGhpcy5iYXNlICs9ICdhY3Rpdml0eS9jYWxlbmRhci8nO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnbGFiZWwnOlxyXG5cdFx0XHRcdGNhc2UgJ3Rhc2snOlxyXG5cdFx0XHRcdFx0dGhpcy5iYXNlICs9ICdhY3Rpdml0eS90YXNrLyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0dGhpcy5iYXNlICs9IHR5cGUgKyAnLyc7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5iYXNlICs9IHR5cGUgKyAnTWFuYWdlci5waHAnO1xyXG5cdFx0XHQvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gZ2V0LlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PSBxdWVyeSByZXN1bHRzIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0KGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQodGhpcy5iYXNlICsgJz9pZD0nICsgaWQpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblx0XHQvKipcclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT0gcXVlcnkgcmVzdWx0cyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldEJ5VXNlcigpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGlzLmJhc2UgKyAnP2J5dXNlcj10cnVlJykgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX1cdGRhdGFcdERhdGEgb2YgaXRlbSB0byBjcmVhdGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAxIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlKGRhdGEpIHtcclxuXHRcdFx0ZGF0YSA9IHRoaXMucmVtb3ZlVW5lY2Vzc2FyeUtleXMoZGF0YSk7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QodGhpcy5iYXNlLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gdXBkYXRlLlxyXG5cdFx0KiBAcGFyYW1cdHttaXhlZFtdfVx0ZGF0YVx0RGF0YSBvZiBpdGVtIHRvIHVwZGF0ZS5cclxuXHRcdCpcclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT09ICcxJyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZShpZCwgZGF0YSkge1xyXG5cdFx0XHRkYXRhID0gdGhpcy5yZW1vdmVVbmVjZXNzYXJ5S2V5cyhkYXRhKTsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KHRoaXMuYmFzZSArICc/aWQ9JyArIGlkLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gZGVsZXRlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PT0gMSBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZShpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZGVsZXRlKHRoaXMuYmFzZSArICc/aWQ9JyArIGlkKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0gXHR7c3RyaW5nfVx0d2hlcmUgXHRXaGVyZSBjbGF1c2UuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID49IDAgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmVXaGVyZSh3aGVyZSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZGVsZXRlKHRoaXMuYmFzZSArICc/dXNld2hlcmU9dHJ1ZSZ3aGVyZT0nICsgZXNjYXBlKHdoZXJlKSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VGYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0c3VjY2VzczogJ2ZhbHNlJyxcclxuXHRcdFx0XHR0aXRsZTogJ0Vycm9yIHdoZW4gcXVlcnlpbmcgc2VydmVyLicsXHJcblx0XHRcdFx0bWVzc2FnZTogZXJyb3JcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogSXRlbSBkYXRhIHBhc3NlZCBpbiBtYXkgc3RpbGwgaGF2ZSB0aGVpciBpZHMgb3IgYWxpYXMgZmllbGRzIChmb3IgYWN0aXZpdGllcylcclxuXHRcdCogZW1iZWRkZWQsIHdoaWNoIHdpbGwgY2FuIGNhdXNlIGVycm9ycyBpbiB0aGUgU1FMLlxyXG5cdFx0KlxyXG5cdFx0KiBAcGFyYW1cdHttaXhlZFtdfSBkYXRhXHJcblx0XHQqIEByZXR1cm5cdHttaXhlZFtdfVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZVVuZWNlc3NhcnlLZXlzKGRhdGEpIHtcclxuXHRcdFx0dmFyIHRvRGVsZXRlID0gWydpZCcsICdwZXJzb25faWQnLCB0aGlzLnR5cGUgKyAnX2lkJywgJ2FjdGl2aXR5X2luZm9faWQnLCAncGFyZW50X25hbWUnXTsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRvRGVsZXRlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0ZGVsZXRlIGRhdGFbdG9EZWxldGVbaV1dO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFVzZWQgdG8gYWNjZXNzIHNlc3Npb24gdmFyaWFibGVzLlxyXG5cdCovXHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnc2Vzc2lvblNlcnZpY2UnLCBzZXNzaW9uU2VydmljZSk7XHJcblxyXG5cdHNlc3Npb25TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnXTtcclxuXHRmdW5jdGlvbiBzZXNzaW9uU2VydmljZSgkaHR0cCwgJGxvZykge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0dm0uYmFzZSA9ICdhcGkvc2Vzc2lvbi9zZXNzaW9uVmFyTWFuYWdlci5waHA/dmFyPSc7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Z2V0VmFyOiBnZXRWYXIsXHJcblx0XHRcdHNldFZhcjogc2V0VmFyXHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9ICRuYW1lXHRWYXJpYWJsZSBuYW1lIHRvIGdldCBmcm9tIHNlc3Npb24uXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmd9IFx0XHRQcm9taXNlIG9yIGVycm9yIG9uIGZhaWwuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0VmFyKCRuYW1lKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQodm0uYmFzZSArICRuYW1lKVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ30gJG5hbWVcdFZhcmlhYmxlIG5hbWUgdG8gZ2V0IGZyb20gc2Vzc2lvbi5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ30gXHRcdFByb21pc2Ugb3IgZXJyb3Igb24gZmFpbC5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBzZXRWYXIoJG5hbWUsICR2YWx1ZSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCh2bS5iYXNlICsgJG5hbWUsICR2YWx1ZSlcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUZhaWxlZChlcnJvcikge1xyXG5cdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRzdWNjZXNzOiAnZmFsc2UnLFxyXG5cdFx0XHRcdHRpdGxlOiAnRXJyb3Igd2hlbiBhY2Nlc3NpbmcgdmFyaWFibGUuJyxcclxuXHRcdFx0XHRtZXNzYWdlOiBlcnJvclxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0V2ZW50c0NvbnRyb2xsZXInLCBFdmVudHNDb250cm9sbGVyKTtcclxuXHJcblx0RXZlbnRzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ2NhbGVuZGFyV2lkZ2V0U2VydmljZScsICdjYWxlbmRhclNlcnZpY2UnLCAnZXZlbnRzU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIEV2ZW50c0NvbnRyb2xsZXIoJHJvb3RTY29wZSwgY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLCBjYWxlbmRhclNlcnZpY2UsIGV2ZW50c1NlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5ldmVudHMgPSBbXTtcclxuXHRcdHZtLmNhbGVuZGFyID0gW107XHJcblxyXG5cdFx0dm0udG9kYXkgPSBudWxsO1xyXG5cdFx0dm0uc2VsZWN0ZWREYXkgPSBudWxsO1xyXG5cdFx0dm0ubW9udGggPSBudWxsO1xyXG5cclxuXHRcdHZtLmRheUNsaWNrZWQgPSBkYXlDbGlja2VkO1xyXG5cdFx0dm0uaXNTYW1lRGF5QXNTZWxlY3RlZCA9IGlzU2FtZURheUFzU2VsZWN0ZWQ7XHJcblx0XHR2bS5zaG93RXZlbnRNb2RhbCA9IHNob3dFdmVudE1vZGFsO1xyXG5cdFx0dm0ubGFzdE1vbnRoID0gbGFzdE1vbnRoO1xyXG5cdFx0dm0ubmV4dE1vbnRoID0gbmV4dE1vbnRoO1xyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdHVwZGF0ZUNhbGVuZGFycygpO1xyXG5cdFx0XHR1cGRhdGVFdmVudHMoKTtcclxuXHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCd1cGRhdGVDYWxlbmRhcnMnLCB1cGRhdGVDYWxlbmRhcnMpO1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRvbigndXBkYXRlRXZlbnRzJywgdXBkYXRlRXZlbnRzKTtcclxuXHJcblx0XHRcdHZtLnRvZGF5ID0gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLmdldFRvZGF5KCk7XHJcblx0XHRcdHZtLnNlbGVjdGVkRGF5ID0gdm0udG9kYXk7XHJcblx0XHRcdHZtLm1vbnRoID0gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLmdldE1vbnRoKHZtLnRvZGF5KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkYXlDbGlja2VkKGNsaWNrRXZlbnQsIGRheSkge1xyXG5cdFx0XHR2bS5zZWxlY3RlZERheSA9IGNhbGVuZGFyV2lkZ2V0U2VydmljZS5kYXlDbGlja2VkKGNsaWNrRXZlbnQsIGRheSwgdm0uc2VsZWN0ZWREYXksIHZtLmNhbGVuZGFycyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNTYW1lRGF5QXNTZWxlY3RlZChkYXkpIHtcclxuXHRcdFx0cmV0dXJuIGNhbGVuZGFyV2lkZ2V0U2VydmljZS5pc1NhbWVEYXkoZGF5LCB2bS5zZWxlY3RlZERheSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd0V2ZW50TW9kYWwoY2xpY2tFdmVudCwgZXZlbnQpIHtcclxuXHRcdFx0Y2FsZW5kYXJXaWRnZXRTZXJ2aWNlLnNob3dFdmVudE1vZGFsKGNsaWNrRXZlbnQsIGV2ZW50LCB2bS5jYWxlbmRhcnMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxhc3RNb250aCgpIHtcclxuXHRcdFx0dm0ubW9udGggPSBjYWxlbmRhcldpZGdldFNlcnZpY2UubGFzdE1vbnRoKHZtLm1vbnRoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBuZXh0TW9udGgoKSB7XHJcblx0XHRcdHZtLm1vbnRoID0gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLm5leHRNb250aCh2bS5tb250aCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlQ2FsZW5kYXJzKCkge1xyXG5cdFx0XHR2bS5jYWxlbmRhcnMgPSBjYWxlbmRhclNlcnZpY2UuZ2V0Q2FsZW5kYXJzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlRXZlbnRzKCkge1xyXG5cdFx0XHR2bS5ldmVudHMgPSBldmVudHNTZXJ2aWNlLmdldEV2ZW50cygpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcEV2ZW50cycsIGV2ZW50c0RpcmVjdGl2ZSk7XHJcblxyXG5cdGZ1bmN0aW9uIGV2ZW50c0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9ldmVudHMvZXZlbnRzLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnRXZlbnRzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2V2ZW50c1NlcnZpY2UnLCBldmVudHNTZXJ2aWNlKTtcclxuXHJcblx0ZXZlbnRzU2VydmljZS4kaW5qZWN0ID0gWydjcnVkU2VydmljZScsICdjYWNoZVNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBldmVudHNTZXJ2aWNlKGNydWRTZXJ2aWNlLCBjYWNoZVNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmV2ZW50ID0gbmV3IGNydWRTZXJ2aWNlKCdldmVudCcpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZUV2ZW50OiBjcmVhdGVFdmVudCxcclxuXHRcdFx0Y3JlYXRlT3JVcGRhdGVFdmVudDogY3JlYXRlT3JVcGRhdGVFdmVudCxcclxuXHRcdFx0ZGVsZXRlRXZlbnQ6IGRlbGV0ZUV2ZW50LFxyXG5cdFx0XHRnZXRFdmVudHM6IGdldEV2ZW50cyxcclxuXHRcdFx0dXBkYXRlRXZlbnQ6IHVwZGF0ZUV2ZW50XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KGV2ZW50KSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudC5jcmVhdGUoZXZlbnQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUV2ZW50KGV2ZW50KSB7XHJcblx0XHRcdGlmICghZXZlbnQuZXZlbnRfaWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gY3JlYXRlRXZlbnQoZXZlbnQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB1cGRhdGVFdmVudChldmVudC5ldmVudF9pZCwgZXZlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUV2ZW50KGlkKSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudC5yZW1vdmUoaWQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRFdmVudHMoKSB7XHJcblx0XHRcdHJldHVybiBjYWNoZVNlcnZpY2UuZ2V0RXZlbnRzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlRXZlbnQoaWQsIGV2ZW50KSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudC51cGRhdGUoaWQsIGV2ZW50KS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRjYWNoZVNlcnZpY2UuY2FjaGVFdmVudHMoKTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBUbyBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYXV0b2ZvY3VzIGF0dHJpYnV0ZSB0byBhdXRvLWZvY3VzXHJcblx0KiBtb2RhbCBpbnB1dHMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwQXV0b0ZvY3VzJywgYXV0b0ZvY3VzRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gYXV0b0ZvY3VzRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0bGluazogbGlua1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG5cdFx0XHRlbGVtZW50WzBdLmZvY3VzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBDb21wYXJlIGFuIGlucHV0IGZpZWxkIHRvIGFub3RoZXIgZmllbGQsIGRldGVybWluZWQgYnkgdGhlIGRldi5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BDb21wYXJlVG8nLCBjb21wYXJlVG9EaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBjb21wYXJlVG9EaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXF1aXJlOiAnbmdNb2RlbCcsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0b3RoZXJNb2RlbDogJz1zcENvbXBhcmVUbydcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogbGlua1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG5cdFx0XHR2YXIgdW5iaW5kV2F0Y2ggPSBzY29wZS4kd2F0Y2goJ290aGVyTW9kZWwnLCB2YWxpZGF0ZU9uQ2hhbmdlKTtcclxuXHRcdFx0bmdNb2RlbC4kdmFsaWRhdG9ycy5zcENvbXBhcmVUbyA9IGNvbXBhcmVWYWx1ZXM7XHJcblx0XHRcdGVsZW1lbnQub24oJyRkZXN0cm95JywgY2xlYW5VcCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjbGVhblVwKCkge1xyXG5cdFx0XHRcdHVuYmluZFdhdGNoKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNvbXBhcmVWYWx1ZXModmlld1ZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuICh2aWV3VmFsdWUgPT09IHNjb3BlLm90aGVyTW9kZWwuJHZpZXdWYWx1ZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHZhbGlkYXRlT25DaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcblx0XHRcdFx0bmdNb2RlbC4kdmFsaWRhdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignTG9nb3V0Q29udHJvbGxlcicsIExvZ291dENvbnRyb2xsZXIpO1xyXG5cclxuXHRMb2dvdXRDb250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ291dFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBMb2dvdXRDb250cm9sbGVyKGxvZ291dFNlcnZpY2UpIHtcclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGxvZ291dFNlcnZpY2UubG9nb3V0KCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdsb2dvdXRTZXJ2aWNlJywgbG9nb3V0U2VydmljZSk7XHJcblxyXG5cdGxvZ291dFNlcnZpY2UuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckaHR0cCcsICckc3RhdGUnLCAnJGxvZycsICdjYWNoZVNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBsb2dvdXRTZXJ2aWNlKCRyb290U2NvcGUsICRodHRwLCAkc3RhdGUsICRsb2csIGNhY2hlU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bG9nb3V0OiBsb2dvdXRcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9nb3V0KCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnYXBpL3VzZXIvbG9nb3V0TWFuYWdlci5waHAnKVxyXG5cdFx0XHRcdC50aGVuKGxvZ291dENvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChsb2dvdXRGYWlsZWQpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9nb3V0Q29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRjYWNoZVNlcnZpY2UuY2xlYXJDYWNoZSgpO1xyXG5cdFx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgndXBkYXRlVXNlcicpO1xyXG5cdFx0XHRcdCRzdGF0ZS5nbygnbG9naW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9nb3V0RmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdSZWN1cnJlbmNlQ29udHJvbGxlcicsIFJlY3VycmVuY2VDb250cm9sbGVyKTtcclxuXHJcblx0UmVjdXJyZW5jZUNvbnRyb2xsZXIuJGluamVjdCA9IFsncmVjdXJyZW5jZU1vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFJlY3VycmVuY2VDb250cm9sbGVyKHJlY3VycmVuY2VNb2RhbFNlcnZpY2UpIHtcclxuXHRcdHZhciByYyA9IHRoaXM7XHJcblx0XHRyYy5zaG93UmVjdXJyZW5jZU1vZGFsID0gc2hvd1JlY3VycmVuY2VNb2RhbDtcclxuXHJcblx0XHRmdW5jdGlvbiBzaG93UmVjdXJyZW5jZU1vZGFsKCkge1xyXG5cdFx0XHRpZiAocmMuaXRlbS5yZWN1cnJlbmNlKSB7XHJcblx0XHRcdFx0cmVjdXJyZW5jZU1vZGFsU2VydmljZS5vcGVuUmVjdXJyZW5jZU1vZGFsKHJjLml0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwUmVwZWF0JywgcmVjdXJyZW5jZURpcmVjdGl2ZSk7XHJcblxyXG5cdGZ1bmN0aW9uIHJlY3VycmVuY2VEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcmVjdXJyZW5jZS9yZWN1cnJlbmNlLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnUmVjdXJyZW5jZUNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICdyYycsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0aXRlbTogJz0nXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdyZWN1cnJlbmNlU2VydmljZScsIHJlY3VycmVuY2VTZXJ2aWNlKTtcclxuXHJcblx0ZnVuY3Rpb24gcmVjdXJyZW5jZVNlcnZpY2UoKSB7XHJcblx0XHR2YXIgcmVjdXJyZW5jZUNvbHMgPSB7XHJcblx0XHRcdGZyZXE6IFsnaG91cmx5JywgJ2RhaWx5JywgJ3dlZWtseScsICdtb250aGx5JywgJ3llYXJseSddLFxyXG5cdFx0XHRkYXlzOiBbJ21vJywgJ3R1JywgJ3dlJywgJ3RoJywgJ2ZyJywgJ3NhJywgJ3N1J10sXHJcblx0XHRcdGJ5OiBbJ2J5X2hvdXInLCAnYnlfZGF5JywgJ2J5X21vbnRoX2RheScsICdieV95ZWFyX2RheScsICdieV93ZWVrX25vJywgJ2J5X21vbnRoJ11cclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y2xlYXJSZWN1cnJlbmNlOiBjbGVhclJlY3VycmVuY2UsXHJcblx0XHRcdGNvbnN0cnVjdFJlY3VycmVuY2U6IGNvbnN0cnVjdFJlY3VycmVuY2VcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2xlYXJSZWN1cnJlbmNlKGl0ZW0pIHtcclxuXHRcdFx0aXRlbS5yZWN1cnJlbmNlID0gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY29uc3RydWN0UmVjdXJyZW5jZShpdGVtKSB7XHJcblxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFRoZSBmb3JtYXRzIG9mIHRoZSB0YXNrIGFuZCBldmVudCBtb2RhbHMuXHJcblx0KiBEaXNwbGF5IGZvcm1hdCBpcyB1c2VkIGZvciBhIHVzZXItZnJpZW5kbHkgZGF0ZS5cclxuXHQqIFN0b3JhZ2UgZm9ybWF0IGlzIHVzZWQgdG8gc3RvcmUgaW50byB0aGUgZGF0YWJhc2UuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdmb3JtYXRTZXJ2aWNlJywgZm9ybWF0U2VydmljZSk7XHJcblxyXG5cdGZvcm1hdFNlcnZpY2UuJGluamVjdCA9IFsnbW9tZW50J107XHJcblx0ZnVuY3Rpb24gZm9ybWF0U2VydmljZShtb21lbnQpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGZvcm1hdEZvckRpc3BsYXk6IGZvcm1hdEZvckRpc3BsYXksXHJcblx0XHRcdGZvcm1hdEZvclN0b3JhZ2U6IGZvcm1hdEZvclN0b3JhZ2UsXHJcblx0XHRcdGdldERpc3BsYXlGb3JtYXQ6IGdldERpc3BsYXlGb3JtYXQsXHJcblx0XHRcdHRvRGlzcGxheUZvcm1hdDogdG9EaXNwbGF5Rm9ybWF0LFxyXG5cdFx0XHR0b1N0b3JhZ2VGb3JtYXQ6IHRvU3RvcmFnZUZvcm1hdFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBmb3JtYXRGb3JEaXNwbGF5KGFjdGl2aXR5KSB7XHJcblx0XHRcdGlmIChhY3Rpdml0eS5oYXNPd25Qcm9wZXJ0eSgnZHRfc3RhcnQnKSkge1xyXG5cdFx0XHRcdGFjdGl2aXR5LmFsbF9kYXkgPSBwYXJzZUludChhY3Rpdml0eS5hbGxfZGF5KTtcclxuXHRcdFx0XHRhY3Rpdml0eS5kdF9zdGFydCA9IHRvRGlzcGxheUZvcm1hdChtb21lbnQoYWN0aXZpdHkuZHRfc3RhcnQpKTtcclxuXHRcdFx0XHRhY3Rpdml0eS5kdF9lbmQgPSB0b0Rpc3BsYXlGb3JtYXQobW9tZW50KGFjdGl2aXR5LmR0X2VuZCkpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChhY3Rpdml0eS5oYXNPd25Qcm9wZXJ0eSgnZHVlJykgJiYgYWN0aXZpdHkuZHVlKSB7XHJcblx0XHRcdFx0XHRhY3Rpdml0eS5kdWUgPSB0b0Rpc3BsYXlGb3JtYXQobW9tZW50KGFjdGl2aXR5LmR1ZSkpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGFjdGl2aXR5Lmhhc093blByb3BlcnR5KCdyZW1pbmRlcicpICYmIGFjdGl2aXR5LnJlbWluZGVyKSB7XHJcblx0XHRcdFx0XHRhY3Rpdml0eS5yZW1pbmRlciA9IHRvRGlzcGxheUZvcm1hdChtb21lbnQoYWN0aXZpdHkucmVtaW5kZXIpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBmb3JtYXRGb3JTdG9yYWdlKGFjdGl2aXR5KSB7XHJcblx0XHRcdGlmIChhY3Rpdml0eS5oYXNPd25Qcm9wZXJ0eSgnZHRfc3RhcnQnKSkge1xyXG5cdFx0XHRcdGFjdGl2aXR5LmR0X3N0YXJ0ID0gdG9TdG9yYWdlRm9ybWF0KG1vbWVudChhY3Rpdml0eS5kdF9zdGFydCkpO1xyXG5cdFx0XHRcdGFjdGl2aXR5LmR0X2VuZCA9IHRvU3RvcmFnZUZvcm1hdChtb21lbnQoYWN0aXZpdHkuZHRfZW5kKSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKGFjdGl2aXR5Lmhhc093blByb3BlcnR5KCdkdWUnKSAmJiBhY3Rpdml0eS5kdWUpIHtcclxuXHRcdFx0XHRcdGFjdGl2aXR5LmR1ZSA9IHRvU3RvcmFnZUZvcm1hdChtb21lbnQoYWN0aXZpdHkuZHVlKSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoYWN0aXZpdHkuaGFzT3duUHJvcGVydHkoJ3JlbWluZGVyJykgJiYgYWN0aXZpdHkucmVtaW5kZXIpIHtcclxuXHRcdFx0XHRcdGFjdGl2aXR5LnJlbWluZGVyID0gdG9TdG9yYWdlRm9ybWF0KG1vbWVudChhY3Rpdml0eS5yZW1pbmRlcikpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldERpc3BsYXlGb3JtYXQoKSB7XHJcblx0XHRcdHJldHVybiAnaGg6bW0gYSBNTS1ERC1ZWVlZJztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHttb21lbnQgT2JqZWN0fSBhY3Rpdml0eVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHRvRGlzcGxheUZvcm1hdChhY3Rpdml0eSkge1xyXG5cdFx0XHRyZXR1cm4gYWN0aXZpdHkuZm9ybWF0KGdldERpc3BsYXlGb3JtYXQoKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbSB7bW9tZW50IE9iamVjdH0gYWN0aXZpdHlcclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiB0b1N0b3JhZ2VGb3JtYXQoYWN0aXZpdHkpIHtcclxuXHRcdFx0cmV0dXJuIGFjdGl2aXR5LmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ01vZGFsQ29udHJvbGxlcicsIE1vZGFsQ29udHJvbGxlcik7XHJcblxyXG5cdE1vZGFsQ29udHJvbGxlci4kaW5qZWN0ID0gWyckdWliTW9kYWxJbnN0YW5jZScsICdncm91cHMnLCAnaXRlbScsICdldmVudE1vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIE1vZGFsQ29udHJvbGxlcigkdWliTW9kYWxJbnN0YW5jZSwgZ3JvdXBzLCBpdGVtLCBldmVudE1vZGFsU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmdyb3VwcyA9IGdyb3VwcztcclxuXHRcdHZtLml0ZW0gPSBpdGVtO1xyXG5cclxuXHRcdHZtLmNhbmNlbCA9IGNhbmNlbDtcclxuXHRcdHZtLmNsb3NlID0gY2xvc2U7XHJcblx0XHR2bS5jb25maXJtID0gY29uZmlybTtcclxuXHRcdHZtLnJlbW92ZSA9IHJlbW92ZTtcclxuXHRcdHZtLnRvZ2dsZUFsbERheSA9IHRvZ2dsZUFsbERheTtcclxuXHJcblx0XHRmdW5jdGlvbiBjYW5jZWwoKSB7XHJcblx0XHRcdCR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNsb3NlKCkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNvbmZpcm0oZGF0YSkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShkYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZW1vdmUoZGF0YSkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKGRhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUFsbERheShldmVudCkge1xyXG5cdFx0XHRldmVudE1vZGFsU2VydmljZS50b2dnbGVBbGxEYXkoZXZlbnQpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignVGFza3NDb250cm9sbGVyJywgVGFza3NDb250cm9sbGVyKTtcclxuXHJcblx0VGFza3NDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAndGFza3NTZXJ2aWNlJywgJ2xhYmVsU2VydmljZScsICd0YXNrTW9kYWxTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gVGFza3NDb250cm9sbGVyKCRyb290U2NvcGUsIHRhc2tzU2VydmljZSwgbGFiZWxTZXJ2aWNlLCB0YXNrTW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0ubGFiZWxzID0gW107XHJcblx0XHR2bS50YXNrcyA9IFtdO1xyXG5cdFx0dm0uc2hvd1Rhc2tNb2RhbCA9IHNob3dUYXNrTW9kYWw7XHJcblx0XHR2bS50b2dnbGVDb21wbGV0ZWQgPSB0b2dnbGVDb21wbGV0ZWQ7XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0dXBkYXRlTGFiZWxzKCk7XHJcblx0XHRcdHVwZGF0ZVRhc2tzKCk7XHJcblxyXG5cdFx0XHQkcm9vdFNjb3BlLiRvbigndXBkYXRlTGFiZWxzJywgdXBkYXRlTGFiZWxzKTtcclxuXHRcdFx0JHJvb3RTY29wZS4kb24oJ3VwZGF0ZVRhc2tzJywgdXBkYXRlVGFza3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNob3dUYXNrTW9kYWwodGFzaykge1xyXG5cdFx0XHR0YXNrTW9kYWxTZXJ2aWNlLm9wZW5UYXNrTW9kYWwodGFzaywgdm0ubGFiZWxzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVDb21wbGV0ZWQodGFzaykge1xyXG5cdFx0XHR0YXNrc1NlcnZpY2UudG9nZ2xlQ29tcGxldGVkKHRhc2spO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUxhYmVscygpIHtcclxuXHRcdFx0dm0ubGFiZWxzID0gbGFiZWxTZXJ2aWNlLmdldExhYmVscygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZVRhc2tzKCkge1xyXG5cdFx0XHR2bS50YXNrcyA9IHRhc2tzU2VydmljZS5nZXRUYXNrcygpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFRhc2tzJywgdGFza3NEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiB0YXNrc0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy90YXNrcy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1Rhc2tzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRvcmRlcjogJz0nLFxyXG5cdFx0XHRcdGRheXM6ICc9d2l0aGluRGF5cycsXHJcblx0XHRcdFx0aW5MYWJlbHM6ICc9aW5Hcm91cHMnXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd0YXNrc1NlcnZpY2UnLCB0YXNrc1NlcnZpY2UpO1xyXG5cclxuXHR0YXNrc1NlcnZpY2UuJGluamVjdCA9IFsnY3J1ZFNlcnZpY2UnLCAnY2FjaGVTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gdGFza3NTZXJ2aWNlKGNydWRTZXJ2aWNlLCBjYWNoZVNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLnRhc2sgPSBuZXcgY3J1ZFNlcnZpY2UoJ3Rhc2snKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVUYXNrOiBjcmVhdGVUYXNrLFxyXG5cdFx0XHRjcmVhdGVPclVwZGF0ZVRhc2s6IGNyZWF0ZU9yVXBkYXRlVGFzayxcclxuXHRcdFx0ZGVsZXRlVGFzazogZGVsZXRlVGFzayxcclxuXHRcdFx0Z2V0VGFza3M6IGdldFRhc2tzLFxyXG5cdFx0XHR0b2dnbGVDb21wbGV0ZWQ6IHRvZ2dsZUNvbXBsZXRlZCxcclxuXHRcdFx0dXBkYXRlVGFzazogdXBkYXRlVGFza1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVUYXNrKHRhc2spIHtcclxuXHRcdFx0cmV0dXJuIHZtLnRhc2suY3JlYXRlKHRhc2spLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVRhc2sodGFzaykge1xyXG5cdFx0XHRpZiAoIXRhc2sudGFza19pZCkge1xyXG5cdFx0XHRcdHJldHVybiBjcmVhdGVUYXNrKHRhc2spO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB1cGRhdGVUYXNrKHRhc2sudGFza19pZCwgdGFzayk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlVGFzayhpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0udGFzay5yZW1vdmUoaWQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRUYXNrcygpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlU2VydmljZS5nZXRUYXNrcygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZCh0YXNrKSB7XHJcblx0XHRcdHRhc2suY29tcGxldGVkID0gIXBhcnNlSW50KHRhc2suY29tcGxldGVkKTtcclxuXHRcdFx0cmV0dXJuIHVwZGF0ZVRhc2sodGFzay50YXNrX2lkLCB0YXNrKS50aGVuKGdldFRhc2tzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVUYXNrKGlkLCB0YXNrKSB7XHJcblx0XHRcdHJldHVybiB2bS50YXNrLnVwZGF0ZShpZCwgdGFzaykudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0Y2FjaGVTZXJ2aWNlLmNhY2hlVGFza3MoKTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdVcGxvYWRDb250cm9sbGVyJywgVXBsb2FkQ29udHJvbGxlcik7XHJcblxyXG5cdFVwbG9hZENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRodHRwJywgJ3VwbG9hZFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBVcGxvYWRDb250cm9sbGVyKCRzY29wZSwgJGh0dHAsIHVwbG9hZFNlcnZpY2UpIHtcclxuXHRcdHZhciB1YyA9IHRoaXM7XHJcblx0XHR1Yy51cGxvYWRGaWxlID0gdXBsb2FkRmlsZTtcclxuXHJcblx0XHRmdW5jdGlvbiB1cGxvYWRGaWxlKGZpbGUsIG9sZEZpbGUpIHtcclxuXHRcdFx0cmV0dXJuIHVwbG9hZFNlcnZpY2UudXBsb2FkRmlsZShmaWxlKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKGZpbGVQYXRoKSB7IHJldHVybiBmaWxlUGF0aDsgfSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwRmlsZUNoYW5nZScsIHVwbG9hZERpcmVjdGl2ZSk7XHJcblxyXG5cdHVwbG9hZERpcmVjdGl2ZS4kaW5qZWN0ID0gWyckcGFyc2UnXTtcclxuXHRmdW5jdGlvbiB1cGxvYWREaXJlY3RpdmUoJHBhcnNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnVXBsb2FkQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3VjJyxcclxuXHRcdFx0bGluazogbGluayxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRzcEZpbGVDaGFuZ2U6ICc9JyxcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG5cdFx0XHR2YXIgbWF4RmlsZVNpemUgPSAyICogMTAyNCAqIDEwMjQ7XHJcblx0XHRcdHZhciBmaWxlTW9kZWwgPSAkcGFyc2UoYXR0cnMuc3BGaWxlQ2hhbmdlKTtcclxuXHRcdFx0ZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmaWxlSGFuZGxlciwgZmFsc2UpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZmlsZUhhbmRsZXIoZXZlbnQpIHtcclxuXHRcdFx0XHRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR2YXIgZmlsZSA9IGVsZW1lbnRbMF0uZmlsZXNbMF07XHJcblxyXG5cdFx0XHRcdFx0aWYgKGZpbGUuc2l6ZSA8PSBtYXhGaWxlU2l6ZSkge1xyXG5cdFx0XHRcdFx0XHRzY29wZS51Yy51cGxvYWRGaWxlKGZpbGUpXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oZmlsZVBhdGgpIHsgc2NvcGUuc3BGaWxlQ2hhbmdlID0gZmlsZVBhdGg7IH0pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0YWxlcnQoXCJGaWxlIG11c3QgYmUgbGVzcyB0aGFuIFwiICsgKG1heEZpbGVTaXplIC8gMTAyNCAvIDEwMjQpICsgXCJNQi5cIik7Ly8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3VwbG9hZFNlcnZpY2UnLCB1cGxvYWRTZXJ2aWNlKTtcclxuXHJcblx0dXBsb2FkU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gdXBsb2FkU2VydmljZSgkaHR0cCwgJGxvZykge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dXBsb2FkRmlsZTogdXBsb2FkRmlsZVxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiB1cGxvYWRGaWxlKGZpbGUpIHtcclxuXHRcdFx0dmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblx0XHRcdGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xyXG5cclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJ2FwaS91cGxvYWQvdXBsb2FkTWFuYWdlci5waHAnLCBmb3JtRGF0YSwge1xyXG5cdFx0XHRcdHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcblx0XHRcdFx0aGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH1cclxuXHRcdFx0fSlcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdGlmIChyZXMuZGF0YS5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiByZXMuZGF0YS5kYXRhO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JGxvZy5lcnJvcihyZXMudGl0bGUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmNhdGNoKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0JGxvZy5lcnJvcihyZXMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgTG9naW5Db250cm9sbGVyKTtcclxuXHJcblx0TG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ2luU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihsb2dpblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR2bS5lcnJvciA9ICcnO1xyXG5cclxuXHRcdHZtLmxvZ2luID0gbG9naW47XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIExvZ2luU2VydmljZSB3aWxsIHJlZGlyZWN0IGlmIHRoZXJlIGlzIG5vIGVycm9yLiBUaHVzLCB0aGVyZSdzIG9ubHkgYVxyXG5cdFx0KiBuZWVkIHRvIHJldHVybiBhIHByb21pc2UgaWYgdGhlcmUncyBhbiBlcnJvci5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBsb2dpbigpIHtcclxuXHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdGxvZ2luU2VydmljZS5sb2dpbih2bS51c2VyKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnbG9naW5TZXJ2aWNlJywgbG9naW5TZXJ2aWNlKTtcclxuXHJcblx0bG9naW5TZXJ2aWNlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJGh0dHAnLCAnJHN0YXRlJywgJyRsb2cnLCAnY2FjaGVTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gbG9naW5TZXJ2aWNlKCRyb290U2NvcGUsICRodHRwLCAkc3RhdGUsICRsb2csIGNhY2hlU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bG9naW46IGxvZ2luXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxvZ2luKHVzZXIpIHtcclxuXHRcdFx0dXNlci5uYW1lID0gdXNlci5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG5cclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJ2FwaS91c2VyL2xvZ2luTWFuYWdlci5waHAnLCB1c2VyKVxyXG5cdFx0XHRcdC50aGVuKGxvZ2luQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKGxvZ2luRmFpbGVkKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGxvZ2luQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGEudGl0bGU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjYWNoZVNlcnZpY2UuY2FjaGVBbGwoKTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3VwZGF0ZVVzZXInKTtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2Rhc2hib2FyZCcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dpbkZhaWxlZChlcnJvcikge1xyXG5cdFx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRcdHJldHVybiAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ29udHJvbGxlcicsIFJlZ2lzdGVyQ29udHJvbGxlcik7XHJcblxyXG5cdFJlZ2lzdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWydyZWdpc3RlclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBSZWdpc3RlckNvbnRyb2xsZXIocmVnaXN0ZXJTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uZXJyb3IgPSAnJztcclxuXHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdHZtLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XHJcblx0XHRcdHZtLmxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRyZWdpc3RlclNlcnZpY2UucmVnaXN0ZXIodm0udXNlcilcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dm0uZXJyb3IgPSByZXNwb25zZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3JlZ2lzdGVyU2VydmljZScsIHJlZ2lzdGVyU2VydmljZSk7XHJcblxyXG5cdHJlZ2lzdGVyU2VydmljZS4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnJGxvZycsICdjcnVkU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIHJlZ2lzdGVyU2VydmljZSgkbG9jYXRpb24sICRsb2csIGNydWRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5jcnVkID0gbmV3IGNydWRTZXJ2aWNlKCd1c2VyJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVnaXN0ZXI6IHJlZ2lzdGVyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlZ2lzdGVyKHVzZXIpIHtcclxuXHRcdFx0dXNlci5uYW1lID0gdXNlci5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHZtLmNydWQuY3JlYXRlKHVzZXIpXHJcblx0XHRcdFx0LnRoZW4ocmVnaXN0cmF0aW9uQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gcmVnaXN0cmF0aW9uQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2Uuc3VjY2VzcyA9PT0gJ2ZhbHNlJykge1xyXG5cdFx0XHRcdFx0JGxvZy5lcnJvcihyZXNwb25zZS50aXRsZSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UudGl0bGU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRsb2NhdGlvbi51cmwoJy9sb2dpbicpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdMYWJlbFBhZ2VDb250cm9sbGVyJywgTGFiZWxQYWdlQ29udHJvbGxlcik7XHJcblxyXG5cdExhYmVsUGFnZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHN0YXRlUGFyYW1zJ107XHJcblx0ZnVuY3Rpb24gTGFiZWxQYWdlQ29udHJvbGxlcigkc3RhdGVQYXJhbXMpIHtcclxuXHRcdHRoaXMubGFiZWxJZCA9ICRzdGF0ZVBhcmFtcy5sYWJlbElkO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnYWNjZXNzU2VydmljZScsIGFjY2Vzc1NlcnZpY2UpO1xyXG5cclxuXHRhY2Nlc3NTZXJ2aWNlLiRpbmplY3QgPSBbJyRxJywgJ3Nlc3Npb25TZXJ2aWNlJywgJ3N0YXR1c1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBhY2Nlc3NTZXJ2aWNlKCRxLCBzZXNzaW9uU2VydmljZSwgc3RhdHVzU2VydmljZSkge1xyXG5cdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IGlzQXV0aGVudGljYXRlZCxcclxuXHRcdFx0aXNBZG1pbjogaXNBZG1pblxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ25hbWUnKVxyXG5cdFx0XHRcdC50aGVuKGlzQXV0aGVudGljYXRlZENvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZENvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoc3RhdHVzU2VydmljZS5PSyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChzdGF0dXNTZXJ2aWNlLlVOQVVUSE9SSVpFRCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQWRtaW4oKSB7XHJcblxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFN0YXR1cyBjb2RlcyB1c2VkIHdoZW4gYWNjZXNzaW5nIHZhcmlvdXMgcGFnZXMgaW4gdGhlIGFwcC5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LnNlcnZpY2UoJ3N0YXR1c1NlcnZpY2UnLCBzdGF0dXNTZXJ2aWNlKTtcclxuXHJcblx0ZnVuY3Rpb24gc3RhdHVzU2VydmljZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdE9LOiAyMDAsXHJcblx0XHRcdFVOQVVUSE9SSVpFRDogNDAxLFxyXG5cdFx0XHRGT1JCSURERU46IDQwM1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjYWxlbmRhclNlcnZpY2UnLCBjYWxlbmRhclNlcnZpY2UpO1xyXG5cclxuXHRjYWxlbmRhclNlcnZpY2UuJGluamVjdCA9IFsnY3J1ZFNlcnZpY2UnLCAnY2FjaGVTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gY2FsZW5kYXJTZXJ2aWNlKGNydWRTZXJ2aWNlLCBjYWNoZVNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmNhbGVuZGFyID0gbmV3IGNydWRTZXJ2aWNlKCdjYWxlbmRhcicpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZUNhbGVuZGFyOiBjcmVhdGVDYWxlbmRhcixcclxuXHRcdFx0ZGVsZXRlQ2FsZW5kYXI6IGRlbGV0ZUNhbGVuZGFyLFxyXG5cdFx0XHRnZXRDYWxlbmRhcnM6IGdldENhbGVuZGFycyxcclxuXHRcdFx0dXBkYXRlQ2FsZW5kYXI6IHVwZGF0ZUNhbGVuZGFyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZUNhbGVuZGFyKGNhbGVuZGFyKSB7XHJcblx0XHRcdHJldHVybiB2bS5jYWxlbmRhci5jcmVhdGUoY2FsZW5kYXIpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVDYWxlbmRhcihpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXIucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0Q2FsZW5kYXJzKCkge1xyXG5cdFx0XHRyZXR1cm4gY2FjaGVTZXJ2aWNlLmdldENhbGVuZGFycygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUNhbGVuZGFyKGlkLCBjYWxlbmRhcikge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXIudXBkYXRlKGlkLCBjYWxlbmRhcikudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcblx0XHRcdFx0Y2FjaGVTZXJ2aWNlLmNhY2hlQ2FsZW5kYXJzKCk7XHJcblx0XHRcdFx0cmV0dXJuIHJlc3VsdC5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnZXZlbnRNb2RhbFNlcnZpY2UnLCBldmVudE1vZGFsU2VydmljZSk7XHJcblxyXG5cdGV2ZW50TW9kYWxTZXJ2aWNlLiRpbmplY3QgPSBbJyR1aWJNb2RhbCcsICdtb21lbnQnLCAnZXZlbnRzU2VydmljZScsICdmb3JtYXRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gZXZlbnRNb2RhbFNlcnZpY2UoJHVpYk1vZGFsLCBtb21lbnQsIGV2ZW50c1NlcnZpY2UsIGZvcm1hdFNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG9wZW5FdmVudE1vZGFsOiBvcGVuRXZlbnRNb2RhbCxcclxuXHRcdFx0dG9nZ2xlQWxsRGF5OiB0b2dnbGVBbGxEYXlcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFdpdGhvdXQgY2xvbmluZyB0aGUgZXZlbnQsIGFueSBjaGFuZ2VzIG1hZGUgaW4gdGhlIG1vZGFsIHdpbGwgYmUgcmVmbGVjdGVkXHJcblx0XHQqIGluIHRoZSBtYWluIHdpbmRvdyByZWdhcmRsZXNzIG9mIGlmIHRoZSBjaGFuZ2VzIHdlcmUgc2F2ZWQgb3Igbm90LCB3aGljaFxyXG5cdFx0KiBtZWFucyBhIHVzZXIgd291bGQgbm90IGJlIGFibGUgdG8gY2FuY2VsIHRoZWlyIGNoYW5nZXMgdW5sZXNzIHRoZXkgcmVmcmVzaC5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBvcGVuRXZlbnRNb2RhbChldmVudCwgY2FsZW5kYXJzKSB7XHJcblx0XHRcdHZhciBjbG9uZWRFdmVudCA9IHt9O1xyXG5cdFx0XHRhbmd1bGFyLmV4dGVuZChjbG9uZWRFdmVudCwgZXZlbnQpO1xyXG5cdFx0XHRmb3JtYXRTZXJ2aWNlLmZvcm1hdEZvckRpc3BsYXkoY2xvbmVkRXZlbnQpO1xyXG5cclxuXHRcdFx0cmV0dXJuICR1aWJNb2RhbC5vcGVuKHtcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTW9kYWxDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL2V2ZW50cy9tb2RhbC9ldmVudC5tb2RhbC5odG1sJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRncm91cHM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FsZW5kYXJzOyB9LFxyXG5cdFx0XHRcdFx0aXRlbTogY2xvbmVkRXZlbnRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLnJlc3VsdFxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRmb3JtYXRTZXJ2aWNlLmZvcm1hdEZvclN0b3JhZ2UocmVzcG9uc2UpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGV2ZW50c1NlcnZpY2UuY3JlYXRlT3JVcGRhdGVFdmVudChyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0LnRoZW4oZXZlbnRzU2VydmljZS5nZXRFdmVudHMpO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRpZiAoTnVtYmVyKHJlc3BvbnNlKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXZlbnRzU2VydmljZS5kZWxldGVFdmVudChyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0XHQudGhlbihldmVudHNTZXJ2aWNlLmdldEV2ZW50cyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQWxsRGF5KGV2ZW50KSB7XHJcblx0XHRcdHZhciBkaXNwbGF5ID0gZm9ybWF0U2VydmljZS5nZXREaXNwbGF5Rm9ybWF0KCk7XHJcblxyXG5cdFx0XHRpZiAoZXZlbnQuYWxsX2RheSkge1xyXG5cdFx0XHRcdGV2ZW50LmR0X3N0YXJ0ID0gZm9ybWF0U2VydmljZS50b0Rpc3BsYXlGb3JtYXQobW9tZW50KGV2ZW50LmR0X3N0YXJ0LCBkaXNwbGF5KS5zdGFydE9mKCdkYXknKSk7XHJcblx0XHRcdFx0ZXZlbnQuZHRfZW5kID0gZm9ybWF0U2VydmljZS50b0Rpc3BsYXlGb3JtYXQobW9tZW50KGV2ZW50LmR0X3N0YXJ0LCBkaXNwbGF5KS5lbmRPZignZGF5JykpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBjdXJyZW50SG91ciA9IG1vbWVudCgpLnN0YXJ0T2YoJ2hvdXInKS5ob3VyKCk7XHJcblx0XHRcdFx0ZXZlbnQuZHRfc3RhcnQgPSBmb3JtYXRTZXJ2aWNlLnRvRGlzcGxheUZvcm1hdChtb21lbnQoZXZlbnQuZHRfc3RhcnQsIGRpc3BsYXkpLmhvdXIoY3VycmVudEhvdXIpKTtcclxuXHRcdFx0XHRldmVudC5kdF9lbmQgPSBmb3JtYXRTZXJ2aWNlLnRvRGlzcGxheUZvcm1hdChtb21lbnQoZXZlbnQuZHRfc3RhcnQsIGRpc3BsYXkpLmhvdXIoY3VycmVudEhvdXIpLmFkZCgxLCAnaG91cnMnKSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjYWxlbmRhcldpZGdldFNlcnZpY2UnLCBjYWxlbmRhcldpZGdldFNlcnZpY2UpO1xyXG5cclxuXHRjYWxlbmRhcldpZGdldFNlcnZpY2UuJGluamVjdCA9IFsnbW9tZW50JywgJ2V2ZW50TW9kYWxTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlKG1vbWVudCwgZXZlbnRNb2RhbFNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGRheUNsaWNrZWQ6IGRheUNsaWNrZWQsXHJcblx0XHRcdGdldE1vbnRoOiBnZXRNb250aCxcclxuXHRcdFx0Z2V0VG9kYXk6IGdldFRvZGF5LFxyXG5cdFx0XHRnZXRXZWVrOiBnZXRXZWVrLFxyXG5cdFx0XHRpc1NhbWVEYXk6IGlzU2FtZURheSxcclxuXHRcdFx0bGFzdE1vbnRoOiBsYXN0TW9udGgsXHJcblx0XHRcdG5leHRNb250aDogbmV4dE1vbnRoLFxyXG5cdFx0XHRzaG93RXZlbnRNb2RhbDogc2hvd0V2ZW50TW9kYWxcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGF5Q2xpY2tlZChjbGlja0V2ZW50LCBkYXksIHNlbGVjdGVkRGF5LCBjYWxlbmRhcnMpIHtcclxuXHRcdFx0aWYgKGlzU2FtZURheShkYXkuZnVsbERhdGUsIHNlbGVjdGVkRGF5KSkge1xyXG5cdFx0XHRcdHNob3dFdmVudE1vZGFsKFxyXG5cdFx0XHRcdFx0Y2xpY2tFdmVudCxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0ZHRfc3RhcnQ6IGRheS5mdWxsRGF0ZSxcclxuXHRcdFx0XHRcdFx0ZHRfZW5kOiBkYXkuZnVsbERhdGUuY2xvbmUoKS5lbmRPZignZGF5JyksXHJcblx0XHRcdFx0XHRcdGFsbF9kYXk6IDEsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0Y2FsZW5kYXJzXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRyZXR1cm4gc2VsZWN0ZWREYXk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGRheS5mdWxsRGF0ZTtcclxuXHRcdH1cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0ge01vbWVudCBPYmplY3R9IGFEYXkgRGF5IHRvIGJ1aWxkIG1vbnRoIGFyb3VuZC5cclxuXHRcdCogQHJldHVybiB7TW9tZW50IE9iamVjdFtdW119XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0TW9udGgoYURheSkge1xyXG5cdFx0XHR2YXIgbW9udGggPSBbXTtcclxuXHRcdFx0dmFyIGRheSA9IGFEYXkuY2xvbmUoKS5kYXRlKDEpLnN0YXJ0T2YoJ3dlZWsnKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuXHRcdFx0XHRtb250aC5wdXNoKGdldFdlZWsoZGF5LCBhRGF5Lm1vbnRoKCkpKTtcclxuXHRcdFx0XHRkYXkgPSBkYXkuYWRkKDEsICd3ZWVrcycpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBtb250aDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRUb2RheSgpIHtcclxuXHRcdFx0cmV0dXJuIG1vbWVudCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0ge01vbWVudCBPYmplY3R9XHRzdGFydERheVx0U3RhcnRpbmcgZGF5IG9mIGEgd2Vlay5cclxuXHRcdCogQHBhcmFtIHtpbnR9XHRcdFx0XHR0YXJnZXRNb250aFx0TW9udGggbnVtYmVyIGJlaW5nIGJ1aWx0LlxyXG5cdFx0KlxyXG5cdFx0KiBAcmV0dXJuIHtNb21lbnQgT2JqZWN0W119XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0V2VlayhzdGFydERheSwgdGFyZ2V0TW9udGgpIHtcclxuXHRcdFx0dmFyIHdlZWsgPSBbXTtcclxuXHJcblx0XHRcdHZhciBkYXkgPSBzdGFydERheS5jbG9uZSgpO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDc7IGkrKykge1xyXG5cdFx0XHRcdHdlZWsucHVzaCh7XHJcblx0XHRcdFx0XHRudW1iZXI6IGRheS5kYXRlKCksXHJcblx0XHRcdFx0XHRpc1RhcmdldE1vbnRoOiAoZGF5Lm1vbnRoKCkgPT09IHRhcmdldE1vbnRoKSxcclxuXHRcdFx0XHRcdGlzVG9kYXk6IGRheS5pc1NhbWUobW9tZW50KCksICdkYXknKSxcclxuXHRcdFx0XHRcdGZ1bGxEYXRlOiBkYXlcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRkYXkgPSBkYXkuY2xvbmUoKS5hZGQoMSwgJ2RheXMnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHdlZWs7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH1cdGRheTFcclxuXHRcdCogQHBhcmFtIHtNb21lbnQgT2JqZWN0fVx0ZGF5MlxyXG5cdFx0KlxyXG5cdFx0KiBAcmV0dXJuIHtib29sfVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGlzU2FtZURheShkYXkxLCBkYXkyKSB7XHJcblx0XHRcdHJldHVybiBkYXkxLmlzU2FtZShkYXkyLCAnZGF5Jyk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFNpbmNlIHNyY01vbnRoIGlzIGFuIGFycmF5IG9mIGRheXMgYnkgd2Vla3MsIGl0IGNvbnRhaW5zIGRheXMgbm90IGluIHRoZVxyXG5cdFx0KiBzb3VyY2UgbW9udGguIFRoZSBmaXJzdCBkYXkgb2YgdGhlIHRoaXJkIHdlZWsgb2YgdGhlIGdpdmVuIG1vbnRoIGlzXHJcblx0XHQqIGd1YXJhbnRlZWQgdG8gYmUgYSBkYXkgd2l0aGluIHRoZSBzb3VyY2UgbW9udGguXHJcblx0XHQqXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH1cdHNyY01vbnRoXHJcblx0XHQqIEByZXR1cm4ge01vbWVudCBPYmplY3RbXX1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBsYXN0TW9udGgoc3JjTW9udGgpIHtcclxuXHRcdFx0cmV0dXJuIGdldE1vbnRoKHNyY01vbnRoWzNdWzBdLmZ1bGxEYXRlLmNsb25lKCkuc3VidHJhY3QoMSwgJ21vbnRocycpKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHNlZSBsYXN0TW9udGgoKVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIG5leHRNb250aChzcmNNb250aCkge1xyXG5cdFx0XHRyZXR1cm4gZ2V0TW9udGgoc3JjTW9udGhbM11bMF0uZnVsbERhdGUuY2xvbmUoKS5hZGQoMSwgJ21vbnRocycpKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaG93RXZlbnRNb2RhbChjbGlja0V2ZW50LCBldmVudCwgY2FsZW5kYXJzKSB7XHJcblx0XHRcdGNsaWNrRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdGV2ZW50TW9kYWxTZXJ2aWNlLm9wZW5FdmVudE1vZGFsKGV2ZW50LCBjYWxlbmRhcnMpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3JlY3VycmVuY2VNb2RhbFNlcnZpY2UnLCByZWN1cnJlbmNlTW9kYWxTZXJ2aWNlKTtcclxuXHJcblx0cmVjdXJyZW5jZU1vZGFsU2VydmljZS4kaW5qZWN0ID0gWyckdWliTW9kYWwnLCAncmVjdXJyZW5jZVNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiByZWN1cnJlbmNlTW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgcmVjdXJyZW5jZVNlcnZpY2UpIHtcclxuXHRcdHZhciByYyA9IHRoaXM7IC8vIGpzaGludCBpZ25vcmU6IGxpbmVcclxuXHRcdHZhciByZWN1cnJlbmNlSW5mbyA9IHtcclxuXHRcdFx0ZnJlcTogWydob3VybHknLCAnZGFpbHknLCAnd2Vla2x5JywgJ21vbnRobHknLCAneWVhcmx5J10sXHJcblx0XHRcdGRheXM6IFsnbW8nLCAndHUnLCAnd2UnLCAndGgnLCAnZnInLCAnc2EnLCAnc3UnXVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuUmVjdXJyZW5jZU1vZGFsOiBvcGVuUmVjdXJyZW5jZU1vZGFsXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIG9wZW5SZWN1cnJlbmNlTW9kYWwoaXRlbSkge1xyXG5cdFx0XHRyZXR1cm4gJHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdNb2RhbENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcmVjdXJyZW5jZS9tb2RhbC9yZWN1cnJlbmNlLm1vZGFsLmh0bWwnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGdyb3VwczogZnVuY3Rpb24oKSB7IHJldHVybiByZWN1cnJlbmNlSW5mbzsgfSxcclxuXHRcdFx0XHRcdGl0ZW06IGl0ZW1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLnJlc3VsdFxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRyZWN1cnJlbmNlU2VydmljZS5jb25zdHJ1Y3RSZWN1cnJlbmNlKGl0ZW0pO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRyZWN1cnJlbmNlU2VydmljZS5jbGVhclJlY3VycmVuY2UoaXRlbSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnbGFiZWxTZXJ2aWNlJywgbGFiZWxTZXJ2aWNlKTtcclxuXHJcblx0bGFiZWxTZXJ2aWNlLiRpbmplY3QgPSBbJ2NydWRTZXJ2aWNlJywgJ2NhY2hlU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGxhYmVsU2VydmljZShjcnVkU2VydmljZSwgY2FjaGVTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5sYWJlbCA9IG5ldyBjcnVkU2VydmljZSgnbGFiZWwnKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVMYWJlbDogY3JlYXRlTGFiZWwsXHJcblx0XHRcdGRlbGV0ZUxhYmVsOiBkZWxldGVMYWJlbCxcclxuXHRcdFx0Z2V0TGFiZWxzOiBnZXRMYWJlbHMsXHJcblx0XHRcdHVwZGF0ZUxhYmVsOiB1cGRhdGVMYWJlbFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVMYWJlbChsYWJlbCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWwuY3JlYXRlKGxhYmVsKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlTGFiZWwoaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmxhYmVsLnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldExhYmVscygpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlU2VydmljZS5nZXRMYWJlbHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVMYWJlbChpZCwgbGFiZWwpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmxhYmVsLnVwZGF0ZShpZCwgbGFiZWwpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0dmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdGlmIChyZXMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdGNhY2hlU2VydmljZS5jYWNoZUxhYmVscygpO1xyXG5cdFx0XHRcdHJldHVybiByZXMuZGF0YTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzLnRpdGxlO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3N1YnRhc2tNb2RhbFNlcnZpY2UnLCBzdWJ0YXNrTW9kYWxTZXJ2aWNlKTtcclxuXHJcblx0c3VidGFza01vZGFsU2VydmljZS4kaW5qZWN0ID0gWyckdWliTW9kYWwnLCAnbGFiZWxTZXJ2aWNlJywgJ3N1YnRhc2tzU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIHN1YnRhc2tNb2RhbFNlcnZpY2UoJHVpYk1vZGFsLCBsYWJlbFNlcnZpY2UsIHN1YnRhc2tzU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0b3BlblN1YnRhc2tNb2RhbDogb3BlblN1YnRhc2tNb2RhbFxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogV2l0aG91dCBjbG9uaW5nIHRoZSBzdWJ0YXNrLCBhbnkgY2hhbmdlcyBtYWRlIGluIHRoZSBtb2RhbCB3aWxsIGJlIHJlZmxlY3RlZFxyXG5cdFx0KiBpbiB0aGUgbWFpbiB3aW5kb3cgcmVnYXJkbGVzcyBvZiBpZiB0aGUgY2hhbmdlcyB3ZXJlIHNhdmVkIG9yIG5vdCwgd2hpY2hcclxuXHRcdCogbWVhbnMgYSB1c2VyIHdvdWxkIG5vdCBiZSBhYmxlIHRvIGNhbmNlbCB0aGVpciBjaGFuZ2VzIHVubGVzcyB0aGV5IHJlZnJlc2guXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gb3BlblN1YnRhc2tNb2RhbChzdWJ0YXNrLCB0YXNrKSB7XHJcblx0XHRcdHZhciBjbG9uZWRTdWJ0YXNrID0ge307XHJcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKGNsb25lZFN1YnRhc2ssIHN1YnRhc2spO1xyXG5cclxuXHRcdFx0JHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdNb2RhbENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdGFza3MvbW9kYWwvc3VidGFzay5tb2RhbC5odG1sJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRncm91cHM6IHRhc2ssXHJcblx0XHRcdFx0XHRpdGVtOiBjbG9uZWRTdWJ0YXNrXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdHN1YnRhc2tzU2VydmljZS5jcmVhdGVPclVwZGF0ZVN1YnRhc2socmVzLnN1YnRhc2ssIHJlcy50YXNrKTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgcmVzICE9PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0XHRzdWJ0YXNrc1NlcnZpY2UuZGVsZXRlU3VidGFzayhyZXMuc3VidGFzaywgcmVzLnRhc2spO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3Rhc2tNb2RhbFNlcnZpY2UnLCB0YXNrTW9kYWxTZXJ2aWNlKTtcclxuXHJcblx0dGFza01vZGFsU2VydmljZS4kaW5qZWN0ID0gWyckdWliTW9kYWwnLCAndGFza3NTZXJ2aWNlJywgJ2Zvcm1hdFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiB0YXNrTW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgdGFza3NTZXJ2aWNlLCBmb3JtYXRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0b3BlblRhc2tNb2RhbDogb3BlblRhc2tNb2RhbFxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogV2l0aG91dCBjbG9uaW5nIHRoZSB0YXNrLCBhbnkgY2hhbmdlcyBtYWRlIGluIHRoZSBtb2RhbCB3aWxsIGJlIHJlZmxlY3RlZFxyXG5cdFx0KiBpbiB0aGUgbWFpbiB3aW5kb3cgcmVnYXJkbGVzcyBvZiBpZiB0aGUgY2hhbmdlcyB3ZXJlIHNhdmVkIG9yIG5vdCwgd2hpY2hcclxuXHRcdCogbWVhbnMgYSB1c2VyIHdvdWxkIG5vdCBiZSBhYmxlIHRvIGNhbmNlbCB0aGVpciBjaGFuZ2VzIHVubGVzcyB0aGV5IHJlZnJlc2guXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gb3BlblRhc2tNb2RhbCh0YXNrLCBsYWJlbHMpIHtcclxuXHRcdFx0dmFyIGNsb25lZFRhc2sgPSB7fTtcclxuXHRcdFx0YW5ndWxhci5leHRlbmQoY2xvbmVkVGFzaywgdGFzayk7XHJcblx0XHRcdGZvcm1hdFNlcnZpY2UuZm9ybWF0Rm9yRGlzcGxheShjbG9uZWRUYXNrKTtcclxuXHJcblx0XHRcdHJldHVybiAkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy9tb2RhbC90YXNrLm1vZGFsLmh0bWwnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGdyb3VwczogZnVuY3Rpb24oKSB7IHJldHVybiBsYWJlbHM7IH0sXHJcblx0XHRcdFx0XHRpdGVtOiBjbG9uZWRUYXNrXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmVzcG9uc2UgPSBmb3JtYXRTZXJ2aWNlLmZvcm1hdEZvclN0b3JhZ2UocmVzcG9uc2UpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRhc2tzU2VydmljZS5jcmVhdGVPclVwZGF0ZVRhc2socmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdC50aGVuKHRhc2tzU2VydmljZS5nZXRUYXNrcyk7XHJcblx0XHRcdFx0fSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdGlmIChOdW1iZXIocmVzcG9uc2UpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB0YXNrc1NlcnZpY2UuZGVsZXRlVGFzayhyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0XHQudGhlbih0YXNrc1NlcnZpY2UuZ2V0VGFza3MpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1N1YnRhc2tzQ29udHJvbGxlcicsIFN1YnRhc2tzQ29udHJvbGxlcik7XHJcblxyXG5cdFN1YnRhc2tzQ29udHJvbGxlci4kaW5qZWN0ID0gWydzdWJ0YXNrc1NlcnZpY2UnLCAnc3VidGFza01vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFN1YnRhc2tzQ29udHJvbGxlcihzdWJ0YXNrc1NlcnZpY2UsIHN1YnRhc2tNb2RhbFNlcnZpY2UpIHtcclxuXHRcdHZhciBzdCA9IHRoaXM7XHJcblx0XHRzdC5zaG93U3VidGFza01vZGFsID0gc2hvd1N1YnRhc2tNb2RhbDtcclxuXHRcdHN0LnRvZ2dsZUNvbXBsZXRlZCA9IHRvZ2dsZUNvbXBsZXRlZDtcclxuXHJcblx0XHRmdW5jdGlvbiBzaG93U3VidGFza01vZGFsKHN1YnRhc2spIHtcclxuXHRcdFx0c3VidGFza01vZGFsU2VydmljZS5vcGVuU3VidGFza01vZGFsKHN1YnRhc2ssIHN0LnRhc2spO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZChzdWJ0YXNrKSB7XHJcblx0XHRcdHN1YnRhc2tzU2VydmljZS50b2dnbGVDb21wbGV0ZWQoc3VidGFzayk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlU3VidGFza3MocmVzcG9uc2UpIHtcclxuXHRcdFx0aWYgKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0c3Quc3VidGFza3MgPSByZXNwb25zZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFN1YnRhc2tzJywgc3VidGFza3NEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBzdWJ0YXNrc0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy9zdWJ0YXNrcy9zdWJ0YXNrcy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1N1YnRhc2tzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3N0JyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHR0YXNrOiAnPSdcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3N1YnRhc2tzU2VydmljZScsIHN1YnRhc2tzU2VydmljZSk7XHJcblxyXG5cdHN1YnRhc2tzU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gc3VidGFza3NTZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVPclVwZGF0ZVN1YnRhc2s6IGNyZWF0ZU9yVXBkYXRlU3VidGFzayxcclxuXHRcdFx0ZGVsZXRlU3VidGFzazogZGVsZXRlU3VidGFzayxcclxuXHRcdFx0dG9nZ2xlQ29tcGxldGVkOiB0b2dnbGVDb21wbGV0ZWRcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVTdWJ0YXNrKHN1YnRhc2ssIHRhc2spIHtcclxuXHRcdFx0aWYgKCF0YXNrLnN1YnRhc2tzKSB7XHJcblx0XHRcdFx0dGFzay5zdWJ0YXNrcyA9IHtcclxuXHRcdFx0XHRcdGN1cnJlbnRJZDogMSxcclxuXHRcdFx0XHRcdGxpc3Q6IFtdXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHN1YnRhc2suaWQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHN1YnRhc2suaWQgPSB0YXNrLnN1YnRhc2tzLmN1cnJlbnRJZCsrO1xyXG5cdFx0XHRcdHN1YnRhc2suY29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdFx0dGFzay5zdWJ0YXNrcy5saXN0LnB1c2goc3VidGFzayk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVTdWJ0YXNrKHN1YnRhc2ssIHRhc2spIHtcclxuXHRcdFx0dGFzay5zdWJ0YXNrcy5saXN0LnNwbGljZSh0YXNrLnN1YnRhc2tzLmxpc3QuaW5kZXhPZihzdWJ0YXNrKSwgMSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQ29tcGxldGVkKHN1YnRhc2spIHtcclxuXHRcdFx0c3VidGFzay5jb21wbGV0ZWQgPSAhc3VidGFzay5jb21wbGV0ZWQ7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignSGVhZGVyQ29udHJvbGxlcicsIEhlYWRlckNvbnRyb2xsZXIpO1xyXG5cclxuXHRIZWFkZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAndXNlcicsICdoZWFkZXJTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gSGVhZGVyQ29udHJvbGxlcigkcm9vdFNjb3BlLCB1c2VyLCBoZWFkZXJTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0udXNlciA9IHVzZXI7XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0JHJvb3RTY29wZS4kb24oJ3VwZGF0ZVVzZXInLCB1cGRhdGVVc2VyKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVVc2VyKCkge1xyXG5cdFx0XHRoZWFkZXJTZXJ2aWNlLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dm0udXNlciA9IHJlc3BvbnNlO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2hlYWRlclNlcnZpY2UnLCBoZWFkZXJTZXJ2aWNlKTtcclxuXHJcblx0aGVhZGVyU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gaGVhZGVyU2VydmljZSgkaHR0cCwgJGxvZywgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFVzZXI6IGdldFVzZXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlcigpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignYWxsJylcclxuXHRcdFx0XHQudGhlbihnZXROYW1lQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0TmFtZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblxyXG5cdFx0XHRcdGlmIChyZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdHJldHVybiB7IG5hbWU6ICcnLCBhdmF0YXI6ICdjb250ZW50L2ltZy91c2VyLnBuZycgfTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiByZXN1bHQuZGF0YTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1NpZGViYXJDb250cm9sbGVyJywgU2lkZWJhckNvbnRyb2xsZXIpO1xyXG5cclxuXHRTaWRlYmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ2xhYmVsU2VydmljZScsICdjYWxlbmRhclNlcnZpY2UnLCAnc2lkZWJhclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBTaWRlYmFyQ29udHJvbGxlcigkcm9vdFNjb3BlLCBsYWJlbFNlcnZpY2UsIGNhbGVuZGFyU2VydmljZSwgc2lkZWJhclNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5jb2xsYXBzZWQgPSB7fTtcclxuXHRcdHZtLmxhYmVscyA9IFtdO1xyXG5cdFx0dm0uY2FsZW5kYXJzID0gW107XHJcblx0XHR2bS50b2dnbGVTaWRlYmFyID0gdG9nZ2xlU2lkZWJhcjtcclxuXHRcdHZtLnRvZ2dsZUNhbGVuZGFycyA9IHRvZ2dsZUNhbGVuZGFycztcclxuXHRcdHZtLnRvZ2dsZUxhYmVscyA9IHRvZ2dsZUxhYmVscztcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHR1cGRhdGVDYWxlbmRhcnMoKTtcclxuXHRcdFx0dXBkYXRlTGFiZWxzKCk7XHJcblxyXG5cdFx0XHR2bS5jb2xsYXBzZWQgPSBzaWRlYmFyU2VydmljZS5nZXRDb2xsYXBzZWQoKTtcclxuXHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCd1cGRhdGVDYWxlbmRhcnMnLCB1cGRhdGVDYWxlbmRhcnMpO1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRvbigndXBkYXRlTGFiZWxzJywgdXBkYXRlTGFiZWxzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkge1xyXG5cdFx0XHR2bS5jb2xsYXBzZWQgPSBzaWRlYmFyU2VydmljZS50b2dnbGVTaWRlYmFyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQ2FsZW5kYXJzKCkge1xyXG5cdFx0XHR2bS5jb2xsYXBzZWQgPSBzaWRlYmFyU2VydmljZS50b2dnbGVDYWxlbmRhcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVMYWJlbHMoKSB7XHJcblx0XHRcdHZtLmNvbGxhcHNlZCA9IHNpZGViYXJTZXJ2aWNlLnRvZ2dsZUxhYmVscygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUNhbGVuZGFycygpIHtcclxuXHRcdFx0dm0uY2FsZW5kYXJzID0gY2FsZW5kYXJTZXJ2aWNlLmdldENhbGVuZGFycygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUxhYmVscygpIHtcclxuXHRcdFx0dm0ubGFiZWxzID0gbGFiZWxTZXJ2aWNlLmdldExhYmVscygpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnc2lkZWJhclNlcnZpY2UnLCBzaWRlYmFyU2VydmljZSk7XHJcblxyXG5cdHNpZGViYXJTZXJ2aWNlLiRpbmplY3QgPSBbJyR3aW5kb3cnXTtcclxuXHRmdW5jdGlvbiBzaWRlYmFyU2VydmljZSgkd2luZG93KSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXHJcblx0XHR2bS5jb2xsYXBzZWQgPSB7fTtcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldENvbGxhcHNlZDogZ2V0Q29sbGFwc2VkLFxyXG5cdFx0XHR0b2dnbGVTaWRlYmFyOiB0b2dnbGVTaWRlYmFyLFxyXG5cdFx0XHR0b2dnbGVDYWxlbmRhcnM6IHRvZ2dsZUNhbGVuZGFycyxcclxuXHRcdFx0dG9nZ2xlTGFiZWxzOiB0b2dnbGVMYWJlbHNcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGlmICgkd2luZG93LmlubmVyV2lkdGggPCA2MDApIHtcclxuXHRcdFx0XHR2bS5jb2xsYXBzZWQgPSB7XHJcblx0XHRcdFx0XHRzaWRlYmFyOiB0cnVlLFxyXG5cdFx0XHRcdFx0Y2FsZW5kYXJzOiB0cnVlLFxyXG5cdFx0XHRcdFx0bGFiZWxzOiB0cnVlXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2bS5jb2xsYXBzZWQgPSB7XHJcblx0XHRcdFx0XHRzaWRlYmFyOiBmYWxzZSxcclxuXHRcdFx0XHRcdGNhbGVuZGFyczogZmFsc2UsXHJcblx0XHRcdFx0XHRsYWJlbHM6IGZhbHNlXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENvbGxhcHNlZCgpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNvbGxhcHNlZDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkge1xyXG5cdFx0XHR2bS5jb2xsYXBzZWQuc2lkZWJhciA9ICF2bS5jb2xsYXBzZWQuc2lkZWJhcjtcclxuXHRcdFx0aWYgKHZtLmNvbGxhcHNlZC5zaWRlYmFyKSB7XHJcblx0XHRcdFx0dm0uY29sbGFwc2VkLmNhbGVuZGFycyA9IHRydWU7XHJcblx0XHRcdFx0dm0uY29sbGFwc2VkLmxhYmVscyA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHZtLmNvbGxhcHNlZDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVDYWxlbmRhcnMoKSB7XHJcblx0XHRcdHZtLmNvbGxhcHNlZC5jYWxlbmRhcnMgPSAhdm0uY29sbGFwc2VkLmNhbGVuZGFycztcclxuXHRcdFx0aWYgKCF2bS5jb2xsYXBzZWQuY2FsZW5kYXJzKSB7XHJcblx0XHRcdFx0dm0uY29sbGFwc2VkLnNpZGViYXIgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdm0uY29sbGFwc2VkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUxhYmVscygpIHtcclxuXHRcdFx0dm0uY29sbGFwc2VkLmxhYmVscyA9ICF2bS5jb2xsYXBzZWQubGFiZWxzO1xyXG5cdFx0XHRpZiAoIXZtLmNvbGxhcHNlZC5sYWJlbHMpIHtcclxuXHRcdFx0XHR2bS5jb2xsYXBzZWQuc2lkZWJhciA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB2bS5jb2xsYXBzZWQ7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
