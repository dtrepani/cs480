!function(){"use strict";function e(e,t){e.$on("$stateChangeError",t.stateChangeError)}angular.module("app",["ui.router","ui.bootstrap","angularMoment"]).controller("AppController",e),e.$inject=["$rootScope","appService"]}(),function(){"use strict";function e(e,t){function n(e){return e.cacheAll()}function r(e){return e.getCalendars()}function a(e){return e.getEvents()}function o(e){return e.getLabels()}function c(e){return e.getTasks()}function u(e){return e.getUser()}function s(e){return e.isAuthenticated()}e.state("root",{url:"",templateUrl:"index.html","abstract":!0,resolve:{cache:["cacheService",n],user:["headerService",u]},views:{header:{templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"hc"},sidebar:{templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"sc"}}}).state("login",{url:"/login",parent:"root",views:{"content@":{templateUrl:"modules/login/login.html",controller:"LoginController",controllerAs:"vm"}}}).state("logout",{url:"/logout",parent:"root",views:{"content@":{templateUrl:"modules/logout/logout.html",controller:"LogoutController",controllerAs:"vm"}}}).state("register",{url:"/register",parent:"root",views:{"content@":{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm"}}}).state("dashboard",{url:"/dashboard",parent:"root",views:{"content@":{templateUrl:"pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",s]}}}}).state("labels",{url:"/labels",parent:"root"}).state("labels.label",{url:"/:labelId",views:{"content@":{template:"In progress"}}}).state("inbox",{url:"/inbox",parent:"root",views:{"content@":{templateUrl:"pages/tasks/inbox.html",controller:"ActivityController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",s],items:["tasksService",c],groups:["labelService",o]}}}}).state("today",{url:"/today",parent:"root",views:{"content@":{templateUrl:"pages/tasks/today.html",controller:"ActivityController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",s],items:["tasksService",c],groups:["labelService",o]}}}}).state("week",{url:"/week",parent:"root",views:{"content@":{templateUrl:"pages/tasks/week.html",controller:"ActivityController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",s],items:["tasksService",c],groups:["labelService",o]}}}}).state("calendar",{url:"/calendar",parent:"root",views:{"content@":{templateUrl:"pages/calendar/calendar.html",controller:"ActivityController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",s],items:["eventsService",a],groups:["calendarService",r]}}}}),t.otherwise("/dashboard")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e,t){function n(n,r,a,o){o===t.UNAUTHORIZED?e.path("/login"):o===t.FORBIDDEN&&e.path("/forbidden")}return{stateChangeError:n}}angular.module("app").factory("appService",e),e.$inject=["$location","statusService"]}(),function(){"use strict";function e(){return function(e,t){if(!t)return e;for(var n=[],r=0;r<e.length;r++)(e[r].label_id===t||e[r].calendar_id===t)&&n.push(e[r]);return n}}angular.module("app").filter("inGroups",e),e.$inject=[]}(),function(){"use strict";function e(e){return function(t,n){for(var r=[],a=0;a<t.length;a++){var o=n.isSame(e(t[a].dt_start),"day");o||(o=n.isSame(e(t[a].dt_end),"day")),o&&r.push(t[a])}return r}}angular.module("app").filter("sameDayAs",e),e.$inject=["moment"]}(),function(){"use strict";function e(e){return function(t,n){if(!n)return t;for(var r=[],a=0;a<t.length;a++){(!t[a].due||t[a].due&&e(t[a].due).isBefore(e().add(n,"days")))&&r.push(t[a])}return r}}angular.module("app").filter("withinDays",e),e.$inject=["moment"]}(),function(){"use strict";function e(e){}angular.module("app").controller("ActivityController",e),e.$inject=["isAuthenticated"]}(),function(){"use strict";function e(e,t){function n(){e.all([r(),a(),o(),c()]).then(function(e){s()})}function r(){p.calendar=new t("calendar"),p.calendar.getByUser().then(function(e){p.calendars=u(e)})}function a(){p.event=new t("event"),p.event.getByUser().then(function(e){p.events=u(e)})}function o(){p.label=new t("label"),p.label.getByUser().then(function(e){p.labels=u(e)})}function c(){p.task=new t("task"),p.task.getByUser().then(function(e){p.tasks=u(e)})}function u(e){var t=e.data;return t.success?t.data:t.title}function s(){return{calendars:l(),events:i(),labels:d(),tasks:f()}}function l(){return p.calendars}function i(){return p.events}function d(){return p.labels}function f(){return p.tasks}var p=this;return p.calendars=[],p.events=[],p.labels=[],p.tasks=[],{cacheAll:n,cacheCalendars:r,cacheEvents:a,cacheLabels:o,cacheTasks:c,getAll:s,getCalendars:l,getEvents:i,getLabels:d,getTasks:f}}angular.module("app").service("cacheService",e),e.$inject=["$q","crudService"]}(),function(){"use strict";function e(e,t){function n(e){switch(this.type=e,this.base="api/",e){case"event":case"calendar":this.base+="activity/calendar/";break;case"label":case"task":this.base+="activity/task/";break;default:this.base+=e+"/"}this.base+=e+"Manager.php"}function r(t){return e.get(this.base+"?id="+t).then(l)["catch"](i)}function a(){return e.get(this.base+"?byuser=true").then(l)["catch"](i)}function o(t){return t=this.removeUnecessaryKeys(t),e.post(this.base,t).then(l)["catch"](i)}function c(t,n){return n=this.removeUnecessaryKeys(n),e.put(this.base+"?id="+t,n).then(l)["catch"](i)}function u(t){return e["delete"](this.base+"?id="+t).then(l)["catch"](i)}function s(t){return e["delete"](this.base+"?usewhere=true&where="+escape(t)).then(l)["catch"](i)}function l(e){return e}function i(e){return t.error(e),{success:"false",title:"Error when querying server.",message:e}}function d(e){for(var t=["id","person_id",this.type+"_id","activity_info_id","parent_name"],n=0;n<t.length;n++)delete e[t[n]];return e}var f=n;return f.prototype={get:r,getByUser:a,create:o,update:c,remove:u,removeWhere:s,removeUnecessaryKeys:d},f}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t){function n(t){return e.get(c.base+t).then(a)["catch"](o)}function r(t,n){return e.post(c.base+t,n).then(a)["catch"](o)}function a(e){return e}function o(e){return t.error(e),{success:"false",title:"Error when accessing variable.",message:e}}var c=this;return c.base="api/session/sessionVarManager.php?var=",{getVar:n,setVar:r}}angular.module("app").factory("sessionService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t,n,r,a){function o(){f.today=t.getToday(),f.selectedDay=f.today,f.month=t.getMonth(f.today)}function c(e){return t.getEndOfDay(e)}function u(e){return t.isSameDay(e,f.selectedDay)}function s(e){f.selectedDay=e.fullDate}function l(e){a.openEventModal(e,f.calendars)}function i(){f.month=t.lastMonth(f.month)}function d(){f.month=t.nextMonth(f.month)}var f=this;f.events=function(){return r.getEvents()},f.calendar=function(){return n.getCalendars()},f.today=null,f.selectedDay=null,f.month=null,f.isSameDayAsSelected=u,f.getEndOfDay=c,f.selectDay=s,f.showEventModal=l,f.lastMonth=i,f.nextMonth=d,o()}angular.module("app").controller("EventsController",e),e.$inject=["moment","calendarWidgetService","calendarService","eventsService","eventModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/events/events.html",controller:"EventsController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spEvents",e)}(),function(){"use strict";function e(e,t){function n(e){return s.event.create(e).then(u)}function r(e){return e.event_id?c(e.event_id,e):n(e)}function a(e){return s.event.remove(e).then(u)}function o(){return t.getEvents()}function c(e,t){return s.event.update(e,t).then(u)}function u(e){var n=e.data;return n.success?(t.cacheEvents(),n.data):n.title}var s=this;return s.event=new e("event"),{createEvent:n,createOrUpdateEvent:r,deleteEvent:a,getEvents:o,updateEvent:c}}angular.module("app").factory("eventsService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(){function e(e,t,n,r){t[0].focus()}return{restrict:"A",link:e}}angular.module("app").directive("spAutoFocus",e)}(),function(){"use strict";function e(){function e(e,t,n,r){function a(){u()}function o(t){return t===e.otherModel.$viewValue}function c(e,t){r.$validate()}var u=e.$watch("otherModel",c);r.$validators.spCompareTo=o,t.on("$destroy",a)}return{require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e}}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.login(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.loading=!1,n.error="",n.login=t}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,t,n){function r(r){function a(e){return e.data.success===!1?e.data.title:void t.path("/dashboard")}function o(e){return n.error(e),"Something went wrong. Please try again."}return e.post("api/user/loginManager.php",r).then(a)["catch"](o)}return{login:r}}angular.module("app").factory("loginService",e),e.$inject=["$http","$location","$log"]}(),function(){"use strict";function e(e,t,n){function r(){e.dismiss("cancel")}function a(){e.close()}function o(t){e.close(t)}function c(t){e.dismiss(t)}var u=this;u.groups=t,u.item=n,u.cancel=r,u.close=a,u.confirm=o,u.remove=c}angular.module("app").controller("ModalController",e),e.$inject=["$uibModalInstance","groups","item"]}(),function(){"use strict";function e(e){function t(){n.item.recurrence&&e.openRecurrenceModal(n.item)}var n=this;n.showRecurrenceModal=t}angular.module("app").controller("RecurrenceController",e),e.$inject=["recurrenceModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/recurrence/recurrence.html",controller:"RecurrenceController",controllerAs:"rc",bindToController:!0,scope:{item:"="}}}angular.module("app").directive("spRepeat",e)}(),function(){"use strict";function e(){function e(e){e.recurrence=!1}function t(e){}return{clearRecurrence:e,constructRecurrence:t}}angular.module("app").factory("recurrenceService",e)}(),function(){"use strict";function e(e,t,n){function r(e){n.openTaskModal(e,o.labels())}function a(t){e.toggleCompleted(t)}var o=this;o.tasks=function(){return e.getTasks()},o.labels=function(){return t.getLabels()},o.showTaskModal=r,o.toggleCompleted=a}angular.module("app").controller("TasksController",e),e.$inject=["tasksService","labelService","taskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/tasks/tasks.html",controller:"TasksController",controllerAs:"vm",bindToController:!0,scope:{order:"=",days:"=withinDays",inLabels:"=inGroups"}}}angular.module("app").directive("spTasks",e)}(),function(){"use strict";function e(e,t){function n(e){return l.task.create(e).then(s)}function r(e){return e.task_id?u(e.task_id,e):n(e)}function a(e){return l.task.remove(e).then(s)}function o(){return t.getTasks()}function c(e){return e.completed=!parseInt(e.completed),u(e.task_id,e).then(o)}function u(e,t){return l.task.update(e,t).then(s)}function s(e){var n=e.data;return n.success?(t.cacheTasks(),n.data):n.title}var l=this;return l.task=new e("task"),{createTask:n,createOrUpdateTask:r,deleteTask:a,getTasks:o,toggleCompleted:c,updateTask:u}}angular.module("app").factory("tasksService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e,t,n){function r(e,t){return n.uploadFile(e).then(function(e){return e})}var a=this;a.uploadFile=r}angular.module("app").controller("UploadController",e),e.$inject=["$scope","$http","uploadService"]}(),function(){"use strict";function e(e){function t(t,n,r){function a(e){t.$apply(function(){var e=n[0].files[0];e.size<=o?t.uc.uploadFile(e).then(function(e){t.spFileChange=e}):alert("File must be less than "+o/1024/1024+"MB.")})}var o=2097152;e(r.spFileChange);n[0].addEventListener("change",a,!1)}return{restrict:"A",controller:"UploadController",controllerAs:"uc",link:t,scope:{spFileChange:"="}}}angular.module("app").directive("spFileChange",e),e.$inject=["$parse"]}(),function(){"use strict";function e(e,t){function n(n){var r=new FormData;return r.append("file",n),e.post("api/upload/uploadManager.php",r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return e.data.success?e.data.data:(t.error(e.title),"")})["catch"](function(e){t.error(e)})}return{uploadFile:n}}angular.module("app").factory("uploadService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e){}angular.module("app").controller("DashboardController",e),e.$inject=["isAuthenticated"]}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.register(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.error="",n.loading=!1,n.register=t}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,t,n){function r(n){function r(n){return"false"===n.success?(t.error(n.title),n.title):void e.url("/login")}return a.crud.create(n).then(r)}var a=this;return a.crud=new n("user"),{register:r}}angular.module("app").factory("registerService",e),e.$inject=["$location","$log","crudService"]}(),function(){"use strict";function e(e,t,n,r){function a(){function e(e){return e.data.success!==!1?c.resolve(r.OK):c.reject(r.UNAUTHORIZED),c.promise}return n.getVar("name").then(e)}function o(){}var c=t.defer();return{isAuthenticated:a,isAdmin:o}}angular.module("app").factory("accessService",e),e.$inject=["$location","$q","sessionService","statusService"]}(),function(){"use strict";function e(){return{OK:200,UNAUTHORIZED:401,FORBIDDEN:403}}angular.module("app").service("statusService",e)}(),function(){"use strict";function e(e,t){function n(e){return u.calendar.create(e).then(c)}function r(e){return u.calendar.remove(e).then(c)}function a(){return t.getCalendars()}function o(e,t){return u.calendar.update(e,t).then(c)}function c(e){var n=e.data;return n.success?(t.cacheCalendars(),n.data):n.title}var u=this;return u.calendar=new e("calendar"),{createCalendar:n,deleteCalendar:r,getCalendars:a,updateCalendar:o}}angular.module("app").factory("calendarService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/events/modal/event.modal.html",resolve:{groups:function(){return r},item:t}}).result.then(function(e){return n.createOrUpdateEvent(e).then(n.getEvents)},function(e){return Number(e)?n.deleteEvent(e).then(n.getEvents):void 0})}return{openEventModal:r}}angular.module("app").factory("eventModalService",e),e.$inject=["$uibModal","calendarService","eventsService"]}(),function(){"use strict";function e(e){function t(e){return e.clone().add(1,"day").subtract(1,"ms")}function n(e){for(var t=[],n=e.clone().date(1).startOf("week"),r=0;6>r;r++)t.push(a(n,e.month())),n=n.add(1,"weeks");return t}function r(){return e()}function a(t,n){for(var r=[],a=t.clone(),o=0;7>o;o++)r.push({number:a.date(),isTargetMonth:a.month()===n,isToday:a.isSame(e(),"day"),fullDate:a}),a=a.clone().add(1,"days");return r}function o(e,t){return e.isSame(t,"day")}function c(e){return n(e[3][0].fullDate.clone().subtract(1,"months"))}function u(e){return n(e[3][0].fullDate.clone().add(1,"months"))}return{getEndOfDay:t,getMonth:n,getToday:r,getWeek:a,isSameDay:o,lastMonth:c,nextMonth:u}}angular.module("app").factory("calendarWidgetService",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t){function n(n){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/recurrence/modal/recurrence.modal.html",resolve:{groups:function(){return r},item:n}}).result.then(function(e){t.constructRecurrence(n)},function(e){t.clearRecurrence(n)})}var r={freq:["hourly","daily","weekly","monthly","yearly"],days:["mo","tu","we","th","fr","sa","su"]};return{openRecurrenceModal:n}}angular.module("app").factory("recurrenceModalService",e),e.$inject=["$uibModal","recurrenceService"]}(),function(){"use strict";function e(e,t){function n(e){return u.label.create(e).then(c)}function r(e){return u.label.remove(e).then(c)}function a(){return t.getLabels()}function o(e,t){return u.label.update(e,t).then(c)}function c(e){var n=e.data;return n.success?(t.cacheLabels(),n.data):n.title}var u=this;return u.label=new e("label"),{createLabel:n,deleteLabel:r,getLabels:a,updateLabel:o}}angular.module("app").factory("labelService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/tasks/modal/subtask.modal.html",resolve:{groups:r,item:t}}).result.then(function(e){n.createOrUpdateSubtask(e.subtask,e.task)},function(e){"string"!=typeof e&&n.deleteSubtask(e.subtask,e.task)})}return{openSubtaskModal:r}}angular.module("app").factory("subtaskModalService",e),e.$inject=["$uibModal","labelService","subtasksService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/tasks/modal/task.modal.html",resolve:{groups:function(){return r},item:t}}).result.then(function(e){return n.createOrUpdateTask(e).then(n.getTasks)},function(e){return Number(e)?n.deleteTask(e).then(n.getTasks):void 0})}return{openTaskModal:r}}angular.module("app").factory("taskModalService",e),e.$inject=["$uibModal","labelService","tasksService"]}(),function(){"use strict";function e(e,t){function n(e){t.openSubtaskModal(e,a.task)}function r(t){e.toggleCompleted(t)}var a=this;a.showSubtaskModal=n,a.toggleCompleted=r}angular.module("app").controller("SubtasksController",e),e.$inject=["subtasksService","subtaskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/tasks/subtasks/subtasks.html",controller:"SubtasksController",controllerAs:"st",bindToController:!0,scope:{task:"="}}}angular.module("app").directive("spSubtasks",e)}(),function(){"use strict";function e(e,t){function n(e,t){t.subtasks||(t.subtasks={currentId:1,list:[]}),void 0===e.id&&(e.id=t.subtasks.currentId++,e.completed=!1,t.subtasks.list.push(e))}function r(e,t){t.subtasks.list.splice(t.subtasks.list.indexOf(e),1)}function a(e){e.completed=!e.completed}return{createOrUpdateSubtask:n,deleteSubtask:r,toggleCompleted:a}}angular.module("app").factory("subtasksService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e){this.user=e}angular.module("app").controller("HeaderController",e),e.$inject=["user"]}(),function(){"use strict";function e(e,t,n){function r(){function e(e){var t=e.data;return t.success===!1?{name:!1,url:"#/login"}:{name:t.data,url:"#/dashboard"}}return n.getVar("name").then(e)}return{getUser:r}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log","sessionService"]}(),function(){"use strict";function e(e,t){var n=this;n.collapsed=!0,n.labels=function(){return e.getLabels()},n.calendars=function(){return t.getCalendars()}}angular.module("app").controller("SidebarController",e),e.$inject=["labelService","calendarService"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCJhcHBTZXJ2aWNlIiwiJG9uIiwic3RhdGVDaGFuZ2VFcnJvciIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJGluamVjdCIsImFwcENvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiY2FjaGVBbGwiLCJjYWNoZVNlcnZpY2UiLCJnZXRDYWxlbmRhcnMiLCJjYWxlbmRhclNlcnZpY2UiLCJnZXRFdmVudHMiLCJldmVudHNTZXJ2aWNlIiwiZ2V0TGFiZWxzIiwibGFiZWxTZXJ2aWNlIiwiZ2V0VGFza3MiLCJ0YXNrc1NlcnZpY2UiLCJnZXRVc2VyIiwiaGVhZGVyU2VydmljZSIsImlzQXV0aGVudGljYXRlZCIsImFjY2Vzc1NlcnZpY2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiYWJzdHJhY3QiLCJyZXNvbHZlIiwiY2FjaGUiLCJ1c2VyIiwidmlld3MiLCJoZWFkZXIiLCJjb250cm9sbGVyQXMiLCJzaWRlYmFyIiwicGFyZW50IiwiY29udGVudEAiLCJ0ZW1wbGF0ZSIsIml0ZW1zIiwiZ3JvdXBzIiwib3RoZXJ3aXNlIiwiY29uZmlnIiwiJGxvY2F0aW9uIiwic3RhdHVzU2VydmljZSIsImV2ZW50IiwidW5mb3VuZFN0YXRlIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsIlVOQVVUSE9SSVpFRCIsInBhdGgiLCJGT1JCSURERU4iLCJmYWN0b3J5IiwiaW5Hcm91cHMiLCJhY3Rpdml0aWVzIiwiYWN0aXZpdGllc0luR3JvdXBzIiwiaSIsImxlbmd0aCIsImxhYmVsX2lkIiwiY2FsZW5kYXJfaWQiLCJwdXNoIiwiZmlsdGVyIiwic2FtZURheUFzIiwibW9tZW50IiwiZXZlbnRzIiwiZGF5Iiwic2FtZURheUV2ZW50cyIsInJlc3VsdCIsImlzU2FtZSIsImR0X3N0YXJ0IiwiZHRfZW5kIiwid2l0aGluRGF5cyIsInRhc2tzIiwibnVtT2ZEYXlzIiwidGFza3NXaXRoaW5EYXlzIiwiZHVlIiwiaXNCZWZvcmUiLCJhZGQiLCJBY3Rpdml0eUNvbnRyb2xsZXIiLCIkcSIsImNydWRTZXJ2aWNlIiwiYWxsIiwiY2FjaGVDYWxlbmRhcnMiLCJjYWNoZUV2ZW50cyIsImNhY2hlTGFiZWxzIiwiY2FjaGVUYXNrcyIsInRoZW4iLCJyZXNwb25zZXMiLCJnZXRBbGwiLCJ2bSIsImNhbGVuZGFyIiwiZ2V0QnlVc2VyIiwicmVzcG9uc2UiLCJjYWxlbmRhcnMiLCJnZXRSZXN1bHQiLCJsYWJlbCIsImxhYmVscyIsInRhc2siLCJkYXRhIiwic3VjY2VzcyIsInRpdGxlIiwidGhpcyIsInNlcnZpY2UiLCIkaHR0cCIsIiRsb2ciLCJpbml0IiwidHlwZSIsImJhc2UiLCJnZXQiLCJpZCIsInByb21pc2VDb21wbGV0ZSIsInByb21pc2VGYWlsZWQiLCJjcmVhdGUiLCJyZW1vdmVVbmVjZXNzYXJ5S2V5cyIsInBvc3QiLCJ1cGRhdGUiLCJwdXQiLCJyZW1vdmUiLCJyZW1vdmVXaGVyZSIsIndoZXJlIiwiZXNjYXBlIiwiZXJyb3IiLCJtZXNzYWdlIiwidG9EZWxldGUiLCJjcnVkIiwicHJvdG90eXBlIiwic2Vzc2lvblNlcnZpY2UiLCJnZXRWYXIiLCIkbmFtZSIsInNldFZhciIsIiR2YWx1ZSIsIkV2ZW50c0NvbnRyb2xsZXIiLCJjYWxlbmRhcldpZGdldFNlcnZpY2UiLCJldmVudE1vZGFsU2VydmljZSIsImFjdGl2YXRlIiwidG9kYXkiLCJnZXRUb2RheSIsInNlbGVjdGVkRGF5IiwibW9udGgiLCJnZXRNb250aCIsImdldEVuZE9mRGF5IiwiaXNTYW1lRGF5QXNTZWxlY3RlZCIsImlzU2FtZURheSIsInNlbGVjdERheSIsImZ1bGxEYXRlIiwic2hvd0V2ZW50TW9kYWwiLCJvcGVuRXZlbnRNb2RhbCIsImxhc3RNb250aCIsIm5leHRNb250aCIsImV2ZW50c0RpcmVjdGl2ZSIsImJpbmRUb0NvbnRyb2xsZXIiLCJkaXJlY3RpdmUiLCJjcmVhdGVFdmVudCIsImNyZWF0ZU9yVXBkYXRlRXZlbnQiLCJldmVudF9pZCIsInVwZGF0ZUV2ZW50IiwiZGVsZXRlRXZlbnQiLCJyZXMiLCJhdXRvRm9jdXNEaXJlY3RpdmUiLCJsaW5rIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJuZ01vZGVsIiwiZm9jdXMiLCJyZXN0cmljdCIsImNvbXBhcmVUb0RpcmVjdGl2ZSIsImNsZWFuVXAiLCJ1bmJpbmRXYXRjaCIsImNvbXBhcmVWYWx1ZXMiLCJ2aWV3VmFsdWUiLCJvdGhlck1vZGVsIiwiJHZpZXdWYWx1ZSIsInZhbGlkYXRlT25DaGFuZ2UiLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwiJHZhbGlkYXRlIiwiJHdhdGNoIiwiJHZhbGlkYXRvcnMiLCJzcENvbXBhcmVUbyIsIm9uIiwicmVxdWlyZSIsIkxvZ2luQ29udHJvbGxlciIsImxvZ2luU2VydmljZSIsImxvZ2luIiwibG9hZGluZyIsImxvZ2luQ29tcGxldGUiLCJsb2dpbkZhaWxlZCIsIk1vZGFsQ29udHJvbGxlciIsIiR1aWJNb2RhbEluc3RhbmNlIiwiaXRlbSIsImNhbmNlbCIsImRpc21pc3MiLCJjbG9zZSIsImNvbmZpcm0iLCJSZWN1cnJlbmNlQ29udHJvbGxlciIsInJlY3VycmVuY2VNb2RhbFNlcnZpY2UiLCJzaG93UmVjdXJyZW5jZU1vZGFsIiwicmMiLCJyZWN1cnJlbmNlIiwib3BlblJlY3VycmVuY2VNb2RhbCIsInJlY3VycmVuY2VEaXJlY3RpdmUiLCJyZWN1cnJlbmNlU2VydmljZSIsImNsZWFyUmVjdXJyZW5jZSIsImNvbnN0cnVjdFJlY3VycmVuY2UiLCJUYXNrc0NvbnRyb2xsZXIiLCJ0YXNrTW9kYWxTZXJ2aWNlIiwic2hvd1Rhc2tNb2RhbCIsIm9wZW5UYXNrTW9kYWwiLCJ0b2dnbGVDb21wbGV0ZWQiLCJ0YXNrc0RpcmVjdGl2ZSIsIm9yZGVyIiwiZGF5cyIsImluTGFiZWxzIiwiY3JlYXRlVGFzayIsImNyZWF0ZU9yVXBkYXRlVGFzayIsInRhc2tfaWQiLCJ1cGRhdGVUYXNrIiwiZGVsZXRlVGFzayIsImNvbXBsZXRlZCIsInBhcnNlSW50IiwiVXBsb2FkQ29udHJvbGxlciIsIiRzY29wZSIsInVwbG9hZFNlcnZpY2UiLCJ1cGxvYWRGaWxlIiwiZmlsZSIsIm9sZEZpbGUiLCJmaWxlUGF0aCIsInVjIiwidXBsb2FkRGlyZWN0aXZlIiwiJHBhcnNlIiwiZmlsZUhhbmRsZXIiLCIkYXBwbHkiLCJmaWxlcyIsInNpemUiLCJtYXhGaWxlU2l6ZSIsInNwRmlsZUNoYW5nZSIsImFsZXJ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwidW5kZWZpbmVkIiwiRGFzaGJvYXJkQ29udHJvbGxlciIsIlJlZ2lzdGVyQ29udHJvbGxlciIsInJlZ2lzdGVyU2VydmljZSIsInJlZ2lzdGVyIiwicmVnaXN0cmF0aW9uQ29tcGxldGUiLCJpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZSIsImRlZmVycmVkIiwiT0siLCJyZWplY3QiLCJwcm9taXNlIiwiaXNBZG1pbiIsImRlZmVyIiwiY3JlYXRlQ2FsZW5kYXIiLCJkZWxldGVDYWxlbmRhciIsInVwZGF0ZUNhbGVuZGFyIiwiJHVpYk1vZGFsIiwib3BlbiIsIk51bWJlciIsImNsb25lIiwic3VidHJhY3QiLCJhRGF5IiwiZGF0ZSIsInN0YXJ0T2YiLCJnZXRXZWVrIiwic3RhcnREYXkiLCJ0YXJnZXRNb250aCIsIndlZWsiLCJudW1iZXIiLCJpc1RhcmdldE1vbnRoIiwiaXNUb2RheSIsImRheTEiLCJkYXkyIiwic3JjTW9udGgiLCJyZWN1cnJlbmNlSW5mbyIsImZyZXEiLCJjcmVhdGVMYWJlbCIsImRlbGV0ZUxhYmVsIiwidXBkYXRlTGFiZWwiLCJzdWJ0YXNrTW9kYWxTZXJ2aWNlIiwic3VidGFza3NTZXJ2aWNlIiwib3BlblN1YnRhc2tNb2RhbCIsInN1YnRhc2siLCJjcmVhdGVPclVwZGF0ZVN1YnRhc2siLCJkZWxldGVTdWJ0YXNrIiwiU3VidGFza3NDb250cm9sbGVyIiwic2hvd1N1YnRhc2tNb2RhbCIsInN0Iiwic3VidGFza3NEaXJlY3RpdmUiLCJzdWJ0YXNrcyIsImN1cnJlbnRJZCIsImxpc3QiLCJzcGxpY2UiLCJpbmRleE9mIiwiSGVhZGVyQ29udHJvbGxlciIsImdldE5hbWVDb21wbGV0ZSIsIm5hbWUiLCJTaWRlYmFyQ29udHJvbGxlciIsImNvbGxhcHNlZCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQyxZQU9BLFNBQVNBLEdBQWNDLEVBQVlDLEdBQ2xDRCxFQUFXRSxJQUFJLG9CQUFxQkQsRUFBV0Usa0JBTmhEQyxRQUNFQyxPQUFPLE9BQVEsWUFBYSxlQUFnQixrQkFDNUNDLFdBQVcsZ0JBQWlCUCxHQUU5QkEsRUFBY1EsU0FBVyxhQUFjLGlCQUt4QyxXQUNDLFlBT0EsU0FBU0MsR0FBVUMsRUFBZ0JDLEdBc0psQyxRQUFTQyxHQUFTQyxHQUNqQixNQUFPQSxHQUFhRCxXQUdyQixRQUFTRSxHQUFhQyxHQUNyQixNQUFPQSxHQUFnQkQsZUFHeEIsUUFBU0UsR0FBVUMsR0FDbEIsTUFBT0EsR0FBY0QsWUFHdEIsUUFBU0UsR0FBVUMsR0FDbEIsTUFBT0EsR0FBYUQsWUFHckIsUUFBU0UsR0FBU0MsR0FDakIsTUFBT0EsR0FBYUQsV0FHckIsUUFBU0UsR0FBUUMsR0FDaEIsTUFBT0EsR0FBY0QsVUFHdEIsUUFBU0UsR0FBZ0JDLEdBQ3hCLE1BQU9BLEdBQWNELGtCQTdLdEJkLEVBQ0VnQixNQUFNLFFBQ05DLElBQUssR0FDTEMsWUFBYSxhQUNiQyxZQUFVLEVBQ1ZDLFNBQ0NDLE9BQVEsZUFBZ0JuQixHQUN4Qm9CLE1BQU8sZ0JBQWlCVixJQUV6QlcsT0FDQ0MsUUFDQ04sWUFBYSxrQ0FDYnJCLFdBQVksbUJBQ1o0QixhQUFjLE1BRWZDLFNBQ0NSLFlBQWEsb0NBQ2JyQixXQUFZLG9CQUNaNEIsYUFBYyxTQUloQlQsTUFBTSxTQUNOQyxJQUFLLFNBQ0xVLE9BQVEsT0FD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TWpKLEVBQUkzRCxLQUFNeEUsSUFBSyxlQVQ5QixNQUFPb0csR0FBZUMsT0FBTyxRQUMzQnpDLEtBQUt1TixHQU5SLE9BQ0N4UixRQUFTQSxHQVBYakIsUUFDRUMsT0FBTyxPQUNQK0MsUUFBUSxnQkFBaUI5QixHQUUzQkEsRUFBY2YsU0FBVyxRQUFTLE9BQVEscUJBc0IzQyxXQUNDLFlBT0EsU0FBU3dTLEdBQWtCN1IsRUFBY0osR0FDeEMsR0FBSTJFLEdBQUtZLElBQ1RaLEdBQUd1TixXQUFZLEVBQ2Z2TixFQUFHTyxPQUFTLFdBQWEsTUFBTzlFLEdBQWFELGFBQzdDd0UsRUFBR0ksVUFBWSxXQUFhLE1BQU8vRSxHQUFnQkQsZ0JBVHBEVCxRQUNFQyxPQUFPLE9BQ1BDLFdBQVcsb0JBQXFCeVMsR0FFbENBLEVBQWtCeFMsU0FBVyxlQUFnQiIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInLCAndWkuYm9vdHN0cmFwJywgJ2FuZ3VsYXJNb21lbnQnXSlcclxuXHRcdC5jb250cm9sbGVyKCdBcHBDb250cm9sbGVyJywgQXBwQ29udHJvbGxlcik7XHJcblxyXG5cdEFwcENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdhcHBTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gQXBwQ29udHJvbGxlcigkcm9vdFNjb3BlLCBhcHBTZXJ2aWNlKSB7XHJcblx0XHQkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBhcHBTZXJ2aWNlLnN0YXRlQ2hhbmdlRXJyb3IpO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29uZmlnKGFwcENvbmZpZyk7XHJcblxyXG5cdGFwcENvbmZpZy4kaW5qZWN0ID0gWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInXTtcclxuXHRmdW5jdGlvbiBhcHBDb25maWcoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG5cclxuXHRcdCRzdGF0ZVByb3ZpZGVyXHJcblx0XHRcdC5zdGF0ZSgncm9vdCcsIHtcclxuXHRcdFx0XHR1cmw6ICcnLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnaW5kZXguaHRtbCcsXHJcblx0XHRcdFx0YWJzdHJhY3Q6IHRydWUsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0Y2FjaGU6IFsnY2FjaGVTZXJ2aWNlJywgY2FjaGVBbGxdLFxyXG5cdFx0XHRcdFx0dXNlcjogWydoZWFkZXJTZXJ2aWNlJywgZ2V0VXNlcl1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnaGVhZGVyJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2xheW91dC9oZWFkZXIvaGVhZGVyLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnSGVhZGVyQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2hjJ1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdCdzaWRlYmFyJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2xheW91dC9zaWRlYmFyL3NpZGViYXIuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdTaWRlYmFyQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3NjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdsb2dpbicsIHtcclxuXHRcdFx0XHR1cmw6ICcvbG9naW4nLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2dpbi9sb2dpbi5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdsb2dvdXQnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2xvZ291dCcsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL2xvZ291dC9sb2dvdXQuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdMb2dvdXRDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ3JlZ2lzdGVyJywge1xyXG5cdFx0XHRcdHVybDogJy9yZWdpc3RlcicsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9yZWdpc3Rlci9yZWdpc3Rlci5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ1JlZ2lzdGVyQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdkYXNoYm9hcmQnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2Rhc2hib2FyZCcsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9kYXNoYm9hcmQvZGFzaGJvYXJkLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnRGFzaGJvYXJkQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0XHRcdGlzQXV0aGVudGljYXRlZDogWydhY2Nlc3NTZXJ2aWNlJywgaXNBdXRoZW50aWNhdGVkXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2xhYmVscycsIHtcclxuXHRcdFx0XHR1cmw6ICcvbGFiZWxzJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290J1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2xhYmVscy5sYWJlbCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvOmxhYmVsSWQnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlOiBcIkluIHByb2dyZXNzXCJcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnaW5ib3gnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2luYm94JyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL3Rhc2tzL2luYm94Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWN0aXZpdHlDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRcdFx0aXNBdXRoZW50aWNhdGVkOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0F1dGhlbnRpY2F0ZWRdLFxyXG5cdFx0XHRcdFx0XHRcdGl0ZW1zOiBbJ3Rhc2tzU2VydmljZScsIGdldFRhc2tzXSxcclxuXHRcdFx0XHRcdFx0XHRncm91cHM6IFsnbGFiZWxTZXJ2aWNlJywgZ2V0TGFiZWxzXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ3RvZGF5Jywge1xyXG5cdFx0XHRcdHVybDogJy90b2RheScsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy90YXNrcy90b2RheS5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0FjdGl2aXR5Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0XHRcdGlzQXV0aGVudGljYXRlZDogWydhY2Nlc3NTZXJ2aWNlJywgaXNBdXRoZW50aWNhdGVkXSxcclxuXHRcdFx0XHRcdFx0XHRpdGVtczogWyd0YXNrc1NlcnZpY2UnLCBnZXRUYXNrc10sXHJcblx0XHRcdFx0XHRcdFx0Z3JvdXBzOiBbJ2xhYmVsU2VydmljZScsIGdldExhYmVsc11cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCd3ZWVrJywge1xyXG5cdFx0XHRcdHVybDogJy93ZWVrJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL3Rhc2tzL3dlZWsuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBY3Rpdml0eUNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IFsnYWNjZXNzU2VydmljZScsIGlzQXV0aGVudGljYXRlZF0sXHJcblx0XHRcdFx0XHRcdFx0aXRlbXM6IFsndGFza3NTZXJ2aWNlJywgZ2V0VGFza3NdLFxyXG5cdFx0XHRcdFx0XHRcdGdyb3VwczogWydsYWJlbFNlcnZpY2UnLCBnZXRMYWJlbHNdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnY2FsZW5kYXInLCB7XHJcblx0XHRcdFx0dXJsOiAnL2NhbGVuZGFyJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2NhbGVuZGFyL2NhbGVuZGFyLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWN0aXZpdHlDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRcdFx0aXNBdXRoZW50aWNhdGVkOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0F1dGhlbnRpY2F0ZWRdLFxyXG5cdFx0XHRcdFx0XHRcdGl0ZW1zOiBbJ2V2ZW50c1NlcnZpY2UnLCBnZXRFdmVudHNdLFxyXG5cdFx0XHRcdFx0XHRcdGdyb3VwczogWydjYWxlbmRhclNlcnZpY2UnLCBnZXRDYWxlbmRhcnNdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9kYXNoYm9hcmQnKTtcclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZUFsbChjYWNoZVNlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlU2VydmljZS5jYWNoZUFsbCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENhbGVuZGFycyhjYWxlbmRhclNlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGNhbGVuZGFyU2VydmljZS5nZXRDYWxlbmRhcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRFdmVudHMoZXZlbnRzU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gZXZlbnRzU2VydmljZS5nZXRFdmVudHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRMYWJlbHMobGFiZWxTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBsYWJlbFNlcnZpY2UuZ2V0TGFiZWxzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VGFza3ModGFza3NTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiB0YXNrc1NlcnZpY2UuZ2V0VGFza3MoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyKGhlYWRlclNlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGhlYWRlclNlcnZpY2UuZ2V0VXNlcigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZChhY2Nlc3NTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBhY2Nlc3NTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnYXBwU2VydmljZScsIGFwcFNlcnZpY2UpO1xyXG5cclxuXHRhcHBTZXJ2aWNlLiRpbmplY3QgPSBbJyRsb2NhdGlvbicsICdzdGF0dXNTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gYXBwU2VydmljZSgkbG9jYXRpb24sIHN0YXR1c1NlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHN0YXRlQ2hhbmdlRXJyb3I6IHN0YXRlQ2hhbmdlRXJyb3JcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gc3RhdGVDaGFuZ2VFcnJvcihldmVudCwgdW5mb3VuZFN0YXRlLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpIHtcclxuXHRcdFx0aWYgKGZyb21QYXJhbXMgPT09IHN0YXR1c1NlcnZpY2UuVU5BVVRIT1JJWkVEKSB7XHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGZyb21QYXJhbXMgPT09IHN0YXR1c1NlcnZpY2UuRk9SQklEREVOKSB7XHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9mb3JiaWRkZW4nKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZpbHRlcignaW5Hcm91cHMnLCBpbkdyb3Vwcyk7XHJcblxyXG5cdGluR3JvdXBzLiRpbmplY3QgPSBbXTtcclxuXHRmdW5jdGlvbiBpbkdyb3VwcygpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbihhY3Rpdml0aWVzLCBncm91cHMpIHtcclxuXHRcdFx0aWYgKCFncm91cHMpIHtcclxuXHRcdFx0XHRyZXR1cm4gYWN0aXZpdGllcztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIGFjdGl2aXRpZXNJbkdyb3VwcyA9IFtdO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhY3Rpdml0aWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKGFjdGl2aXRpZXNbaV0ubGFiZWxfaWQgPT09IGdyb3VwcyB8fFxyXG5cdFx0XHRcdFx0YWN0aXZpdGllc1tpXS5jYWxlbmRhcl9pZCA9PT0gZ3JvdXBzXHJcblx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRhY3Rpdml0aWVzSW5Hcm91cHMucHVzaChhY3Rpdml0aWVzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBhY3Rpdml0aWVzSW5Hcm91cHM7XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmlsdGVyKCdzYW1lRGF5QXMnLCBzYW1lRGF5QXMpO1xyXG5cclxuXHRzYW1lRGF5QXMuJGluamVjdCA9IFsnbW9tZW50J107XHJcblx0ZnVuY3Rpb24gc2FtZURheUFzKG1vbWVudCkge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGV2ZW50cywgZGF5KSB7XHJcblx0XHRcdHZhciBzYW1lRGF5RXZlbnRzID0gW107XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciByZXN1bHQgPSBkYXkuaXNTYW1lKG1vbWVudChldmVudHNbaV0uZHRfc3RhcnQpLCAnZGF5Jyk7XHJcblxyXG5cdFx0XHRcdGlmICghcmVzdWx0KSB7XHJcblx0XHRcdFx0XHRyZXN1bHQgPSBkYXkuaXNTYW1lKG1vbWVudChldmVudHNbaV0uZHRfZW5kKSwgJ2RheScpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYocmVzdWx0KSB7XHJcblx0XHRcdFx0XHRzYW1lRGF5RXZlbnRzLnB1c2goZXZlbnRzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBzYW1lRGF5RXZlbnRzO1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZpbHRlcignd2l0aGluRGF5cycsIHdpdGhpbkRheXMpO1xyXG5cclxuXHR3aXRoaW5EYXlzLiRpbmplY3QgPSBbJ21vbWVudCddO1xyXG5cdGZ1bmN0aW9uIHdpdGhpbkRheXMobW9tZW50KSB7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24odGFza3MsIG51bU9mRGF5cykge1xyXG5cdFx0XHRpZiAoIW51bU9mRGF5cykge1xyXG5cdFx0XHRcdHJldHVybiB0YXNrcztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHRhc2tzV2l0aGluRGF5cyA9IFtdO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0YXNrcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciByZXN1bHQ7XHJcblxyXG5cdFx0XHRcdGlmICghdGFza3NbaV0uZHVlIHx8ICh0YXNrc1tpXS5kdWUgJiZcclxuXHRcdFx0XHRcdG1vbWVudCh0YXNrc1tpXS5kdWUpLmlzQmVmb3JlKG1vbWVudCgpLmFkZChudW1PZkRheXMsICdkYXlzJykpKVxyXG5cdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0dGFza3NXaXRoaW5EYXlzLnB1c2godGFza3NbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRhc2tzV2l0aGluRGF5cztcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdBY3Rpdml0eUNvbnRyb2xsZXInLCBBY3Rpdml0eUNvbnRyb2xsZXIpO1xyXG5cclxuXHRBY3Rpdml0eUNvbnRyb2xsZXIuJGluamVjdCA9IFsnaXNBdXRoZW50aWNhdGVkJ107XHJcblx0ZnVuY3Rpb24gQWN0aXZpdHlDb250cm9sbGVyKGlzQXV0aGVudGljYXRlZCkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LnNlcnZpY2UoJ2NhY2hlU2VydmljZScsIGNhY2hlU2VydmljZSk7XHJcblxyXG5cdGNhY2hlU2VydmljZS4kaW5qZWN0ID0gWyckcScsICdjcnVkU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGNhY2hlU2VydmljZSgkcSwgY3J1ZFNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7IC8vIGpzaGludCBpZ25vcmU6IGxpbmVcclxuXHRcdHZtLmNhbGVuZGFycyA9IFtdO1xyXG5cdFx0dm0uZXZlbnRzID0gW107XHJcblx0XHR2bS5sYWJlbHMgPSBbXTtcclxuXHRcdHZtLnRhc2tzID0gW107XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y2FjaGVBbGw6IGNhY2hlQWxsLFxyXG5cdFx0XHRjYWNoZUNhbGVuZGFyczogY2FjaGVDYWxlbmRhcnMsXHJcblx0XHRcdGNhY2hlRXZlbnRzOiBjYWNoZUV2ZW50cyxcclxuXHRcdFx0Y2FjaGVMYWJlbHM6IGNhY2hlTGFiZWxzLFxyXG5cdFx0XHRjYWNoZVRhc2tzOiBjYWNoZVRhc2tzLFxyXG5cclxuXHRcdFx0Z2V0QWxsOiBnZXRBbGwsXHJcblx0XHRcdGdldENhbGVuZGFyczogZ2V0Q2FsZW5kYXJzLFxyXG5cdFx0XHRnZXRFdmVudHM6IGdldEV2ZW50cyxcclxuXHRcdFx0Z2V0TGFiZWxzOiBnZXRMYWJlbHMsXHJcblx0XHRcdGdldFRhc2tzOiBnZXRUYXNrc1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBUT0RPOiBJZGVhbGx5IG9uZSBBUEkgY2FsbC5cclxuXHRcdGZ1bmN0aW9uIGNhY2hlQWxsKCkge1xyXG5cdFx0XHQkcS5hbGwoW2NhY2hlQ2FsZW5kYXJzKCksIGNhY2hlRXZlbnRzKCksIGNhY2hlTGFiZWxzKCksIGNhY2hlVGFza3MoKV0pXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2VzKSB7IGdldEFsbCgpOyB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZUNhbGVuZGFycygpIHtcclxuXHRcdFx0dm0uY2FsZW5kYXIgPSBuZXcgY3J1ZFNlcnZpY2UoJ2NhbGVuZGFyJyk7XHJcblx0XHRcdHZtLmNhbGVuZGFyLmdldEJ5VXNlcigpXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsgdm0uY2FsZW5kYXJzID0gZ2V0UmVzdWx0KHJlc3BvbnNlKTsgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2FjaGVFdmVudHMoKSB7XHJcblx0XHRcdHZtLmV2ZW50ID0gbmV3IGNydWRTZXJ2aWNlKCdldmVudCcpO1xyXG5cdFx0XHR2bS5ldmVudC5nZXRCeVVzZXIoKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7IHZtLmV2ZW50cyA9IGdldFJlc3VsdChyZXNwb25zZSk7IH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNhY2hlTGFiZWxzKCkge1xyXG5cdFx0XHR2bS5sYWJlbCA9IG5ldyBjcnVkU2VydmljZSgnbGFiZWwnKTtcclxuXHRcdFx0dm0ubGFiZWwuZ2V0QnlVc2VyKClcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkgeyB2bS5sYWJlbHMgPSBnZXRSZXN1bHQocmVzcG9uc2UpOyB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYWNoZVRhc2tzKCkge1xyXG5cdFx0XHR2bS50YXNrID0gbmV3IGNydWRTZXJ2aWNlKCd0YXNrJyk7XHJcblx0XHRcdHZtLnRhc2suZ2V0QnlVc2VyKClcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkgeyB2bS50YXNrcyA9IGdldFJlc3VsdChyZXNwb25zZSk7IH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJlc3VsdChyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdC5zdWNjZXNzID8gcmVzdWx0LmRhdGEgOiByZXN1bHQudGl0bGU7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0QWxsKCkge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGNhbGVuZGFyczogZ2V0Q2FsZW5kYXJzKCksXHJcblx0XHRcdFx0ZXZlbnRzOiBnZXRFdmVudHMoKSxcclxuXHRcdFx0XHRsYWJlbHM6IGdldExhYmVscygpLFxyXG5cdFx0XHRcdHRhc2tzOiBnZXRUYXNrcygpXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0Q2FsZW5kYXJzKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXJzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEV2ZW50cygpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmV2ZW50cztcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRMYWJlbHMoKSB7XHJcblx0XHRcdHJldHVybiB2bS5sYWJlbHM7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VGFza3MoKSB7XHJcblx0XHRcdHJldHVybiB2bS50YXNrcztcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyB0aGUgYXBpIG9mIHRoZSB2YXJpb3VzIGl0ZW0gdHlwZXMuXHJcblx0KiBBbiBpbnN0YW5jZSBvZiBjcnVkIG11c3QgYmUgY3JlYXRlZCBpbiBvcmRlciB0byB1c2UgdGhlIHNlcnZpY2UuXHJcblx0KlxyXG5cdCogQWxsIHByb21pc2VzIHJldHVybiAnc3VjY2VzcycgYW5kIGVpdGhlciAnZGF0YScgb24gc3VjY2VzcyBvciwgb24gZXJyb3IsICd0aXRsZSdcclxuXHQqIHdpdGggYSBnZW5lcmFsIGVycm9yIGFuZCAnZGV0YWlscycgd2l0aCBtb3JlIGRldGFpbHMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjcnVkU2VydmljZScsIGNydWRTZXJ2aWNlKTtcclxuXHJcblx0Y3J1ZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIGNydWRTZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgY3J1ZCA9IGluaXQ7XHJcblx0XHRjcnVkLnByb3RvdHlwZSA9IHtcclxuXHRcdFx0Z2V0OiBnZXQsXHJcblx0XHRcdGdldEJ5VXNlcjogZ2V0QnlVc2VyLFxyXG5cdFx0XHRjcmVhdGU6IGNyZWF0ZSxcclxuXHRcdFx0dXBkYXRlOiB1cGRhdGUsXHJcblx0XHRcdHJlbW92ZTogcmVtb3ZlLFxyXG5cdFx0XHRyZW1vdmVXaGVyZTogcmVtb3ZlV2hlcmUsXHJcblx0XHRcdHJlbW92ZVVuZWNlc3NhcnlLZXlzOiByZW1vdmVVbmVjZXNzYXJ5S2V5c1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gY3J1ZDtcclxuXHJcblx0XHQvKipcclxuXHRcdCogSW5pdGlhbGl6ZSB0aGUgYmFzZSB1cmwgdXNpbmcgdGhlIHR5cGUgb2YgaXRlbSB0byBiZSBjYWxsZWQgb24uXHJcblx0XHQqIEFjdGl2aXRpZXMgYW5kIHRoZWlyIHBhcmVudHMgaGF2ZSBhIHNwZWNpZmljIHN1YmZvbGRlciB0byBiZSBwb2ludGVkIHRvLFxyXG5cdFx0KiB3aGlsZSBvdGhlcnMgZG8gbm90LlxyXG5cdFx0KlxyXG5cdFx0KiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlIG9mIGl0ZW0uXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gaW5pdCh0eXBlKSB7XHJcblx0XHRcdC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cclxuXHRcdFx0dGhpcy50eXBlID0gdHlwZTtcclxuXHRcdFx0dGhpcy5iYXNlID0gJ2FwaS8nO1xyXG5cdFx0XHRzd2l0Y2ggKHR5cGUpIHtcclxuXHRcdFx0XHRjYXNlICdldmVudCc6XHJcblx0XHRcdFx0Y2FzZSAnY2FsZW5kYXInOlxyXG5cdFx0XHRcdFx0dGhpcy5iYXNlICs9ICdhY3Rpdml0eS9jYWxlbmRhci8nO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnbGFiZWwnOlxyXG5cdFx0XHRcdGNhc2UgJ3Rhc2snOlxyXG5cdFx0XHRcdFx0dGhpcy5iYXNlICs9ICdhY3Rpdml0eS90YXNrLyc7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0dGhpcy5iYXNlICs9IHR5cGUgKyAnLyc7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5iYXNlICs9IHR5cGUgKyAnTWFuYWdlci5waHAnO1xyXG5cdFx0XHQvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gZ2V0LlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PSBxdWVyeSByZXN1bHRzIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0KGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQodGhpcy5iYXNlICsgJz9pZD0nICsgaWQpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblx0XHQvKipcclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT0gcXVlcnkgcmVzdWx0cyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldEJ5VXNlcigpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGlzLmJhc2UgKyAnP2J5dXNlcj10cnVlJykgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX1cdGRhdGFcdERhdGEgb2YgaXRlbSB0byBjcmVhdGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAxIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlKGRhdGEpIHtcclxuXHRcdFx0ZGF0YSA9IHRoaXMucmVtb3ZlVW5lY2Vzc2FyeUtleXMoZGF0YSk7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QodGhpcy5iYXNlLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gdXBkYXRlLlxyXG5cdFx0KiBAcGFyYW1cdHttaXhlZFtdfVx0ZGF0YVx0RGF0YSBvZiBpdGVtIHRvIHVwZGF0ZS5cclxuXHRcdCpcclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT09ICcxJyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZShpZCwgZGF0YSkge1xyXG5cdFx0XHRkYXRhID0gdGhpcy5yZW1vdmVVbmVjZXNzYXJ5S2V5cyhkYXRhKTsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KHRoaXMuYmFzZSArICc/aWQ9JyArIGlkLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gZGVsZXRlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PT0gMSBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZShpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZGVsZXRlKHRoaXMuYmFzZSArICc/aWQ9JyArIGlkKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0gXHR7c3RyaW5nfVx0d2hlcmUgXHRXaGVyZSBjbGF1c2UuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID49IDAgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmVXaGVyZSh3aGVyZSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZGVsZXRlKHRoaXMuYmFzZSArICc/dXNld2hlcmU9dHJ1ZSZ3aGVyZT0nICsgZXNjYXBlKHdoZXJlKSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VGYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0c3VjY2VzczogJ2ZhbHNlJyxcclxuXHRcdFx0XHR0aXRsZTogJ0Vycm9yIHdoZW4gcXVlcnlpbmcgc2VydmVyLicsXHJcblx0XHRcdFx0bWVzc2FnZTogZXJyb3JcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogSXRlbSBkYXRhIHBhc3NlZCBpbiBtYXkgc3RpbGwgaGF2ZSB0aGVpciBpZHMgb3IgYWxpYXMgZmllbGRzIChmb3IgYWN0aXZpdGllcylcclxuXHRcdCogZW1iZWRkZWQsIHdoaWNoIHdpbGwgY2FuIGNhdXNlIGVycm9ycyBpbiB0aGUgU1FMLlxyXG5cdFx0KlxyXG5cdFx0KiBAcGFyYW1cdHttaXhlZFtdfSBkYXRhXHJcblx0XHQqIEByZXR1cm5cdHttaXhlZFtdfVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZVVuZWNlc3NhcnlLZXlzKGRhdGEpIHtcclxuXHRcdFx0dmFyIHRvRGVsZXRlID0gWydpZCcsICdwZXJzb25faWQnLCB0aGlzLnR5cGUgKyAnX2lkJywgJ2FjdGl2aXR5X2luZm9faWQnLCAncGFyZW50X25hbWUnXTsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRvRGVsZXRlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0ZGVsZXRlIGRhdGFbdG9EZWxldGVbaV1dO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFVzZWQgdG8gYWNjZXNzIHNlc3Npb24gdmFyaWFibGVzLlxyXG5cdCovXHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnc2Vzc2lvblNlcnZpY2UnLCBzZXNzaW9uU2VydmljZSk7XHJcblxyXG5cdHNlc3Npb25TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnXTtcclxuXHRmdW5jdGlvbiBzZXNzaW9uU2VydmljZSgkaHR0cCwgJGxvZykge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0dm0uYmFzZSA9ICdhcGkvc2Vzc2lvbi9zZXNzaW9uVmFyTWFuYWdlci5waHA/dmFyPSc7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Z2V0VmFyOiBnZXRWYXIsXHJcblx0XHRcdHNldFZhcjogc2V0VmFyXHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9ICRuYW1lXHRWYXJpYWJsZSBuYW1lIHRvIGdldCBmcm9tIHNlc3Npb24uXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmd9IFx0XHRQcm9taXNlIG9yIGVycm9yIG9uIGZhaWwuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0VmFyKCRuYW1lKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQodm0uYmFzZSArICRuYW1lKVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ30gJG5hbWVcdFZhcmlhYmxlIG5hbWUgdG8gZ2V0IGZyb20gc2Vzc2lvbi5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ30gXHRcdFByb21pc2Ugb3IgZXJyb3Igb24gZmFpbC5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBzZXRWYXIoJG5hbWUsICR2YWx1ZSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCh2bS5iYXNlICsgJG5hbWUsICR2YWx1ZSlcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUZhaWxlZChlcnJvcikge1xyXG5cdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRzdWNjZXNzOiAnZmFsc2UnLFxyXG5cdFx0XHRcdHRpdGxlOiAnRXJyb3Igd2hlbiBhY2Nlc3NpbmcgdmFyaWFibGUuJyxcclxuXHRcdFx0XHRtZXNzYWdlOiBlcnJvclxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0V2ZW50c0NvbnRyb2xsZXInLCBFdmVudHNDb250cm9sbGVyKTtcclxuXHJcblx0RXZlbnRzQ29udHJvbGxlci4kaW5qZWN0ID0gWydtb21lbnQnLCAnY2FsZW5kYXJXaWRnZXRTZXJ2aWNlJywgJ2NhbGVuZGFyU2VydmljZScsICdldmVudHNTZXJ2aWNlJywgJ2V2ZW50TW9kYWxTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gRXZlbnRzQ29udHJvbGxlcihtb21lbnQsIGNhbGVuZGFyV2lkZ2V0U2VydmljZSwgY2FsZW5kYXJTZXJ2aWNlLCBldmVudHNTZXJ2aWNlLCBldmVudE1vZGFsU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmV2ZW50cyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZXZlbnRzU2VydmljZS5nZXRFdmVudHMoKTsgfTtcclxuXHRcdHZtLmNhbGVuZGFyID0gZnVuY3Rpb24oKSB7IHJldHVybiBjYWxlbmRhclNlcnZpY2UuZ2V0Q2FsZW5kYXJzKCk7IH07XHJcblxyXG5cdFx0dm0udG9kYXkgPSBudWxsO1xyXG5cdFx0dm0uc2VsZWN0ZWREYXkgPSBudWxsO1xyXG5cdFx0dm0ubW9udGggPSBudWxsO1xyXG5cclxuXHRcdHZtLmlzU2FtZURheUFzU2VsZWN0ZWQgPSBpc1NhbWVEYXlBc1NlbGVjdGVkO1xyXG5cdFx0dm0uZ2V0RW5kT2ZEYXkgPSBnZXRFbmRPZkRheTtcclxuXHRcdHZtLnNlbGVjdERheSA9IHNlbGVjdERheTtcclxuXHRcdHZtLnNob3dFdmVudE1vZGFsID0gc2hvd0V2ZW50TW9kYWw7XHJcblx0XHR2bS5sYXN0TW9udGggPSBsYXN0TW9udGg7XHJcblx0XHR2bS5uZXh0TW9udGggPSBuZXh0TW9udGg7XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0dm0udG9kYXkgPSBjYWxlbmRhcldpZGdldFNlcnZpY2UuZ2V0VG9kYXkoKTtcclxuXHRcdFx0dm0uc2VsZWN0ZWREYXkgPSB2bS50b2RheTtcclxuXHRcdFx0dm0ubW9udGggPSBjYWxlbmRhcldpZGdldFNlcnZpY2UuZ2V0TW9udGgodm0udG9kYXkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEVuZE9mRGF5KGRheSkge1xyXG5cdFx0XHRyZXR1cm4gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLmdldEVuZE9mRGF5KGRheSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNTYW1lRGF5QXNTZWxlY3RlZChkYXkpIHtcclxuXHRcdFx0cmV0dXJuIGNhbGVuZGFyV2lkZ2V0U2VydmljZS5pc1NhbWVEYXkoZGF5LCB2bS5zZWxlY3RlZERheSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2VsZWN0RGF5KGRheSkge1xyXG5cdFx0XHR2bS5zZWxlY3RlZERheSA9IGRheS5mdWxsRGF0ZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaG93RXZlbnRNb2RhbChldmVudCkge1xyXG5cdFx0XHRldmVudE1vZGFsU2VydmljZS5vcGVuRXZlbnRNb2RhbChldmVudCwgdm0uY2FsZW5kYXJzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsYXN0TW9udGgoKSB7XHJcblx0XHRcdHZtLm1vbnRoID0gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLmxhc3RNb250aCh2bS5tb250aCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbmV4dE1vbnRoKCkge1xyXG5cdFx0XHR2bS5tb250aCA9IGNhbGVuZGFyV2lkZ2V0U2VydmljZS5uZXh0TW9udGgodm0ubW9udGgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcEV2ZW50cycsIGV2ZW50c0RpcmVjdGl2ZSk7XHJcblxyXG5cdGZ1bmN0aW9uIGV2ZW50c0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9ldmVudHMvZXZlbnRzLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnRXZlbnRzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2V2ZW50c1NlcnZpY2UnLCBldmVudHNTZXJ2aWNlKTtcclxuXHJcblx0ZXZlbnRzU2VydmljZS4kaW5qZWN0ID0gWydjcnVkU2VydmljZScsICdjYWNoZVNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBldmVudHNTZXJ2aWNlKGNydWRTZXJ2aWNlLCBjYWNoZVNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmV2ZW50ID0gbmV3IGNydWRTZXJ2aWNlKCdldmVudCcpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZUV2ZW50OiBjcmVhdGVFdmVudCxcclxuXHRcdFx0Y3JlYXRlT3JVcGRhdGVFdmVudDogY3JlYXRlT3JVcGRhdGVFdmVudCxcclxuXHRcdFx0ZGVsZXRlRXZlbnQ6IGRlbGV0ZUV2ZW50LFxyXG5cdFx0XHRnZXRFdmVudHM6IGdldEV2ZW50cyxcclxuXHRcdFx0dXBkYXRlRXZlbnQ6IHVwZGF0ZUV2ZW50XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KGV2ZW50KSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudC5jcmVhdGUoZXZlbnQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZUV2ZW50KGV2ZW50KSB7XHJcblx0XHRcdGlmICghZXZlbnQuZXZlbnRfaWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gY3JlYXRlRXZlbnQoZXZlbnQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB1cGRhdGVFdmVudChldmVudC5ldmVudF9pZCwgZXZlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUV2ZW50KGlkKSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudC5yZW1vdmUoaWQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRFdmVudHMoKSB7XHJcblx0XHRcdHJldHVybiBjYWNoZVNlcnZpY2UuZ2V0RXZlbnRzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlRXZlbnQoaWQsIGV2ZW50KSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudC51cGRhdGUoaWQsIGV2ZW50KS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRjYWNoZVNlcnZpY2UuY2FjaGVFdmVudHMoKTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBUbyBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYXV0b2ZvY3VzIGF0dHJpYnV0ZSB0byBhdXRvLWZvY3VzXHJcblx0KiBtb2RhbCBpbnB1dHMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwQXV0b0ZvY3VzJywgYXV0b0ZvY3VzRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gYXV0b0ZvY3VzRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0bGluazogbGlua1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG5cdFx0XHRlbGVtZW50WzBdLmZvY3VzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBDb21wYXJlIGFuIGlucHV0IGZpZWxkIHRvIGFub3RoZXIgZmllbGQsIGRldGVybWluZWQgYnkgdGhlIGRldi5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BDb21wYXJlVG8nLCBjb21wYXJlVG9EaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBjb21wYXJlVG9EaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXF1aXJlOiAnbmdNb2RlbCcsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0b3RoZXJNb2RlbDogJz1zcENvbXBhcmVUbydcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogbGlua1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG5cdFx0XHR2YXIgdW5iaW5kV2F0Y2ggPSBzY29wZS4kd2F0Y2goJ290aGVyTW9kZWwnLCB2YWxpZGF0ZU9uQ2hhbmdlKTtcclxuXHRcdFx0bmdNb2RlbC4kdmFsaWRhdG9ycy5zcENvbXBhcmVUbyA9IGNvbXBhcmVWYWx1ZXM7XHJcblx0XHRcdGVsZW1lbnQub24oJyRkZXN0cm95JywgY2xlYW5VcCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjbGVhblVwKCkge1xyXG5cdFx0XHRcdHVuYmluZFdhdGNoKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNvbXBhcmVWYWx1ZXModmlld1ZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuICh2aWV3VmFsdWUgPT09IHNjb3BlLm90aGVyTW9kZWwuJHZpZXdWYWx1ZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHZhbGlkYXRlT25DaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcblx0XHRcdFx0bmdNb2RlbC4kdmFsaWRhdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgTG9naW5Db250cm9sbGVyKTtcclxuXHJcblx0TG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ2luU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihsb2dpblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR2bS5lcnJvciA9ICcnO1xyXG5cclxuXHRcdHZtLmxvZ2luID0gbG9naW47XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIExvZ2luU2VydmljZSB3aWxsIHJlZGlyZWN0IGlmIHRoZXJlIGlzIG5vIGVycm9yLiBUaHVzLCB0aGVyZSdzIG9ubHkgYVxyXG5cdFx0KiBuZWVkIHRvIHJldHVybiBhIHByb21pc2UgaWYgdGhlcmUncyBhbiBlcnJvci5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBsb2dpbigpIHtcclxuXHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdGxvZ2luU2VydmljZS5sb2dpbih2bS51c2VyKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnbG9naW5TZXJ2aWNlJywgbG9naW5TZXJ2aWNlKTtcclxuXHJcblx0bG9naW5TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2NhdGlvbicsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gbG9naW5TZXJ2aWNlKCRodHRwLCAkbG9jYXRpb24sICRsb2cpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRsb2dpbjogbG9naW5cclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9naW4odXNlcikge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnYXBpL3VzZXIvbG9naW5NYW5hZ2VyLnBocCcsIHVzZXIpXHJcblx0XHRcdFx0LnRoZW4obG9naW5Db21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gobG9naW5GYWlsZWQpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UuZGF0YS50aXRsZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9kYXNoYm9hcmQnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5GYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0XHRyZXR1cm4gJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLic7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdNb2RhbENvbnRyb2xsZXInLCBNb2RhbENvbnRyb2xsZXIpO1xyXG5cclxuXHRNb2RhbENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHVpYk1vZGFsSW5zdGFuY2UnLCAnZ3JvdXBzJywgJ2l0ZW0nXTtcclxuXHRmdW5jdGlvbiBNb2RhbENvbnRyb2xsZXIoJHVpYk1vZGFsSW5zdGFuY2UsIGdyb3VwcywgaXRlbSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmdyb3VwcyA9IGdyb3VwcztcclxuXHRcdHZtLml0ZW0gPSBpdGVtO1xyXG5cclxuXHRcdHZtLmNhbmNlbCA9IGNhbmNlbDtcclxuXHRcdHZtLmNsb3NlID0gY2xvc2U7XHJcblx0XHR2bS5jb25maXJtID0gY29uZmlybTtcclxuXHRcdHZtLnJlbW92ZSA9IHJlbW92ZTtcclxuXHJcblx0XHRmdW5jdGlvbiBjYW5jZWwoKSB7XHJcblx0XHRcdCR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNsb3NlKCkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNvbmZpcm0oZGF0YSkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShkYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZW1vdmUoZGF0YSkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKGRhdGEpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignUmVjdXJyZW5jZUNvbnRyb2xsZXInLCBSZWN1cnJlbmNlQ29udHJvbGxlcik7XHJcblxyXG5cdFJlY3VycmVuY2VDb250cm9sbGVyLiRpbmplY3QgPSBbJ3JlY3VycmVuY2VNb2RhbFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBSZWN1cnJlbmNlQ29udHJvbGxlcihyZWN1cnJlbmNlTW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgcmMgPSB0aGlzO1xyXG5cdFx0cmMuc2hvd1JlY3VycmVuY2VNb2RhbCA9IHNob3dSZWN1cnJlbmNlTW9kYWw7XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd1JlY3VycmVuY2VNb2RhbCgpIHtcclxuXHRcdFx0aWYgKHJjLml0ZW0ucmVjdXJyZW5jZSkge1xyXG5cdFx0XHRcdHJlY3VycmVuY2VNb2RhbFNlcnZpY2Uub3BlblJlY3VycmVuY2VNb2RhbChyYy5pdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFJlcGVhdCcsIHJlY3VycmVuY2VEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiByZWN1cnJlbmNlRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL3JlY3VycmVuY2UvcmVjdXJyZW5jZS5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1JlY3VycmVuY2VDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAncmMnLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGl0ZW06ICc9J1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgncmVjdXJyZW5jZVNlcnZpY2UnLCByZWN1cnJlbmNlU2VydmljZSk7XHJcblxyXG5cdGZ1bmN0aW9uIHJlY3VycmVuY2VTZXJ2aWNlKCkge1xyXG5cdFx0dmFyIHJlY3VycmVuY2VDb2xzID0ge1xyXG5cdFx0XHRmcmVxOiBbJ2hvdXJseScsICdkYWlseScsICd3ZWVrbHknLCAnbW9udGhseScsICd5ZWFybHknXSxcclxuXHRcdFx0ZGF5czogWydtbycsICd0dScsICd3ZScsICd0aCcsICdmcicsICdzYScsICdzdSddLFxyXG5cdFx0XHRieTogWydieV9ob3VyJywgJ2J5X2RheScsICdieV9tb250aF9kYXknLCAnYnlfeWVhcl9kYXknLCAnYnlfd2Vla19ubycsICdieV9tb250aCddXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNsZWFyUmVjdXJyZW5jZTogY2xlYXJSZWN1cnJlbmNlLFxyXG5cdFx0XHRjb25zdHJ1Y3RSZWN1cnJlbmNlOiBjb25zdHJ1Y3RSZWN1cnJlbmNlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNsZWFyUmVjdXJyZW5jZShpdGVtKSB7XHJcblx0XHRcdGl0ZW0ucmVjdXJyZW5jZSA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNvbnN0cnVjdFJlY3VycmVuY2UoaXRlbSkge1xyXG5cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdUYXNrc0NvbnRyb2xsZXInLCBUYXNrc0NvbnRyb2xsZXIpO1xyXG5cclxuXHRUYXNrc0NvbnRyb2xsZXIuJGluamVjdCA9IFsndGFza3NTZXJ2aWNlJywgJ2xhYmVsU2VydmljZScsICd0YXNrTW9kYWxTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gVGFza3NDb250cm9sbGVyKHRhc2tzU2VydmljZSwgbGFiZWxTZXJ2aWNlLCB0YXNrTW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0udGFza3MgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRhc2tzU2VydmljZS5nZXRUYXNrcygpOyB9O1xyXG5cdFx0dm0ubGFiZWxzID0gZnVuY3Rpb24oKSB7IHJldHVybiBsYWJlbFNlcnZpY2UuZ2V0TGFiZWxzKCk7IH07XHJcblx0XHR2bS5zaG93VGFza01vZGFsID0gc2hvd1Rhc2tNb2RhbDtcclxuXHRcdHZtLnRvZ2dsZUNvbXBsZXRlZCA9IHRvZ2dsZUNvbXBsZXRlZDtcclxuXHJcblx0XHRmdW5jdGlvbiBzaG93VGFza01vZGFsKHRhc2spIHtcclxuXHRcdFx0dGFza01vZGFsU2VydmljZS5vcGVuVGFza01vZGFsKHRhc2ssIHZtLmxhYmVscygpKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVDb21wbGV0ZWQodGFzaykge1xyXG5cdFx0XHR0YXNrc1NlcnZpY2UudG9nZ2xlQ29tcGxldGVkKHRhc2spO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFRhc2tzJywgdGFza3NEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiB0YXNrc0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy90YXNrcy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1Rhc2tzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRvcmRlcjogJz0nLFxyXG5cdFx0XHRcdGRheXM6ICc9d2l0aGluRGF5cycsXHJcblx0XHRcdFx0aW5MYWJlbHM6ICc9aW5Hcm91cHMnXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd0YXNrc1NlcnZpY2UnLCB0YXNrc1NlcnZpY2UpO1xyXG5cclxuXHR0YXNrc1NlcnZpY2UuJGluamVjdCA9IFsnY3J1ZFNlcnZpY2UnLCAnY2FjaGVTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gdGFza3NTZXJ2aWNlKGNydWRTZXJ2aWNlLCBjYWNoZVNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLnRhc2sgPSBuZXcgY3J1ZFNlcnZpY2UoJ3Rhc2snKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVUYXNrOiBjcmVhdGVUYXNrLFxyXG5cdFx0XHRjcmVhdGVPclVwZGF0ZVRhc2s6IGNyZWF0ZU9yVXBkYXRlVGFzayxcclxuXHRcdFx0ZGVsZXRlVGFzazogZGVsZXRlVGFzayxcclxuXHRcdFx0Z2V0VGFza3M6IGdldFRhc2tzLFxyXG5cdFx0XHR0b2dnbGVDb21wbGV0ZWQ6IHRvZ2dsZUNvbXBsZXRlZCxcclxuXHRcdFx0dXBkYXRlVGFzazogdXBkYXRlVGFza1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVUYXNrKHRhc2spIHtcclxuXHRcdFx0cmV0dXJuIHZtLnRhc2suY3JlYXRlKHRhc2spLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVRhc2sodGFzaykge1xyXG5cdFx0XHRpZiAoIXRhc2sudGFza19pZCkge1xyXG5cdFx0XHRcdHJldHVybiBjcmVhdGVUYXNrKHRhc2spO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB1cGRhdGVUYXNrKHRhc2sudGFza19pZCwgdGFzayk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlVGFzayhpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0udGFzay5yZW1vdmUoaWQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRUYXNrcygpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlU2VydmljZS5nZXRUYXNrcygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZCh0YXNrKSB7XHJcblx0XHRcdHRhc2suY29tcGxldGVkID0gIXBhcnNlSW50KHRhc2suY29tcGxldGVkKTtcclxuXHRcdFx0cmV0dXJuIHVwZGF0ZVRhc2sodGFzay50YXNrX2lkLCB0YXNrKS50aGVuKGdldFRhc2tzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVUYXNrKGlkLCB0YXNrKSB7XHJcblx0XHRcdHJldHVybiB2bS50YXNrLnVwZGF0ZShpZCwgdGFzaykudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0Y2FjaGVTZXJ2aWNlLmNhY2hlVGFza3MoKTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdVcGxvYWRDb250cm9sbGVyJywgVXBsb2FkQ29udHJvbGxlcik7XHJcblxyXG5cdFVwbG9hZENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRodHRwJywgJ3VwbG9hZFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBVcGxvYWRDb250cm9sbGVyKCRzY29wZSwgJGh0dHAsIHVwbG9hZFNlcnZpY2UpIHtcclxuXHRcdHZhciB1YyA9IHRoaXM7XHJcblx0XHR1Yy51cGxvYWRGaWxlID0gdXBsb2FkRmlsZTtcclxuXHJcblx0XHRmdW5jdGlvbiB1cGxvYWRGaWxlKGZpbGUsIG9sZEZpbGUpIHtcclxuXHRcdFx0cmV0dXJuIHVwbG9hZFNlcnZpY2UudXBsb2FkRmlsZShmaWxlKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKGZpbGVQYXRoKSB7IHJldHVybiBmaWxlUGF0aDsgfSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwRmlsZUNoYW5nZScsIHVwbG9hZERpcmVjdGl2ZSk7XHJcblxyXG5cdHVwbG9hZERpcmVjdGl2ZS4kaW5qZWN0ID0gWyckcGFyc2UnXTtcclxuXHRmdW5jdGlvbiB1cGxvYWREaXJlY3RpdmUoJHBhcnNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnVXBsb2FkQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3VjJyxcclxuXHRcdFx0bGluazogbGluayxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRzcEZpbGVDaGFuZ2U6ICc9JyxcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG5cdFx0XHR2YXIgbWF4RmlsZVNpemUgPSAyICogMTAyNCAqIDEwMjQ7XHJcblx0XHRcdHZhciBmaWxlTW9kZWwgPSAkcGFyc2UoYXR0cnMuc3BGaWxlQ2hhbmdlKTtcclxuXHRcdFx0ZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmaWxlSGFuZGxlciwgZmFsc2UpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZmlsZUhhbmRsZXIoZXZlbnQpIHtcclxuXHRcdFx0XHRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR2YXIgZmlsZSA9IGVsZW1lbnRbMF0uZmlsZXNbMF07XHJcblxyXG5cdFx0XHRcdFx0aWYgKGZpbGUuc2l6ZSA8PSBtYXhGaWxlU2l6ZSkge1xyXG5cdFx0XHRcdFx0XHRzY29wZS51Yy51cGxvYWRGaWxlKGZpbGUpXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oZmlsZVBhdGgpIHsgc2NvcGUuc3BGaWxlQ2hhbmdlID0gZmlsZVBhdGg7IH0pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0YWxlcnQoXCJGaWxlIG11c3QgYmUgbGVzcyB0aGFuIFwiICsgKG1heEZpbGVTaXplIC8gMTAyNCAvIDEwMjQpICsgXCJNQi5cIik7Ly8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3VwbG9hZFNlcnZpY2UnLCB1cGxvYWRTZXJ2aWNlKTtcclxuXHJcblx0dXBsb2FkU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gdXBsb2FkU2VydmljZSgkaHR0cCwgJGxvZykge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dXBsb2FkRmlsZTogdXBsb2FkRmlsZVxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiB1cGxvYWRGaWxlKGZpbGUpIHtcclxuXHRcdFx0dmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblx0XHRcdGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xyXG5cclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJ2FwaS91cGxvYWQvdXBsb2FkTWFuYWdlci5waHAnLCBmb3JtRGF0YSwge1xyXG5cdFx0XHRcdHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcblx0XHRcdFx0aGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH1cclxuXHRcdFx0fSlcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdGlmIChyZXMuZGF0YS5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiByZXMuZGF0YS5kYXRhO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JGxvZy5lcnJvcihyZXMudGl0bGUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmNhdGNoKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0JGxvZy5lcnJvcihyZXMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignRGFzaGJvYXJkQ29udHJvbGxlcicsIERhc2hib2FyZENvbnRyb2xsZXIpO1xyXG5cclxuXHREYXNoYm9hcmRDb250cm9sbGVyLiRpbmplY3QgPSBbJ2lzQXV0aGVudGljYXRlZCddO1xyXG5cdGZ1bmN0aW9uIERhc2hib2FyZENvbnRyb2xsZXIoaXNBdXRoZW50aWNhdGVkKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignUmVnaXN0ZXJDb250cm9sbGVyJywgUmVnaXN0ZXJDb250cm9sbGVyKTtcclxuXHJcblx0UmVnaXN0ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJ3JlZ2lzdGVyU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcihyZWdpc3RlclNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5lcnJvciA9ICcnO1xyXG5cdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0dm0ucmVnaXN0ZXIgPSByZWdpc3RlcjtcclxuXHJcblx0XHRmdW5jdGlvbiByZWdpc3RlcigpIHtcclxuXHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdHJlZ2lzdGVyU2VydmljZS5yZWdpc3Rlcih2bS51c2VyKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgncmVnaXN0ZXJTZXJ2aWNlJywgcmVnaXN0ZXJTZXJ2aWNlKTtcclxuXHJcblx0cmVnaXN0ZXJTZXJ2aWNlLiRpbmplY3QgPSBbJyRsb2NhdGlvbicsICckbG9nJywgJ2NydWRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gcmVnaXN0ZXJTZXJ2aWNlKCRsb2NhdGlvbiwgJGxvZywgY3J1ZFNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmNydWQgPSBuZXcgY3J1ZFNlcnZpY2UoJ3VzZXInKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZWdpc3RlcjogcmVnaXN0ZXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXIodXNlcikge1xyXG5cdFx0XHRyZXR1cm4gdm0uY3J1ZC5jcmVhdGUodXNlcilcclxuXHRcdFx0XHQudGhlbihyZWdpc3RyYXRpb25Db21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZWdpc3RyYXRpb25Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5zdWNjZXNzID09PSAnZmFsc2UnKSB7XHJcblx0XHRcdFx0XHQkbG9nLmVycm9yKHJlc3BvbnNlLnRpdGxlKTtcclxuXHRcdFx0XHRcdHJldHVybiByZXNwb25zZS50aXRsZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGxvY2F0aW9uLnVybCgnL2xvZ2luJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2FjY2Vzc1NlcnZpY2UnLCBhY2Nlc3NTZXJ2aWNlKTtcclxuXHJcblx0YWNjZXNzU2VydmljZS4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnJHEnLCAnc2Vzc2lvblNlcnZpY2UnLCAnc3RhdHVzU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGFjY2Vzc1NlcnZpY2UoJGxvY2F0aW9uLCAkcSwgc2Vzc2lvblNlcnZpY2UsIHN0YXR1c1NlcnZpY2UpIHtcclxuXHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0aXNBdXRoZW50aWNhdGVkOiBpc0F1dGhlbnRpY2F0ZWQsXHJcblx0XHRcdGlzQWRtaW46IGlzQWRtaW5cclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKCkge1xyXG5cdFx0XHRyZXR1cm4gc2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCduYW1lJylcclxuXHRcdFx0XHQudGhlbihpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHN0YXR1c1NlcnZpY2UuT0spO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3Qoc3RhdHVzU2VydmljZS5VTkFVVEhPUklaRUQpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBpc0FkbWluKCkge1xyXG5cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBTdGF0dXMgY29kZXMgdXNlZCB3aGVuIGFjY2Vzc2luZyB2YXJpb3VzIHBhZ2VzIGluIHRoZSBhcHAuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5zZXJ2aWNlKCdzdGF0dXNTZXJ2aWNlJywgc3RhdHVzU2VydmljZSk7XHJcblxyXG5cdGZ1bmN0aW9uIHN0YXR1c1NlcnZpY2UoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRPSzogMjAwLFxyXG5cdFx0XHRVTkFVVEhPUklaRUQ6IDQwMSxcclxuXHRcdFx0Rk9SQklEREVOOiA0MDNcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnY2FsZW5kYXJTZXJ2aWNlJywgY2FsZW5kYXJTZXJ2aWNlKTtcclxuXHJcblx0Y2FsZW5kYXJTZXJ2aWNlLiRpbmplY3QgPSBbJ2NydWRTZXJ2aWNlJywgJ2NhY2hlU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGNhbGVuZGFyU2VydmljZShjcnVkU2VydmljZSwgY2FjaGVTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5jYWxlbmRhciA9IG5ldyBjcnVkU2VydmljZSgnY2FsZW5kYXInKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVDYWxlbmRhcjogY3JlYXRlQ2FsZW5kYXIsXHJcblx0XHRcdGRlbGV0ZUNhbGVuZGFyOiBkZWxldGVDYWxlbmRhcixcclxuXHRcdFx0Z2V0Q2FsZW5kYXJzOiBnZXRDYWxlbmRhcnMsXHJcblx0XHRcdHVwZGF0ZUNhbGVuZGFyOiB1cGRhdGVDYWxlbmRhclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVDYWxlbmRhcihjYWxlbmRhcikge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXIuY3JlYXRlKGNhbGVuZGFyKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlQ2FsZW5kYXIoaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyLnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENhbGVuZGFycygpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlU2VydmljZS5nZXRDYWxlbmRhcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVDYWxlbmRhcihpZCwgY2FsZW5kYXIpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyLnVwZGF0ZShpZCwgY2FsZW5kYXIpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG5cdFx0XHRcdGNhY2hlU2VydmljZS5jYWNoZUNhbGVuZGFycygpO1xyXG5cdFx0XHRcdHJldHVybiByZXN1bHQuZGF0YTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LnRpdGxlO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2V2ZW50TW9kYWxTZXJ2aWNlJywgZXZlbnRNb2RhbFNlcnZpY2UpO1xyXG5cclxuXHRldmVudE1vZGFsU2VydmljZS4kaW5qZWN0ID0gWyckdWliTW9kYWwnLCAnY2FsZW5kYXJTZXJ2aWNlJywgJ2V2ZW50c1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBldmVudE1vZGFsU2VydmljZSgkdWliTW9kYWwsIGNhbGVuZGFyU2VydmljZSwgZXZlbnRzU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG9wZW5FdmVudE1vZGFsOiBvcGVuRXZlbnRNb2RhbFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBvcGVuRXZlbnRNb2RhbChldmVudCwgY2FsZW5kYXJzKSB7XHJcblx0XHRcdHJldHVybiAkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9ldmVudHMvbW9kYWwvZXZlbnQubW9kYWwuaHRtbCcsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0Z3JvdXBzOiBmdW5jdGlvbigpIHsgcmV0dXJuIGNhbGVuZGFyczsgfSxcclxuXHRcdFx0XHRcdGl0ZW06IGV2ZW50XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGV2ZW50c1NlcnZpY2UuY3JlYXRlT3JVcGRhdGVFdmVudChyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0LnRoZW4oZXZlbnRzU2VydmljZS5nZXRFdmVudHMpO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRpZiAoTnVtYmVyKHJlc3BvbnNlKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXZlbnRzU2VydmljZS5kZWxldGVFdmVudChyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0XHQudGhlbihldmVudHNTZXJ2aWNlLmdldEV2ZW50cyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnY2FsZW5kYXJXaWRnZXRTZXJ2aWNlJywgY2FsZW5kYXJXaWRnZXRTZXJ2aWNlKTtcclxuXHJcblx0Y2FsZW5kYXJXaWRnZXRTZXJ2aWNlLiRpbmplY3QgPSBbJ21vbWVudCddO1xyXG5cdGZ1bmN0aW9uIGNhbGVuZGFyV2lkZ2V0U2VydmljZShtb21lbnQpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldEVuZE9mRGF5OiBnZXRFbmRPZkRheSxcclxuXHRcdFx0Z2V0TW9udGg6IGdldE1vbnRoLFxyXG5cdFx0XHRnZXRUb2RheTogZ2V0VG9kYXksXHJcblx0XHRcdGdldFdlZWs6IGdldFdlZWssXHJcblx0XHRcdGlzU2FtZURheTogaXNTYW1lRGF5LFxyXG5cdFx0XHRsYXN0TW9udGg6IGxhc3RNb250aCxcclxuXHRcdFx0bmV4dE1vbnRoOiBuZXh0TW9udGhcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RW5kT2ZEYXkoZGF5KSB7XHJcblx0XHRcdHJldHVybiBkYXkuY2xvbmUoKS5hZGQoMSwgJ2RheScpLnN1YnRyYWN0KDEsICdtcycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0ge01vbWVudCBPYmplY3R9IGFEYXkgRGF5IHRvIGJ1aWxkIG1vbnRoIGFyb3VuZC5cclxuXHRcdCogQHJldHVybiB7TW9tZW50IE9iamVjdFtdW119XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0TW9udGgoYURheSkge1xyXG5cdFx0XHR2YXIgbW9udGggPSBbXTtcclxuXHRcdFx0dmFyIGRheSA9IGFEYXkuY2xvbmUoKS5kYXRlKDEpLnN0YXJ0T2YoJ3dlZWsnKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuXHRcdFx0XHRtb250aC5wdXNoKGdldFdlZWsoZGF5LCBhRGF5Lm1vbnRoKCkpKTtcclxuXHRcdFx0XHRkYXkgPSBkYXkuYWRkKDEsICd3ZWVrcycpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBtb250aDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRUb2RheSgpIHtcclxuXHRcdFx0cmV0dXJuIG1vbWVudCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0ge01vbWVudCBPYmplY3R9XHRzdGFydERheVx0U3RhcnRpbmcgZGF5IG9mIGEgd2Vlay5cclxuXHRcdCogQHBhcmFtIHtpbnR9XHRcdFx0XHR0YXJnZXRNb250aFx0TW9udGggbnVtYmVyIGJlaW5nIGJ1aWx0LlxyXG5cdFx0KlxyXG5cdFx0KiBAcmV0dXJuIHtNb21lbnQgT2JqZWN0W119XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0V2VlayhzdGFydERheSwgdGFyZ2V0TW9udGgpIHtcclxuXHRcdFx0dmFyIHdlZWsgPSBbXTtcclxuXHJcblx0XHRcdHZhciBkYXkgPSBzdGFydERheS5jbG9uZSgpO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDc7IGkrKykge1xyXG5cdFx0XHRcdHdlZWsucHVzaCh7XHJcblx0XHRcdFx0XHRudW1iZXI6IGRheS5kYXRlKCksXHJcblx0XHRcdFx0XHRpc1RhcmdldE1vbnRoOiAoZGF5Lm1vbnRoKCkgPT09IHRhcmdldE1vbnRoKSxcclxuXHRcdFx0XHRcdGlzVG9kYXk6IGRheS5pc1NhbWUobW9tZW50KCksICdkYXknKSxcclxuXHRcdFx0XHRcdGZ1bGxEYXRlOiBkYXlcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRkYXkgPSBkYXkuY2xvbmUoKS5hZGQoMSwgJ2RheXMnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHdlZWs7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH1cdGRheTFcclxuXHRcdCogQHBhcmFtIHtNb21lbnQgT2JqZWN0fVx0ZGF5MlxyXG5cdFx0KlxyXG5cdFx0KiBAcmV0dXJuIHtib29sfVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGlzU2FtZURheShkYXkxLCBkYXkyKSB7XHJcblx0XHRcdHJldHVybiBkYXkxLmlzU2FtZShkYXkyLCAnZGF5Jyk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFNpbmNlIHNyY01vbnRoIGlzIGFuIGFycmF5IG9mIGRheXMgYnkgd2Vla3MsIGl0IGNvbnRhaW5zIGRheXMgbm90IGluIHRoZVxyXG5cdFx0KiBzb3VyY2UgbW9udGguIFRoZSBmaXJzdCBkYXkgb2YgdGhlIHRoaXJkIHdlZWsgb2YgdGhlIGdpdmVuIG1vbnRoIGlzXHJcblx0XHQqIGd1YXJhbnRlZWQgdG8gYmUgYSBkYXkgd2l0aGluIHRoZSBzb3VyY2UgbW9udGguXHJcblx0XHQqXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH1cdHNyY01vbnRoXHJcblx0XHQqIEByZXR1cm4ge01vbWVudCBPYmplY3RbXX1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBsYXN0TW9udGgoc3JjTW9udGgpIHtcclxuXHRcdFx0cmV0dXJuIGdldE1vbnRoKHNyY01vbnRoWzNdWzBdLmZ1bGxEYXRlLmNsb25lKCkuc3VidHJhY3QoMSwgJ21vbnRocycpKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHNlZSBsYXN0TW9udGgoKVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIG5leHRNb250aChzcmNNb250aCkge1xyXG5cdFx0XHRyZXR1cm4gZ2V0TW9udGgoc3JjTW9udGhbM11bMF0uZnVsbERhdGUuY2xvbmUoKS5hZGQoMSwgJ21vbnRocycpKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdyZWN1cnJlbmNlTW9kYWxTZXJ2aWNlJywgcmVjdXJyZW5jZU1vZGFsU2VydmljZSk7XHJcblxyXG5cdHJlY3VycmVuY2VNb2RhbFNlcnZpY2UuJGluamVjdCA9IFsnJHVpYk1vZGFsJywgJ3JlY3VycmVuY2VTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gcmVjdXJyZW5jZU1vZGFsU2VydmljZSgkdWliTW9kYWwsIHJlY3VycmVuY2VTZXJ2aWNlKSB7XHJcblx0XHR2YXIgcmMgPSB0aGlzOyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXHJcblx0XHR2YXIgcmVjdXJyZW5jZUluZm8gPSB7XHJcblx0XHRcdGZyZXE6IFsnaG91cmx5JywgJ2RhaWx5JywgJ3dlZWtseScsICdtb250aGx5JywgJ3llYXJseSddLFxyXG5cdFx0XHRkYXlzOiBbJ21vJywgJ3R1JywgJ3dlJywgJ3RoJywgJ2ZyJywgJ3NhJywgJ3N1J11cclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0b3BlblJlY3VycmVuY2VNb2RhbDogb3BlblJlY3VycmVuY2VNb2RhbFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBvcGVuUmVjdXJyZW5jZU1vZGFsKGl0ZW0pIHtcclxuXHRcdFx0cmV0dXJuICR1aWJNb2RhbC5vcGVuKHtcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTW9kYWxDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL3JlY3VycmVuY2UvbW9kYWwvcmVjdXJyZW5jZS5tb2RhbC5odG1sJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRncm91cHM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcmVjdXJyZW5jZUluZm87IH0sXHJcblx0XHRcdFx0XHRpdGVtOiBpdGVtXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmVjdXJyZW5jZVNlcnZpY2UuY29uc3RydWN0UmVjdXJyZW5jZShpdGVtKTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmVjdXJyZW5jZVNlcnZpY2UuY2xlYXJSZWN1cnJlbmNlKGl0ZW0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2xhYmVsU2VydmljZScsIGxhYmVsU2VydmljZSk7XHJcblxyXG5cdGxhYmVsU2VydmljZS4kaW5qZWN0ID0gWydjcnVkU2VydmljZScsICdjYWNoZVNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBsYWJlbFNlcnZpY2UoY3J1ZFNlcnZpY2UsIGNhY2hlU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0dm0ubGFiZWwgPSBuZXcgY3J1ZFNlcnZpY2UoJ2xhYmVsJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y3JlYXRlTGFiZWw6IGNyZWF0ZUxhYmVsLFxyXG5cdFx0XHRkZWxldGVMYWJlbDogZGVsZXRlTGFiZWwsXHJcblx0XHRcdGdldExhYmVsczogZ2V0TGFiZWxzLFxyXG5cdFx0XHR1cGRhdGVMYWJlbDogdXBkYXRlTGFiZWxcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlTGFiZWwobGFiZWwpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmxhYmVsLmNyZWF0ZShsYWJlbCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUxhYmVsKGlkKSB7XHJcblx0XHRcdHJldHVybiB2bS5sYWJlbC5yZW1vdmUoaWQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRMYWJlbHMoKSB7XHJcblx0XHRcdHJldHVybiBjYWNoZVNlcnZpY2UuZ2V0TGFiZWxzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlTGFiZWwoaWQsIGxhYmVsKSB7XHJcblx0XHRcdHJldHVybiB2bS5sYWJlbC51cGRhdGUoaWQsIGxhYmVsKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRjYWNoZVNlcnZpY2UuY2FjaGVMYWJlbHMoKTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdzdWJ0YXNrTW9kYWxTZXJ2aWNlJywgc3VidGFza01vZGFsU2VydmljZSk7XHJcblxyXG5cdHN1YnRhc2tNb2RhbFNlcnZpY2UuJGluamVjdCA9IFsnJHVpYk1vZGFsJywgJ2xhYmVsU2VydmljZScsICdzdWJ0YXNrc1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBzdWJ0YXNrTW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgbGFiZWxTZXJ2aWNlLCBzdWJ0YXNrc1NlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG9wZW5TdWJ0YXNrTW9kYWw6IG9wZW5TdWJ0YXNrTW9kYWxcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gb3BlblN1YnRhc2tNb2RhbChzdWJ0YXNrLCB0YXNrKSB7XHJcblx0XHRcdCR1aWJNb2RhbC5vcGVuKHtcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTW9kYWxDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL3Rhc2tzL21vZGFsL3N1YnRhc2subW9kYWwuaHRtbCcsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0Z3JvdXBzOiB0YXNrLFxyXG5cdFx0XHRcdFx0aXRlbTogc3VidGFza1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkucmVzdWx0XHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRzdWJ0YXNrc1NlcnZpY2UuY3JlYXRlT3JVcGRhdGVTdWJ0YXNrKHJlcy5zdWJ0YXNrLCByZXMudGFzayk7XHJcblx0XHRcdFx0fSwgZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHJlcyAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdFx0c3VidGFza3NTZXJ2aWNlLmRlbGV0ZVN1YnRhc2socmVzLnN1YnRhc2ssIHJlcy50YXNrKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd0YXNrTW9kYWxTZXJ2aWNlJywgdGFza01vZGFsU2VydmljZSk7XHJcblxyXG5cdHRhc2tNb2RhbFNlcnZpY2UuJGluamVjdCA9IFsnJHVpYk1vZGFsJywgJ2xhYmVsU2VydmljZScsICd0YXNrc1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiB0YXNrTW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgbGFiZWxTZXJ2aWNlLCB0YXNrc1NlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7IC8vIGpzaGludCBpZ25vcmU6IGxpbmVcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuVGFza01vZGFsOiBvcGVuVGFza01vZGFsXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIG9wZW5UYXNrTW9kYWwodGFzaywgbGFiZWxzKSB7XHJcblx0XHRcdHJldHVybiAkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy9tb2RhbC90YXNrLm1vZGFsLmh0bWwnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGdyb3VwczogZnVuY3Rpb24oKSB7IHJldHVybiBsYWJlbHM7IH0sXHJcblx0XHRcdFx0XHRpdGVtOiB0YXNrXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRhc2tzU2VydmljZS5jcmVhdGVPclVwZGF0ZVRhc2socmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdC50aGVuKHRhc2tzU2VydmljZS5nZXRUYXNrcyk7XHJcblx0XHRcdFx0fSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdGlmIChOdW1iZXIocmVzcG9uc2UpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB0YXNrc1NlcnZpY2UuZGVsZXRlVGFzayhyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0XHQudGhlbih0YXNrc1NlcnZpY2UuZ2V0VGFza3MpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1N1YnRhc2tzQ29udHJvbGxlcicsIFN1YnRhc2tzQ29udHJvbGxlcik7XHJcblxyXG5cdFN1YnRhc2tzQ29udHJvbGxlci4kaW5qZWN0ID0gWydzdWJ0YXNrc1NlcnZpY2UnLCAnc3VidGFza01vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFN1YnRhc2tzQ29udHJvbGxlcihzdWJ0YXNrc1NlcnZpY2UsIHN1YnRhc2tNb2RhbFNlcnZpY2UpIHtcclxuXHRcdHZhciBzdCA9IHRoaXM7XHJcblx0XHRzdC5zaG93U3VidGFza01vZGFsID0gc2hvd1N1YnRhc2tNb2RhbDtcclxuXHRcdHN0LnRvZ2dsZUNvbXBsZXRlZCA9IHRvZ2dsZUNvbXBsZXRlZDtcclxuXHJcblx0XHRmdW5jdGlvbiBzaG93U3VidGFza01vZGFsKHN1YnRhc2spIHtcclxuXHRcdFx0c3VidGFza01vZGFsU2VydmljZS5vcGVuU3VidGFza01vZGFsKHN1YnRhc2ssIHN0LnRhc2spO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZChzdWJ0YXNrKSB7XHJcblx0XHRcdHN1YnRhc2tzU2VydmljZS50b2dnbGVDb21wbGV0ZWQoc3VidGFzayk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlU3VidGFza3MocmVzcG9uc2UpIHtcclxuXHRcdFx0aWYgKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0c3Quc3VidGFza3MgPSByZXNwb25zZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFN1YnRhc2tzJywgc3VidGFza3NEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBzdWJ0YXNrc0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy9zdWJ0YXNrcy9zdWJ0YXNrcy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1N1YnRhc2tzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3N0JyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHR0YXNrOiAnPSdcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3N1YnRhc2tzU2VydmljZScsIHN1YnRhc2tzU2VydmljZSk7XHJcblxyXG5cdHN1YnRhc2tzU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gc3VidGFza3NTZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVPclVwZGF0ZVN1YnRhc2s6IGNyZWF0ZU9yVXBkYXRlU3VidGFzayxcclxuXHRcdFx0ZGVsZXRlU3VidGFzazogZGVsZXRlU3VidGFzayxcclxuXHRcdFx0dG9nZ2xlQ29tcGxldGVkOiB0b2dnbGVDb21wbGV0ZWRcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVTdWJ0YXNrKHN1YnRhc2ssIHRhc2spIHtcclxuXHRcdFx0aWYgKCF0YXNrLnN1YnRhc2tzKSB7XHJcblx0XHRcdFx0dGFzay5zdWJ0YXNrcyA9IHtcclxuXHRcdFx0XHRcdGN1cnJlbnRJZDogMSxcclxuXHRcdFx0XHRcdGxpc3Q6IFtdXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHN1YnRhc2suaWQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHN1YnRhc2suaWQgPSB0YXNrLnN1YnRhc2tzLmN1cnJlbnRJZCsrO1xyXG5cdFx0XHRcdHN1YnRhc2suY29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdFx0dGFzay5zdWJ0YXNrcy5saXN0LnB1c2goc3VidGFzayk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVTdWJ0YXNrKHN1YnRhc2ssIHRhc2spIHtcclxuXHRcdFx0dGFzay5zdWJ0YXNrcy5saXN0LnNwbGljZSh0YXNrLnN1YnRhc2tzLmxpc3QuaW5kZXhPZihzdWJ0YXNrKSwgMSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQ29tcGxldGVkKHN1YnRhc2spIHtcclxuXHRcdFx0c3VidGFzay5jb21wbGV0ZWQgPSAhc3VidGFzay5jb21wbGV0ZWQ7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignSGVhZGVyQ29udHJvbGxlcicsIEhlYWRlckNvbnRyb2xsZXIpO1xyXG5cclxuXHRIZWFkZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJ3VzZXInXTtcclxuXHRmdW5jdGlvbiBIZWFkZXJDb250cm9sbGVyKHVzZXIpIHtcclxuXHRcdHRoaXMudXNlciA9IHVzZXI7XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdoZWFkZXJTZXJ2aWNlJywgaGVhZGVyU2VydmljZSk7XHJcblxyXG5cdGhlYWRlclNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZycsICdzZXNzaW9uU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGhlYWRlclNlcnZpY2UoJGh0dHAsICRsb2csIHNlc3Npb25TZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRVc2VyOiBnZXRVc2VyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXIoKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ25hbWUnKVxyXG5cdFx0XHRcdC50aGVuKGdldE5hbWVDb21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBnZXROYW1lQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHJcblx0XHRcdFx0aWYgKHJlcy5zdWNjZXNzID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHtuYW1lOiBmYWxzZSwgdXJsOiAnIy9sb2dpbid9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4ge25hbWU6IHJlcy5kYXRhLCB1cmw6ICcjL2Rhc2hib2FyZCd9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignU2lkZWJhckNvbnRyb2xsZXInLCBTaWRlYmFyQ29udHJvbGxlcik7XHJcblxyXG5cdFNpZGViYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJ2xhYmVsU2VydmljZScsICdjYWxlbmRhclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBTaWRlYmFyQ29udHJvbGxlcihsYWJlbFNlcnZpY2UsIGNhbGVuZGFyU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmNvbGxhcHNlZCA9IHRydWU7XHJcblx0XHR2bS5sYWJlbHMgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGxhYmVsU2VydmljZS5nZXRMYWJlbHMoKTsgfTtcclxuXHRcdHZtLmNhbGVuZGFycyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FsZW5kYXJTZXJ2aWNlLmdldENhbGVuZGFycygpOyB9O1xyXG5cdH1cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
