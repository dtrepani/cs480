!function(){"use strict";function e(e,t){e.$on("$stateChangeError",t.stateChangeError)}angular.module("app",["ui.router","ui.bootstrap","angularMoment"]).controller("AppController",e),e.$inject=["$rootScope","appService"]}(),function(){"use strict";function e(e,t){function n(e){return e.getCalendars()}function r(e){return e.getEvents()}function o(e){return e.getLabels()}function a(e){return e.getTasks()}function c(e){return e.getUser()}function s(e){return e.isAuthenticated()}e.state("root",{url:"",templateUrl:"index.html","abstract":!0,resolve:{tasks:["tasksService",a],events:["eventsService",r],labels:["labelService",o],calendars:["calendarService",n],user:["headerService",c]},views:{header:{templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"hc"},sidebar:{templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"sc"}}}).state("login",{url:"/login",parent:"root",views:{"content@":{templateUrl:"modules/login/login.html",controller:"LoginController",controllerAs:"vm"}}}).state("logout",{url:"/logout",parent:"root",views:{"content@":{templateUrl:"modules/logout/logout.html",controller:"LogoutController",controllerAs:"vm"}}}).state("register",{url:"/register",parent:"root",views:{"content@":{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm"}}}).state("dashboard",{url:"/dashboard",parent:"root",views:{"content@":{templateUrl:"pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",s]}}}}).state("labels",{url:"/labels",parent:"root"}).state("labels.label",{url:"/:labelId",views:{"content@":{template:"In progress"}}}).state("inbox",{url:"/inbox",parent:"root",views:{"content@":{templateUrl:"pages/tasks/inbox.html",controller:"ActivityController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",s],items:["tasksService",a],groups:["labelService",o]}}}}).state("today",{url:"/today",parent:"root",views:{"content@":{templateUrl:"pages/tasks/today.html",controller:"ActivityController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",s],items:["tasksService",a],groups:["labelService",o]}}}}).state("week",{url:"/week",parent:"root",views:{"content@":{templateUrl:"pages/tasks/week.html",controller:"ActivityController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",s],items:["tasksService",a],groups:["labelService",o]}}}}).state("calendar",{url:"/calendar",parent:"root",views:{"content@":{templateUrl:"pages/calendar/calendar.html",controller:"ActivityController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",s],items:["eventsService",r],groups:["calendarService",n]}}}}),t.otherwise("/dashboard")}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e,t){function n(n,r,o,a){a===t.UNAUTHORIZED?e.path("/login"):a===t.FORBIDDEN&&e.path("/forbidden")}return{stateChangeError:n}}angular.module("app").factory("appService",e),e.$inject=["$location","statusService"]}(),function(){"use strict";function e(){return function(e,t){if(!t)return e;for(var n=[],r=0;r<e.length;r++)(e[r].label_id===t||e[r].calendar_id===t)&&n.push(e[r]);return n}}angular.module("app").filter("inGroups",e),e.$inject=[]}(),function(){"use strict";function e(e){return function(t,n){for(var r=[],o=0;o<t.length;o++){var a=n.isSame(e(t[o].dt_start),"day");a||(a=n.isSame(e(t[o].dt_end),"day")),a&&r.push(t[o])}return r}}angular.module("app").filter("sameDayAs",e),e.$inject=["moment"]}(),function(){"use strict";function e(e){return function(t,n){if(!n)return t;for(var r=[],o=0;o<t.length;o++){(!t[o].due||t[o].due&&e(t[o].due).isBefore(e().add(n,"days")))&&r.push(t[o])}return r}}angular.module("app").filter("withinDays",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t,n){var r=this;r.items=t,r.groups=n}angular.module("app").controller("ActivityController",e),e.$inject=["isAuthenticated","items","groups"]}(),function(){"use strict";function e(e,t){function n(e){switch(this.type=e,this.base="api/",e){case"event":case"calendar":this.base+="activity/calendar/";break;case"label":case"task":this.base+="activity/task/";break;default:this.base+=e+"/"}this.base+=e+"Manager.php"}function r(t){return e.get(this.base+"?id="+t).then(u)["catch"](i)}function o(t,n){return e.get(this.base+"?usewhere=true&where="+escape(t)+"&id="+n).then(u)["catch"](i)}function a(t){return t=this.removeUnecessaryKeys(t),e.post(this.base,t).then(u)["catch"](i)}function c(t,n){return n=this.removeUnecessaryKeys(n),e.put(this.base+"?id="+t,n).then(u)["catch"](i)}function s(t){return e["delete"](this.base+"?id="+t).then(u)["catch"](i)}function l(t,n){return e["delete"](this.base+"?where=true&id="+n,t).then(u)["catch"](i)}function u(e){return e}function i(e){return t.error(e),{success:"false",title:"Error when querying server.",message:e}}function d(e){for(var t=["id","person_id",this.type+"_id","activity_info_id","parent_name"],n=0;n<t.length;n++)delete e[t[n]];return e}var p=n;return p.prototype={get:r,getWhere:o,create:a,update:c,remove:s,removeWhere:l,removeUnecessaryKeys:d},p}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t){function n(t){return e.get(c.base+t).then(o)["catch"](a)}function r(t,n){return e.post(c.base+t,n).then(o)["catch"](a)}function o(e){return e}function a(e){return t.error(e),{success:"false",title:"Error when accessing variable.",message:e}}var c=this;return c.base="api/session/sessionVarManager.php?var=",{getVar:n,setVar:r}}angular.module("app").factory("sessionService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t,n,r){function o(){p.today=t.getToday(),p.selectedDay=p.today,p.month=t.getMonth(p.today)}function a(e){return t.getEndOfDay(e)}function c(e){return t.isSameDay(e,p.selectedDay)}function s(e){p.selectedDay=e.fullDate}function l(e){r.openEventModal(e,p.calendars).then(d)}function u(){p.month=t.lastMonth(p.month)}function i(){p.month=t.nextMonth(p.month)}function d(e){e&&(p.events=e)}var p=this;p.today=null,p.selectedDay=null,p.month=null,p.isSameDayAsSelected=c,p.getEndOfDay=a,p.selectDay=s,p.showEventModal=l,p.lastMonth=u,p.nextMonth=i,o()}angular.module("app").controller("EventsController",e),e.$inject=["moment","calendarWidgetService","eventsService","eventModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/events/events.html",controller:"EventsController",controllerAs:"vm",bindToController:!0,scope:{events:"=",calendars:"="}}}angular.module("app").directive("spEvents",e)}(),function(){"use strict";function e(e,t,n,r){function o(e){return i.event.create(e).then(u)}function a(e){return e.event_id?l(e.event_id,e):o(e)}function c(e){return i.event.remove(e).then(u)}function s(){function e(e){var t=e.data;return t.success?i.event.getWhere("",t.data).then(u):t.title}return r.getVar("id").then(e)}function l(e,t){return i.event.update(e,t).then(u)}function u(e){var t=e.data;return t.success?t.data:t.title}var i=this;return i.event=new n("event"),{createEvent:o,createOrUpdateEvent:a,deleteEvent:c,getEvents:s,updateEvent:l}}angular.module("app").factory("eventsService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(){function e(e,t,n,r){t[0].focus()}return{restrict:"A",link:e}}angular.module("app").directive("spAutoFocus",e)}(),function(){"use strict";function e(){function e(e,t,n,r){function o(){s()}function a(t){return t===e.otherModel.$viewValue}function c(e,t){r.$validate()}var s=e.$watch("otherModel",c);r.$validators.spCompareTo=a,t.on("$destroy",o)}return{require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e}}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.login(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.loading=!1,n.error="",n.login=t}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,t,n){function r(r){function o(e){return e.data.success===!1?e.data.title:void t.path("/dashboard")}function a(e){return n.error(e),"Something went wrong. Please try again."}return e.post("api/user/loginManager.php",r).then(o)["catch"](a)}return{login:r}}angular.module("app").factory("loginService",e),e.$inject=["$http","$location","$log"]}(),function(){"use strict";function e(e,t,n){function r(){e.dismiss("cancel")}function o(){e.close()}function a(t){e.close(t)}function c(t){e.dismiss(t)}var s=this;s.groups=t,s.item=n,s.cancel=r,s.close=o,s.confirm=a,s.remove=c}angular.module("app").controller("ModalController",e),e.$inject=["$uibModalInstance","groups","item"]}(),function(){"use strict";function e(e){function t(){n.item.recurrence&&e.openRecurrenceModal(n.item)}var n=this;n.showRecurrenceModal=t}angular.module("app").controller("RecurrenceController",e),e.$inject=["recurrenceModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/recurrence/recurrence.html",controller:"RecurrenceController",controllerAs:"rc",bindToController:!0,scope:{item:"="}}}angular.module("app").directive("spRepeat",e)}(),function(){"use strict";function e(){function e(e){e.recurrence=!1}function t(e){}return{clearRecurrence:e,constructRecurrence:t}}angular.module("app").factory("recurrenceService",e)}(),function(){"use strict";function e(e,t){function n(e){t.openTaskModal(e,a.labels).then(o)}function r(t){e.toggleCompleted(t).then(o)}function o(e){e&&(a.tasks=e)}var a=this;a.showTaskModal=n,a.toggleCompleted=r}angular.module("app").controller("TasksController",e),e.$inject=["tasksService","taskModalService"]}(),function(){"use strict";function e(e){return{templateUrl:"modules/tasks/tasks.html",controller:"TasksController",controllerAs:"vm",bindToController:!0,scope:{tasks:"=",labels:"=",order:"=",days:"=withinDays",inLabels:"=inGroups"}}}angular.module("app").directive("spTasks",e),e.$inject=["$filter"]}(),function(){"use strict";function e(e,t,n,r){function o(e){return d.task.create(e).then(i)}function a(e){return e.task_id?u(e.task_id,e):o(e)}function c(e){return d.task.remove(e).then(i)}function s(){function e(e){var t=e.data;return t.success?d.task.getWhere("",t.data).then(i):t.title}return r.getVar("id").then(e)}function l(e){return e.completed=!parseInt(e.completed),u(e.task_id,e).then(s)}function u(e,t){return d.task.update(e,t).then(i)}function i(e){var t=e.data;return t.success?t.data:t.title}var d=this;return d.task=new n("task"),{createTask:o,createOrUpdateTask:a,deleteTask:c,getTasks:s,toggleCompleted:l,updateTask:u}}angular.module("app").factory("tasksService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t,n){function r(e,t){return n.uploadFile(e).then(function(e){return e})}var o=this;o.uploadFile=r}angular.module("app").controller("UploadController",e),e.$inject=["$scope","$http","uploadService"]}(),function(){"use strict";function e(e){function t(t,n,r){function o(e){t.$apply(function(){var e=n[0].files[0];e.size<=a?t.uc.uploadFile(e).then(function(e){t.spFileChange=e}):alert("File must be less than "+a/1024/1024+"MB.")})}var a=2097152;e(r.spFileChange);n[0].addEventListener("change",o,!1)}return{restrict:"A",controller:"UploadController",controllerAs:"uc",link:t,scope:{spFileChange:"="}}}angular.module("app").directive("spFileChange",e),e.$inject=["$parse"]}(),function(){"use strict";function e(e,t){function n(n){var r=new FormData;return r.append("file",n),e.post("api/upload/uploadManager.php",r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return e.data.success?e.data.data:(t.error(e.title),"")})["catch"](function(e){t.error(e)})}return{uploadFile:n}}angular.module("app").factory("uploadService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t,n,r,o){var a=this;a.tasks=t,a.events=n,a.labels=r,a.calendars=o}angular.module("app").controller("DashboardController",e),e.$inject=["isAuthenticated","tasks","events","labels","calendars"]}(),function(){"use strict";function e(e){function t(){n.loading=!0,e.register(n.user).then(function(e){n.loading=!1,n.error=e})}var n=this;n.error="",n.loading=!1,n.register=t}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,t,n){function r(n){function r(n){return"false"===n.success?(t.error(n.title),n.title):void e.url("/login")}return o.crud.create(n).then(r)}var o=this;return o.crud=new n("user"),{register:r}}angular.module("app").factory("registerService",e),e.$inject=["$location","$log","crudService"]}(),function(){"use strict";function e(e,t,n,r){function o(){function e(e){return e.data.success!==!1?c.resolve(r.OK):c.reject(r.UNAUTHORIZED),c.promise}return n.getVar("name").then(e)}function a(){}var c=t.defer();return{isAuthenticated:o,isAdmin:a}}angular.module("app").factory("accessService",e),e.$inject=["$location","$q","sessionService","statusService"]}(),function(){"use strict";function e(){return{OK:200,UNAUTHORIZED:401,FORBIDDEN:403}}angular.module("app").service("statusService",e)}(),function(){"use strict";function e(e,t,n,r){function o(e){return u.calendar.create(e).then(l)}function a(e){return u.calendar.remove(e).then(l)}function c(){function e(e){var t=e.data;return t.success?u.calendar.getWhere("person_id="+t.data,"").then(l):t.title}return r.getVar("id").then(e)}function s(e,t){return u.calendar.update(e,t).then(l)}function l(e){var t=e.data;return t.success?t.data:t.title}var u=this;return u.calendar=new n("calendar"),{createCalendar:o,deleteCalendar:a,getCalendars:c,updateCalendar:s}}angular.module("app").factory("calendarService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/events/modal/event.modal.html",resolve:{groups:function(){return r},item:t}}).result.then(function(e){return n.createOrUpdateEvent(e).then(n.getEvents)},function(e){return"string"!=typeof e?n.deleteEvent(e).then(n.getEvents):void 0})}return{openEventModal:r}}angular.module("app").factory("eventModalService",e),e.$inject=["$uibModal","calendarService","eventsService"]}(),function(){"use strict";function e(e){function t(e){return e.clone().add(1,"day").subtract(1,"ms")}function n(e){for(var t=[],n=e.clone().date(1).startOf("week"),r=0;6>r;r++)t.push(o(n,e.month())),n=n.add(1,"weeks");return t}function r(){return e()}function o(t,n){for(var r=[],o=t.clone(),a=0;7>a;a++)r.push({number:o.date(),isTargetMonth:o.month()===n,isToday:o.isSame(e(),"day"),fullDate:o}),o=o.clone().add(1,"days");return r}function a(e,t){return e.isSame(t,"day")}function c(e){return n(e[3][0].fullDate.clone().subtract(1,"months"))}function s(e){return n(e[3][0].fullDate.clone().add(1,"months"))}return{getEndOfDay:t,getMonth:n,getToday:r,getWeek:o,isSameDay:a,lastMonth:c,nextMonth:s}}angular.module("app").factory("calendarWidgetService",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t){function n(n){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/recurrence/modal/recurrence.modal.html",resolve:{groups:function(){return r},item:n}}).result.then(function(e){t.constructRecurrence(n)},function(e){t.clearRecurrence(n)})}var r={freq:["hourly","daily","weekly","monthly","yearly"],days:["mo","tu","we","th","fr","sa","su"]};return{openRecurrenceModal:n}}angular.module("app").factory("recurrenceModalService",e),e.$inject=["$uibModal","recurrenceService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/tasks/modal/subtask.modal.html",resolve:{groups:r,item:t}}).result.then(function(e){n.createOrUpdateSubtask(e.subtask,e.task)},function(e){"string"!=typeof e&&n.deleteSubtask(e.subtask,e.task)})}return{openSubtaskModal:r}}angular.module("app").factory("subtaskModalService",e),e.$inject=["$uibModal","labelService","subtasksService"]}(),function(){"use strict";function e(e,t,n){function r(t,r){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/tasks/modal/task.modal.html",resolve:{groups:function(){return r},item:t}}).result.then(function(e){return n.createOrUpdateTask(e).then(n.getTasks)},function(e){return"string"!=typeof e?n.deleteTask(e).then(n.getTasks):void 0})}return{openTaskModal:r}}angular.module("app").factory("taskModalService",e),e.$inject=["$uibModal","labelService","tasksService"]}(),function(){"use strict";function e(e,t,n,r){function o(e){return u.label.create(e).then(l)}function a(e){return u.label.remove(e).then(l)}function c(){function e(e){var t=e.data;return t.success?u.label.getWhere("person_id="+t.data,"").then(l):t.title}return r.getVar("id").then(e)}function s(e,t){return u.label.update(e,t).then(l)}function l(e){var t=e.data;return t.success?t.data:t.title}var u=this;return u.label=new n("label"),{createLabel:o,deleteLabel:a,getLabels:c,updateLabel:s}}angular.module("app").factory("labelService",e),e.$inject=["$http","$log","crudService","sessionService"]}(),function(){"use strict";function e(e,t){function n(e){t.openSubtaskModal(e,o.task)}function r(t){e.toggleCompleted(t)}var o=this;o.showSubtaskModal=n,o.toggleCompleted=r}angular.module("app").controller("SubtasksController",e),e.$inject=["subtasksService","subtaskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/tasks/subtasks/subtasks.html",controller:"SubtasksController",controllerAs:"st",bindToController:!0,scope:{task:"="}}}angular.module("app").directive("spSubtasks",e)}(),function(){"use strict";function e(e,t){function n(e,t){t.subtasks||(t.subtasks={currentId:1,list:[]}),void 0===e.id&&(e.id=t.subtasks.currentId++,e.completed=!1,t.subtasks.list.push(e))}function r(e,t){t.subtasks.list.splice(t.subtasks.list.indexOf(e),1)}function o(e){e.completed=!e.completed}return{createOrUpdateSubtask:n,deleteSubtask:r,toggleCompleted:o}}angular.module("app").factory("subtasksService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e){this.user=e}angular.module("app").controller("HeaderController",e),e.$inject=["user"]}(),function(){"use strict";function e(e,t,n){function r(){function e(e){var t=e.data;return t.success===!1?{name:!1,url:"#/login"}:{name:t.data,url:"#/dashboard"}}return n.getVar("name").then(e)}return{getUser:r}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log","sessionService"]}(),function(){"use strict";function e(e,t){var n=this;n.collapsed=!0,n.labels=e,n.calendars=t}angular.module("app").controller("SidebarController",e),e.$inject=["labels","calendars"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCJhcHBTZXJ2aWNlIiwiJG9uIiwic3RhdGVDaGFuZ2VFcnJvciIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJGluamVjdCIsImFwcENvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiZ2V0Q2FsZW5kYXJzIiwiY2FsZW5kYXJTZXJ2aWNlIiwiZ2V0RXZlbnRzIiwiZXZlbnRzU2VydmljZSIsImdldExhYmVscyIsImxhYmVsU2VydmljZSIsImdldFRhc2tzIiwidGFza3NTZXJ2aWNlIiwiZ2V0VXNlciIsImhlYWRlclNlcnZpY2UiLCJpc0F1dGhlbnRpY2F0ZWQiLCJhY2Nlc3NTZXJ2aWNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImFic3RyYWN0IiwicmVzb2x2ZSIsInRhc2tzIiwiZXZlbnRzIiwibGFiZWxzIiwiY2FsZW5kYXJzIiwidXNlciIsInZpZXdzIiwiaGVhZGVyIiwiY29udHJvbGxlckFzIiwic2lkZWJhciIsInBhcmVudCIsImNvbnRlbnRAIiwidGVtcGxhdGUiLCJpdGVtcyIsImdyb3VwcyIsIm90aGVyd2lzZSIsImNvbmZpZyIsIiRsb2NhdGlvbiIsInN0YXR1c1NlcnZpY2UiLCJldmVudCIsInVuZm91bmRTdGF0ZSIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJVTkFVVEhPUklaRUQiLCJwYXRoIiwiRk9SQklEREVOIiwiZmFjdG9yeSIsImluR3JvdXBzIiwiYWN0aXZpdGllcyIsImFjdGl2aXRpZXNJbkdyb3VwcyIsImkiLCJsZW5ndGgiLCJsYWJlbF9pZCIsImNhbGVuZGFyX2lkIiwicHVzaCIsImZpbHRlciIsInNhbWVEYXlBcyIsIm1vbWVudCIsImRheSIsInNhbWVEYXlFdmVudHMiLCJyZXN1bHQiLCJpc1NhbWUiLCJkdF9zdGFydCIsImR0X2VuZCIsIndpdGhpbkRheXMiLCJudW1PZkRheXMiLCJ0YXNrc1dpdGhpbkRheXMiLCJkdWUiLCJpc0JlZm9yZSIsImFkZCIsIkFjdGl2aXR5Q29udHJvbGxlciIsInZtIiwidGhpcyIsImNydWRTZXJ2aWNlIiwiJGh0dHAiLCIkbG9nIiwiaW5pdCIsInR5cGUiLCJiYXNlIiwiZ2V0IiwiaWQiLCJ0aGVuIiwicHJvbWlzZUNvbXBsZXRlIiwicHJvbWlzZUZhaWxlZCIsImdldFdoZXJlIiwid2hlcmUiLCJ1c2VySUQiLCJlc2NhcGUiLCJjcmVhdGUiLCJkYXRhIiwicmVtb3ZlVW5lY2Vzc2FyeUtleXMiLCJwb3N0IiwidXBkYXRlIiwicHV0IiwicmVtb3ZlIiwicmVtb3ZlV2hlcmUiLCJyZXNwb25zZSIsImVycm9yIiwic3VjY2VzcyIsInRpdGxlIiwibWVzc2FnZSIsInRvRGVsZXRlIiwiY3J1ZCIsInByb3RvdHlwZSIsInNlc3Npb25TZXJ2aWNlIiwiZ2V0VmFyIiwiJG5hbWUiLCJzZXRWYXIiLCIkdmFsdWUiLCJFdmVudHNDb250cm9sbGVyIiwiY2FsZW5kYXJXaWRnZXRTZXJ2aWNlIiwiZXZlbnRNb2RhbFNlcnZpY2UiLCJhY3RpdmF0ZSIsInRvZGF5IiwiZ2V0VG9kYXkiLCJzZWxlY3RlZERheSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJnZXRFbmRPZkRheSIsImlzU2FtZURheUFzU2VsZWN0ZWQiLCJpc1NhbWVEYXkiLCJzZWxlY3REYXkiLCJmdWxsRGF0ZSIsInNob3dFdmVudE1vZGFsIiwib3BlbkV2ZW50TW9kYWwiLCJ1cGRhdGVFdmVudHMiLCJsYXN0TW9udGgiLCJuZXh0TW9udGgiLCJldmVudHNEaXJlY3RpdmUiLCJiaW5kVG9Db250cm9sbGVyIiwic2NvcGUiLCJkaXJlY3RpdmUiLCJjcmVhdGVFdmVudCIsImNyZWF0ZU9yVXBkYXRlRXZlbnQiLCJldmVudF9pZCIsInVwZGF0ZUV2ZW50IiwiZGVsZXRlRXZlbnQiLCJnZXRFdmVudFdpdGhVc2VySUQiLCJyZXMiLCJhdXRvRm9jdXNEaXJlY3RpdmUiLCJsaW5rIiwiZWxlbWVudCIsImF0dHJzIiwibmdNb2RlbCIsImZvY3VzIiwicmVzdHJpY3QiLCJjb21wYXJlVG9EaXJlY3RpdmUiLCJjbGVhblVwIiwidW5iaW5kV2F0Y2giLCJjb21wYXJlVmFsdWVzIiwidmlld1ZhbHVlIiwib3RoZXJNb2RlbCIsIiR2aWV3VmFsdWUiLCJ2YWxpZGF0ZU9uQ2hhbmdlIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsIiR2YWxpZGF0ZSIsIiR3YXRjaCIsIiR2YWxpZGF0b3JzIiwic3BDb21wYXJlVG8iLCJvbiIsInJlcXVpcmUiLCJMb2dpbkNvbnRyb2xsZXIiLCJsb2dpblNlcnZpY2UiLCJsb2dpbiIsImxvYWRpbmciLCJsb2dpbkNvbXBsZXRlIiwibG9naW5GYWlsZWQiLCJNb2RhbENvbnRyb2xsZXIiLCIkdWliTW9kYWxJbnN0YW5jZSIsIml0ZW0iLCJjYW5jZWwiLCJkaXNtaXNzIiwiY2xvc2UiLCJjb25maXJtIiwiUmVjdXJyZW5jZUNvbnRyb2xsZXIiLCJyZWN1cnJlbmNlTW9kYWxTZXJ2aWNlIiwic2hvd1JlY3VycmVuY2VNb2RhbCIsInJjIiwicmVjdXJyZW5jZSIsIm9wZW5SZWN1cnJlbmNlTW9kYWwiLCJyZWN1cnJlbmNlRGlyZWN0aXZlIiwicmVjdXJyZW5jZVNlcnZpY2UiLCJjbGVhclJlY3VycmVuY2UiLCJjb25zdHJ1Y3RSZWN1cnJlbmNlIiwiVGFza3NDb250cm9sbGVyIiwidGFza01vZGFsU2VydmljZSIsInNob3dUYXNrTW9kYWwiLCJ0YXNrIiwib3BlblRhc2tNb2RhbCIsInVwZGF0ZVRhc2tzIiwidG9nZ2xlQ29tcGxldGVkIiwidGFza3NEaXJlY3RpdmUiLCIkZmlsdGVyIiwib3JkZXIiLCJkYXlzIiwiaW5MYWJlbHMiLCJjcmVhdGVUYXNrIiwiY3JlYXRlT3JVcGRhdGVUYXNrIiwidGFza19pZCIsInVwZGF0ZVRhc2siLCJkZWxldGVUYXNrIiwiZ2V0VGFza1dpdGhVc2VySUQiLCJjb21wbGV0ZWQiLCJwYXJzZUludCIsIlVwbG9hZENvbnRyb2xsZXIiLCIkc2NvcGUiLCJ1cGxvYWRTZXJ2aWNlIiwidXBsb2FkRmlsZSIsImZpbGUiLCJvbGRGaWxlIiwiZmlsZVBhdGgiLCJ1YyIsInVwbG9hZERpcmVjdGl2ZSIsIiRwYXJzZSIsImZpbGVIYW5kbGVyIiwiJGFwcGx5IiwiZmlsZXMiLCJzaXplIiwibWF4RmlsZVNpemUiLCJzcEZpbGVDaGFuZ2UiLCJhbGVydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsInVuZGVmaW5lZCIsIkRhc2hib2FyZENvbnRyb2xsZXIiLCJSZWdpc3RlckNvbnRyb2xsZXIiLCJyZWdpc3RlclNlcnZpY2UiLCJyZWdpc3RlciIsInJlZ2lzdHJhdGlvbkNvbXBsZXRlIiwiJHEiLCJpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZSIsImRlZmVycmVkIiwiT0siLCJyZWplY3QiLCJwcm9taXNlIiwiaXNBZG1pbiIsImRlZmVyIiwic2VydmljZSIsImNyZWF0ZUNhbGVuZGFyIiwiY2FsZW5kYXIiLCJkZWxldGVDYWxlbmRhciIsImdldENhbGVuZGFyV2l0aFVzZXJJRCIsInVwZGF0ZUNhbGVuZGFyIiwiJHVpYk1vZGFsIiwib3BlbiIsImNsb25lIiwic3VidHJhY3QiLCJhRGF5IiwiZGF0ZSIsInN0YXJ0T2YiLCJnZXRXZWVrIiwic3RhcnREYXkiLCJ0YXJnZXRNb250aCIsIndlZWsiLCJudW1iZXIiLCJpc1RhcmdldE1vbnRoIiwiaXNUb2RheSIsImRheTEiLCJkYXkyIiwic3JjTW9udGgiLCJyZWN1cnJlbmNlSW5mbyIsImZyZXEiLCJzdWJ0YXNrTW9kYWxTZXJ2aWNlIiwic3VidGFza3NTZXJ2aWNlIiwib3BlblN1YnRhc2tNb2RhbCIsInN1YnRhc2siLCJjcmVhdGVPclVwZGF0ZVN1YnRhc2siLCJkZWxldGVTdWJ0YXNrIiwiY3JlYXRlTGFiZWwiLCJsYWJlbCIsImRlbGV0ZUxhYmVsIiwiZ2V0TGFiZWxXaXRoVXNlcklEIiwidXBkYXRlTGFiZWwiLCJTdWJ0YXNrc0NvbnRyb2xsZXIiLCJzaG93U3VidGFza01vZGFsIiwic3QiLCJzdWJ0YXNrc0RpcmVjdGl2ZSIsInN1YnRhc2tzIiwiY3VycmVudElkIiwibGlzdCIsInNwbGljZSIsImluZGV4T2YiLCJIZWFkZXJDb250cm9sbGVyIiwiZ2V0TmFtZUNvbXBsZXRlIiwibmFtZSIsIlNpZGViYXJDb250cm9sbGVyIiwiY29sbGFwc2VkIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNDLFlBT0EsU0FBU0EsR0FBY0MsRUFBWUMsR0FDbENELEVBQVdFLElBQUksb0JBQXFCRCxFQUFXRSxrQkFOaERDLFFBQ0VDLE9BQU8sT0FBUSxZQUFhLGVBQWdCLGtCQUM1Q0MsV0FBVyxnQkFBaUJQLEdBRTlCQSxFQUFjUSxTQUFXLGFBQWMsaUJBS3hDLFdBQ0MsWUFPQSxTQUFTQyxHQUFVQyxFQUFnQkMsR0F5SmxDLFFBQVNDLEdBQWFDLEdBQ3JCLE1BQU9BLEdBQWdCRCxlQUd4QixRQUFTRSxHQUFVQyxHQUNsQixNQUFPQSxHQUFjRCxZQUd0QixRQUFTRSxHQUFVQyxHQUNsQixNQUFPQSxHQUFhRCxZQUdyQixRQUFTRSxHQUFTQyxHQUNqQixNQUFPQSxHQUFhRCxXQUdyQixRQUFTRSxHQUFRQyxHQUNoQixNQUFPQSxHQUFjRCxVQUd0QixRQUFTRSxHQUFnQkMsR0FDeEIsTUFBT0EsR0FBY0Qsa0JBNUt0QlosRUFDRWMsTUFBTSxRQUNOQyxJQUFLLEdBQ0xDLFlBQWEsYUFDYkMsWUFBVSxFQUNWQyxTQUNDQyxPQUFRLGVBQWdCWCxHQUN4QlksUUFBUyxnQkFBaUJoQixHQUMxQmlCLFFBQVMsZUFBZ0JmLEdBQ3pCZ0IsV0FBWSxrQkFBbUJwQixHQUMvQnFCLE1BQU8sZ0JBQWlCYixJQUV6QmMsT0FDQ0MsUUFDQ1QsWUFBYSxrQ0FDYm5CLFdBQVksbUJBQ1o2QixhQUFjLE1BRWZDLFNBQ0NYLFlBQWEsb0NBQ2JuQixXQUFZLG9CQUNaNkIsYUFBYyxTQUloQlosTUFBTSxTQUNOQyxJQUFLLFNBQ0xhLE9BQVEsT0FDUkosT0FDQ0ssWUFDQ2IsWUFBYSwyQkFDYm5CLFdBQVksa0JBQ1o2QixhQUFjLFNBSWhCWixNQUFNLFVBQ05DLElBQUssVUFDTGEsT0FBUSxPQUNSSixPQUNDSyxZQUNDYixZQUFhLDZCQUNibkIsV0FBWSxtQkFDWjZCLGFBQWMsU0FJaEJaLE1BQU0sWUFDTkMsSUFBSyxZQUNMYSxPQUFRLE9BQ1JKLE9BQ0NLLFlBQ0NiLFlBQWEsK0JBQ2JuQixXQUFZLHFCQUNaNkIsYUFBYyxTQUloQlosTUFBTSxhQUNOQyxJQUFLLGFBQ0xhLE9BQVEsT0FDUkosT0FDQ0ssWUFDQ2IsWUFBYSxpQ0FDYm5CLFdBQVksc0JBQ1o2QixhQUFjLEtBQ2RSLFNBQ0NOLGlCQUFrQixnQkFBaUJBLFFBS3RDRSxNQUFNLFVBQ05DLElBQUssVUFDTGEsT0FBUSxTQUVSZCxNQUFNLGdCQUNOQyxJQUFLLFlBQ0xTLE9BQ0NLLFlBQ0NDLFNBQVUsa0JBSVpoQixNQUFNLFNBQ05DLElBQUssU0FDTGEsT0FBUSxPQUNSSixPQUNDSyxZQUNDYixZQUFhLHlCQUNibkIsV0FBWSxxQkFDWjZCLGFBQWMsS0FDZFIsU0FDQ04saUJBQWtCLGdCQUFpQkEsR0FDbkNtQixPQUFRLGVBQWdCdkIsR0FDeEJ3QixRQUFTLGVBQWdCMUIsUUFLNUJRLE1BQU0sU0FDTkMsSUFBSyxTQUNMYSxPQUFRLE9BQ1JKLE9BQ0NLLFlBQ0NiLFlBQWEseUJBQ2JuQixXQUFZLHFCQUNaNkIsYUFBYyxLQUNkUixTQUNDTixpQkFBa0IsZ0JBQWlCQSxHQUNuQ21CLE9BQVEsZUFBZ0J2QixHQUN4QndCLFFBQVMsZUFBZ0IxQixRQUs1QlEsTUFBTSxRQUNOQyxJQUFLLFFBQ0xhLE9BQVEsT0FDUkosT0FDQ0ssWUFDQ2IsWUFBYSx3QkFDYm5CLFdBQVkscUJBQ1o2QixhQUFjLEtBQ2RSLFNBQ0NOLGlCQUFrQixnQkFBaUJBLEdBQ25DbUIsT0FBUSxlQUFnQnZCLEdBQ3hCd0IsUUFBUyxlQUFnQjFCLFFBSzVCUSxNQUFNLFlBQ05DLElBQUssWUFDTGEsT0FBUSxPQUNSSixPQUNDSyxZQUNDYixZQUFhLCtCQUNibkIsV0FBWSxxQkFDWjZCLGFBQWMsS0FDZFIsU0FDQ04saUJBQWtCLGdCQUFpQkEsR0FDbkNtQixPQUFRLGdCQUFpQjNCLEdBQ3pCNEIsUUFBUyxrQkFBbUI5QixRQU1qQ0QsRUFBbUJnQyxVQUFVLGNBNUo5QnRDLFFBQ0VDLE9BQU8sT0FDUHNDLE9BQU9uQyxHQUVUQSxFQUFVRCxTQUFXLGlCQUFrQix5QkFtTHhDLFdBQ0MsWUFPQSxTQUFTTixHQUFXMkMsRUFBV0MsR0FLOUIsUUFBUzFDLEdBQWlCMkMsRUFBT0MsRUFBY0MsRUFBV0MsR0FDckRBLElBQWVKLEVBQWNLLGFBQ2hDTixFQUFVTyxLQUFLLFVBQ0xGLElBQWVKLEVBQWNPLFdBQ3ZDUixFQUFVTyxLQUFLLGNBUmpCLE9BQ0NoRCxpQkFBa0JBLEdBUHBCQyxRQUNFQyxPQUFPLE9BQ1BnRCxRQUFRLGFBQWNwRCxHQUV4QkEsRUFBV00sU0FBVyxZQUFhLG9CQWdCcEMsV0FDQyxZQU9BLFNBQVMrQyxLQUNSLE1BQU8sVUFBU0MsRUFBWWQsR0FDM0IsSUFBS0EsRUFDSixNQUFPYyxFQUtSLEtBQUssR0FGREMsTUFFS0MsRUFBSSxFQUFHQSxFQUFJRixFQUFXRyxPQUFRRCxLQUNsQ0YsRUFBV0UsR0FBR0UsV0FBYWxCLEdBQzlCYyxFQUFXRSxHQUFHRyxjQUFnQm5CLElBRTlCZSxFQUFtQkssS0FBS04sRUFBV0UsR0FJckMsT0FBT0QsSUFyQlRwRCxRQUNFQyxPQUFPLE9BQ1B5RCxPQUFPLFdBQVlSLEdBRXJCQSxFQUFTL0MsY0FxQlYsV0FDQyxZQU9BLFNBQVN3RCxHQUFVQyxHQUNsQixNQUFPLFVBQVNuQyxFQUFRb0MsR0FHdkIsSUFBSyxHQUZEQyxNQUVLVCxFQUFJLEVBQUdBLEVBQUk1QixFQUFPNkIsT0FBUUQsSUFBSyxDQUN2QyxHQUFJVSxHQUFTRixFQUFJRyxPQUFPSixFQUFPbkMsRUFBTzRCLEdBQUdZLFVBQVcsTUFFL0NGLEtBQ0pBLEVBQVNGLEVBQUlHLE9BQU9KLEVBQU9uQyxFQUFPNEIsR0FBR2EsUUFBUyxRQUc1Q0gsR0FDRkQsRUFBY0wsS0FBS2hDLEVBQU80QixJQUk1QixNQUFPUyxJQXJCVDlELFFBQ0VDLE9BQU8sT0FDUHlELE9BQU8sWUFBYUMsR0FFdEJBLEVBQVV4RCxTQUFXLGFBcUJ0QixXQUNDLFlBT0EsU0FBU2dFLEdBQVdQLEdBQ25CLE1BQU8sVUFBU3BDLEVBQU80QyxHQUN0QixJQUFLQSxFQUNKLE1BQU81QyxFQUtSLEtBQUssR0FGRDZDLE1BRUtoQixFQUFJLEVBQUdBLEVBQUk3QixFQUFNOEIsT0FBUUQsSUFBSyxHQUdqQzdCLEVBQU02QixHQUFHaUIsS0FBUTlDLEVBQU02QixHQUFHaUIsS0FDOUJWLEVBQU9wQyxFQUFNNkIsR0FBR2lCLEtBQUtDLFNBQVNYLElBQVNZLElBQUlKLEVBQVcsV0FFdERDLEVBQWdCWixLQUFLakMsRUFBTTZCLElBSTdCLE1BQU9nQixJQXZCVHJFLFFBQ0VDLE9BQU8sT0FDUHlELE9BQU8sYUFBY1MsR0FFdkJBLEVBQVdoRSxTQUFXLGFBdUJ2QixXQUNDLFlBT0EsU0FBU3NFLEdBQW1CeEQsRUFBaUJtQixFQUFPQyxHQUNuRCxHQUFJcUMsR0FBS0MsSUFDVEQsR0FBR3RDLE1BQVFBLEVBQ1hzQyxFQUFHckMsT0FBU0EsRUFSYnJDLFFBQ0VDLE9BQU8sT0FDUEMsV0FBVyxxQkFBc0J1RSxHQUVuQ0EsRUFBbUJ0RSxTQUFXLGtCQUFtQixRQUFTLGFBTzNELFdBQ0MsWUFlQSxTQUFTeUUsR0FBWUMsRUFBT0MsR0FxQjNCLFFBQVNDLEdBQUtDLEdBSWIsT0FGQUwsS0FBS0ssS0FBT0EsRUFDWkwsS0FBS00sS0FBTyxPQUNKRCxHQUNQLElBQUssUUFDTCxJQUFLLFdBQ0pMLEtBQUtNLE1BQVEsb0JBQ2IsTUFDRCxLQUFLLFFBQ0wsSUFBSyxPQUNKTixLQUFLTSxNQUFRLGdCQUNiLE1BQ0QsU0FDQ04sS0FBS00sTUFBUUQsRUFBTyxJQUV0QkwsS0FBS00sTUFBUUQsRUFBTyxjQVFyQixRQUFTRSxHQUFJQyxHQUNaLE1BQU9OLEdBQU1LLElBQUlQLEtBQUtNLEtBQU8sT0FBU0UsR0FDcENDLEtBQUtDLEdBREFSLFNBRUNTLEdBVVQsUUFBU0MsR0FBU0MsRUFBT0MsR0FDeEIsTUFBT1osR0FBTUssSUFBSVAsS0FBS00sS0FBTyx3QkFBMEJTLE9BQU9GLEdBQVMsT0FBU0MsR0FDOUVMLEtBQUtDLEdBREFSLFNBRUNTLEdBT1QsUUFBU0ssR0FBT0MsR0FFZixNQURBQSxHQUFPakIsS0FBS2tCLHFCQUFxQkQsR0FDMUJmLEVBQU1pQixLQUFLbkIsS0FBS00sS0FBTVcsR0FDM0JSLEtBQUtDLEdBREFSLFNBRUNTLEdBU1QsUUFBU1MsR0FBT1osRUFBSVMsR0FFbkIsTUFEQUEsR0FBT2pCLEtBQUtrQixxQkFBcUJELEdBQzFCZixFQUFNbUIsSUFBSXJCLEtBQUtNLEtBQU8sT0FBU0UsRUFBSVMsR0FDeENSLEtBQUtDLEdBREFSLFNBRUNTLEdBT1QsUUFBU1csR0FBT2QsR0FDZixNQUFPTixHQUFBQSxVQUFhRixLQUFLTSxLQUFPLE9BQVNFLEdBQ3ZDQyxLQUFLQyxHQURBUixTQUVDUyxHQVVULFFBQVNZLEdBQVlWLEVBQU9DLEdBQzNCLE1BQU9aLEdBQUFBLFVBQWFGLEtBQUtNLEtBQU8sa0JBQW9CUSxFQUFRRCxHQUMxREosS0FBS0MsR0FEQVIsU0FFQ1MsR0FHVCxRQUFTRCxHQUFnQmMsR0FDeEIsTUFBT0EsR0FHUixRQUFTYixHQUFjYyxHQUV0QixNQURBdEIsR0FBS3NCLE1BQU1BLElBRVZDLFFBQVMsUUFDVEMsTUFBTyw4QkFDUEMsUUFBU0gsR0FXWCxRQUFTUCxHQUFxQkQsR0FFN0IsSUFBSyxHQUREWSxJQUFZLEtBQU0sWUFBYTdCLEtBQUtLLEtBQU8sTUFBTyxtQkFBb0IsZUFDakUzQixFQUFJLEVBQUdBLEVBQUltRCxFQUFTbEQsT0FBUUQsVUFDN0J1QyxHQUFLWSxFQUFTbkQsR0FFdEIsT0FBT3VDLEdBdklSLEdBQUlhLEdBQU8xQixDQVdYLE9BVkEwQixHQUFLQyxXQUNKeEIsSUFBS0EsRUFDTEssU0FBVUEsRUFDVkksT0FBUUEsRUFDUkksT0FBUUEsRUFDUkUsT0FBUUEsRUFDUkMsWUFBYUEsRUFDYkwscUJBQXNCQSxHQUdoQlksRUFqQlJ6RyxRQUNFQyxPQUFPLE9BQ1BnRCxRQUFRLGNBQWUyQixHQUV6QkEsRUFBWXpFLFNBQVcsUUFBUyxXQThJakMsV0FDQyxZQVdBLFNBQVN3RyxHQUFlOUIsRUFBT0MsR0FhOUIsUUFBUzhCLEdBQU9DLEdBQ2YsTUFBT2hDLEdBQU1LLElBQUlSLEVBQUdPLEtBQU80QixHQUN6QnpCLEtBQUtDLEdBREFSLFNBRUNTLEdBT1QsUUFBU3dCLEdBQU9ELEVBQU9FLEdBQ3RCLE1BQU9sQyxHQUFNaUIsS0FBS3BCLEVBQUdPLEtBQU80QixFQUFPRSxHQUNqQzNCLEtBQUtDLEdBREFSLFNBRUNTLEdBR1QsUUFBU0QsR0FBZ0JjLEdBQ3hCLE1BQU9BLEdBR1IsUUFBU2IsR0FBY2MsR0FFdEIsTUFEQXRCLEdBQUtzQixNQUFNQSxJQUVWQyxRQUFTLFFBQ1RDLE1BQU8saUNBQ1BDLFFBQVNILEdBckNYLEdBQUkxQixHQUFLQyxJQUdULE9BRkFELEdBQUdPLEtBQU8sMENBR1QyQixPQUFRQSxFQUNSRSxPQUFRQSxHQVhWOUcsUUFDRUMsT0FBTyxPQUNQZ0QsUUFBUSxpQkFBa0IwRCxHQUU1QkEsRUFBZXhHLFNBQVcsUUFBUyxXQTZDcEMsV0FDQyxZQU9BLFNBQVM2RyxHQUFpQnBELEVBQVFxRCxFQUF1QnZHLEVBQWV3RyxHQWV2RSxRQUFTQyxLQUNSekMsRUFBRzBDLE1BQVFILEVBQXNCSSxXQUNqQzNDLEVBQUc0QyxZQUFjNUMsRUFBRzBDLE1BQ3BCMUMsRUFBRzZDLE1BQVFOLEVBQXNCTyxTQUFTOUMsRUFBRzBDLE9BRzlDLFFBQVNLLEdBQVk1RCxHQUNwQixNQUFPb0QsR0FBc0JRLFlBQVk1RCxHQUcxQyxRQUFTNkQsR0FBb0I3RCxHQUM1QixNQUFPb0QsR0FBc0JVLFVBQVU5RCxFQUFLYSxFQUFHNEMsYUFHaEQsUUFBU00sR0FBVS9ELEdBQ2xCYSxFQUFHNEMsWUFBY3pELEVBQUlnRSxTQUd0QixRQUFTQyxHQUFlcEYsR0FDdkJ3RSxFQUFrQmEsZUFBZXJGLEVBQU9nQyxFQUFHL0MsV0FBV3lELEtBQUs0QyxHQUc1RCxRQUFTQyxLQUNSdkQsRUFBRzZDLE1BQVFOLEVBQXNCZ0IsVUFBVXZELEVBQUc2QyxPQUcvQyxRQUFTVyxLQUNSeEQsRUFBRzZDLE1BQVFOLEVBQXNCaUIsVUFBVXhELEVBQUc2QyxPQUcvQyxRQUFTUyxHQUFhN0IsR0FDakJBLElBQ0h6QixFQUFHakQsT0FBUzBFLEdBOUNkLEdBQUl6QixHQUFLQyxJQUNURCxHQUFHMEMsTUFBUSxLQUNYMUMsRUFBRzRDLFlBQWMsS0FDakI1QyxFQUFHNkMsTUFBUSxLQUVYN0MsRUFBR2dELG9CQUFzQkEsRUFDekJoRCxFQUFHK0MsWUFBY0EsRUFDakIvQyxFQUFHa0QsVUFBWUEsRUFDZmxELEVBQUdvRCxlQUFpQkEsRUFDcEJwRCxFQUFHdUQsVUFBWUEsRUFDZnZELEVBQUd3RCxVQUFZQSxFQUVmZixJQWxCRG5ILFFBQ0VDLE9BQU8sT0FDUEMsV0FBVyxtQkFBb0I4RyxHQUVqQ0EsRUFBaUI3RyxTQUFXLFNBQVUsd0JBQXlCLGdCQUFpQix3QkFxRGpGLFdBQ0MsWUFNQSxTQUFTZ0ksS0FDUixPQUNDOUcsWUFBYSw2QkFDYm5CLFdBQVksbUJBQ1o2QixhQUFjLEtBQ2RxRyxrQkFBa0IsRUFDbEJDLE9BQ0M1RyxPQUFRLElBQ1JFLFVBQVcsTUFaZDNCLFFBQ0VDLE9BQU8sT0FDUHFJLFVBQVUsV0FBWUgsTUFlekIsV0FDQyxZQU9BLFNBQVN6SCxHQUFjbUUsRUFBT0MsRUFBTUYsRUFBYStCLEdBWWhELFFBQVM0QixHQUFZN0YsR0FDcEIsTUFBT2dDLEdBQUdoQyxNQUFNaUQsT0FBT2pELEdBQU8wQyxLQUFLQyxHQUdwQyxRQUFTbUQsR0FBb0I5RixHQUM1QixNQUFLQSxHQUFNK0YsU0FHSkMsRUFBWWhHLEVBQU0rRixTQUFVL0YsR0FGM0I2RixFQUFZN0YsR0FLckIsUUFBU2lHLEdBQVl4RCxHQUNwQixNQUFPVCxHQUFHaEMsTUFBTXVELE9BQU9kLEdBQUlDLEtBQUtDLEdBR2pDLFFBQVM1RSxLQUlSLFFBQVNtSSxHQUFtQnpDLEdBQzNCLEdBQUkwQyxHQUFNMUMsRUFBU1AsSUFDbkIsT0FBSWlELEdBQUl4QyxRQUNBM0IsRUFBR2hDLE1BQU02QyxTQUFTLEdBQUlzRCxFQUFJakQsTUFBTVIsS0FBS0MsR0FFdEN3RCxFQUFJdkMsTUFSWixNQUFPSyxHQUFlQyxPQUFPLE1BQzNCeEIsS0FBS3dELEdBV1IsUUFBU0YsR0FBWXZELEVBQUl6QyxHQUN4QixNQUFPZ0MsR0FBR2hDLE1BQU1xRCxPQUFPWixFQUFJekMsR0FBTzBDLEtBQUtDLEdBR3hDLFFBQVNBLEdBQWdCYyxHQUN4QixHQUFJMEMsR0FBTTFDLEVBQVNQLElBQ25CLE9BQUlpRCxHQUFJeEMsUUFDQXdDLEVBQUlqRCxLQUVMaUQsRUFBSXZDLE1BaERaLEdBQUk1QixHQUFLQyxJQUdULE9BRkFELEdBQUdoQyxNQUFRLEdBQUlrQyxHQUFZLFVBRzFCMkQsWUFBYUEsRUFDYkMsb0JBQXFCQSxFQUNyQkcsWUFBYUEsRUFDYmxJLFVBQVdBLEVBQ1hpSSxZQUFhQSxHQWRmMUksUUFDRUMsT0FBTyxPQUNQZ0QsUUFBUSxnQkFBaUJ2QyxHQUUzQkEsRUFBY1AsU0FBVyxRQUFTLE9BQVEsY0FBZSxxQkF1RDFELFdBQ0MsWUFXQSxTQUFTMkksS0FNUixRQUFTQyxHQUFLVixFQUFPVyxFQUFTQyxFQUFPQyxHQUNwQ0YsRUFBUSxHQUFHRyxRQU5aLE9BQ0NDLFNBQVUsSUFDVkwsS0FBTUEsR0FQUi9JLFFBQ0VDLE9BQU8sT0FDUHFJLFVBQVUsY0FBZVEsTUFhNUIsV0FDQyxZQVVBLFNBQVNPLEtBU1IsUUFBU04sR0FBS1YsRUFBT1csRUFBU0MsRUFBT0MsR0FLcEMsUUFBU0ksS0FDUkMsSUFHRCxRQUFTQyxHQUFjQyxHQUN0QixNQUFRQSxLQUFjcEIsRUFBTXFCLFdBQVdDLFdBR3hDLFFBQVNDLEdBQWlCQyxFQUFVQyxHQUNuQ1osRUFBUWEsWUFiVCxHQUFJUixHQUFjbEIsRUFBTTJCLE9BQU8sYUFBY0osRUFDN0NWLEdBQVFlLFlBQVlDLFlBQWNWLEVBQ2xDUixFQUFRbUIsR0FBRyxXQUFZYixHQVh4QixPQUNDYyxRQUFTLFVBQ1QvQixPQUNDcUIsV0FBWSxnQkFFYlgsS0FBTUEsR0FWUi9JLFFBQ0VDLE9BQU8sT0FDUHFJLFVBQVUsY0FBZWUsTUE4QjVCLFdBQ0MsWUFPQSxTQUFTZ0IsR0FBZ0JDLEdBV3hCLFFBQVNDLEtBQ1I3RixFQUFHOEYsU0FBVSxFQUNiRixFQUFhQyxNQUFNN0YsRUFBRzlDLE1BQ3BCd0QsS0FBSyxTQUFTZSxHQUNkekIsRUFBRzhGLFNBQVUsRUFDYjlGLEVBQUcwQixNQUFRRCxJQWZkLEdBQUl6QixHQUFLQyxJQUNURCxHQUFHOEYsU0FBVSxFQUNiOUYsRUFBRzBCLE1BQVEsR0FFWDFCLEVBQUc2RixNQUFRQSxFQVZadkssUUFDRUMsT0FBTyxPQUNQQyxXQUFXLGtCQUFtQm1LLEdBRWhDQSxFQUFnQmxLLFNBQVcsbUJBc0I1QixXQUNDLFlBT0EsU0FBU21LLEdBQWF6RixFQUFPckMsRUFBV3NDLEdBT3ZDLFFBQVN5RixHQUFNM0ksR0FLZCxRQUFTNkksR0FBY3RFLEdBQ3RCLE1BQUlBLEdBQVNQLEtBQUtTLFdBQVksRUFDdEJGLEVBQVNQLEtBQUtVLFVBRXRCOUQsR0FBVU8sS0FBSyxjQUdoQixRQUFTMkgsR0FBWXRFLEdBRXBCLE1BREF0QixHQUFLc0IsTUFBTUEsR0FDSiwwQ0FiUixNQUFPdkIsR0FBTWlCLEtBQUssNEJBQTZCbEUsR0FDN0N3RCxLQUFLcUYsR0FEQTVGLFNBRUM2RixHQVBULE9BQ0NILE1BQU9BLEdBVFR2SyxRQUNFQyxPQUFPLE9BQ1BnRCxRQUFRLGVBQWdCcUgsR0FFMUJBLEVBQWFuSyxTQUFXLFFBQVMsWUFBYSxXQTRCL0MsV0FDQyxZQU9BLFNBQVN3SyxHQUFnQkMsRUFBbUJ2SSxFQUFRd0ksR0FVbkQsUUFBU0MsS0FDUkYsRUFBa0JHLFFBQVEsVUFHM0IsUUFBU0MsS0FDUkosRUFBa0JJLFFBR25CLFFBQVNDLEdBQVFyRixHQUNoQmdGLEVBQWtCSSxNQUFNcEYsR0FHekIsUUFBU0ssR0FBT0wsR0FDZmdGLEVBQWtCRyxRQUFRbkYsR0F0QjNCLEdBQUlsQixHQUFLQyxJQUNURCxHQUFHckMsT0FBU0EsRUFDWnFDLEVBQUdtRyxLQUFPQSxFQUVWbkcsRUFBR29HLE9BQVNBLEVBQ1pwRyxFQUFHc0csTUFBUUEsRUFDWHRHLEVBQUd1RyxRQUFVQSxFQUNidkcsRUFBR3VCLE9BQVNBLEVBYmJqRyxRQUNFQyxPQUFPLE9BQ1BDLFdBQVcsa0JBQW1CeUssR0FFaENBLEVBQWdCeEssU0FBVyxvQkFBcUIsU0FBVSxXQTRCM0QsV0FDQyxZQU9BLFNBQVMrSyxHQUFxQkMsR0FJN0IsUUFBU0MsS0FDSkMsRUFBR1IsS0FBS1MsWUFDWEgsRUFBdUJJLG9CQUFvQkYsRUFBR1IsTUFMaEQsR0FBSVEsR0FBSzFHLElBQ1QwRyxHQUFHRCxvQkFBc0JBLEVBUDFCcEwsUUFDRUMsT0FBTyxPQUNQQyxXQUFXLHVCQUF3QmdMLEdBRXJDQSxFQUFxQi9LLFNBQVcsNkJBWWpDLFdBQ0MsWUFNQSxTQUFTcUwsS0FDUixPQUNDbkssWUFBYSxxQ0FDYm5CLFdBQVksdUJBQ1o2QixhQUFjLEtBQ2RxRyxrQkFBa0IsRUFDbEJDLE9BQ0N3QyxLQUFNLE1BWFQ3SyxRQUNFQyxPQUFPLE9BQ1BxSSxVQUFVLFdBQVlrRCxNQWN6QixXQUNDLFlBTUEsU0FBU0MsS0FZUixRQUFTQyxHQUFnQmIsR0FDeEJBLEVBQUtTLFlBQWEsRUFHbkIsUUFBU0ssR0FBb0JkLElBVDdCLE9BQ0NhLGdCQUFpQkEsRUFDakJDLG9CQUFxQkEsR0FidkIzTCxRQUNFQyxPQUFPLE9BQ1BnRCxRQUFRLG9CQUFxQndJLE1Bd0JoQyxXQUNDLFlBT0EsU0FBU0csR0FBZ0I5SyxFQUFjK0ssR0FLdEMsUUFBU0MsR0FBY0MsR0FDdEJGLEVBQWlCRyxjQUFjRCxFQUFNckgsRUFBR2hELFFBQVEwRCxLQUFLNkcsR0FHdEQsUUFBU0MsR0FBZ0JILEdBQ3hCakwsRUFBYW9MLGdCQUFnQkgsR0FBTTNHLEtBQUs2RyxHQUd6QyxRQUFTQSxHQUFZOUYsR0FDaEJBLElBQ0h6QixFQUFHbEQsTUFBUTJFLEdBZGIsR0FBSXpCLEdBQUtDLElBQ1RELEdBQUdvSCxjQUFnQkEsRUFDbkJwSCxFQUFHd0gsZ0JBQWtCQSxFQVJ0QmxNLFFBQ0VDLE9BQU8sT0FDUEMsV0FBVyxrQkFBbUIwTCxHQUVoQ0EsRUFBZ0J6TCxTQUFXLGVBQWdCLHVCQXFCNUMsV0FDQyxZQU9BLFNBQVNnTSxHQUFlQyxHQUN2QixPQUNDL0ssWUFBYSwyQkFDYm5CLFdBQVksa0JBQ1o2QixhQUFjLEtBQ2RxRyxrQkFBa0IsRUFDbEJDLE9BQ0M3RyxNQUFPLElBQ1BFLE9BQVEsSUFDUjJLLE1BQU8sSUFDUEMsS0FBTSxjQUNOQyxTQUFVLGNBaEJidk0sUUFDRUMsT0FBTyxPQUNQcUksVUFBVSxVQUFXNkQsR0FFdkJBLEVBQWVoTSxTQUFXLGNBaUIzQixXQUNDLFlBT0EsU0FBU1csR0FBYStELEVBQU9DLEVBQU1GLEVBQWErQixHQWEvQyxRQUFTNkYsR0FBV1QsR0FDbkIsTUFBT3JILEdBQUdxSCxLQUFLcEcsT0FBT29HLEdBQU0zRyxLQUFLQyxHQUdsQyxRQUFTb0gsR0FBbUJWLEdBQzNCLE1BQUtBLEdBQUtXLFFBR0hDLEVBQVdaLEVBQUtXLFFBQVNYLEdBRnhCUyxFQUFXVCxHQUtwQixRQUFTYSxHQUFXekgsR0FDbkIsTUFBT1QsR0FBR3FILEtBQUs5RixPQUFPZCxHQUFJQyxLQUFLQyxHQUdoQyxRQUFTeEUsS0FJUixRQUFTZ00sR0FBa0IxRyxHQUMxQixHQUFJMEMsR0FBTTFDLEVBQVNQLElBQ25CLE9BQUlpRCxHQUFJeEMsUUFDQTNCLEVBQUdxSCxLQUFLeEcsU0FBUyxHQUFJc0QsRUFBSWpELE1BQU1SLEtBQUtDLEdBRXJDd0QsRUFBSXZDLE1BUlosTUFBT0ssR0FBZUMsT0FBTyxNQUMzQnhCLEtBQUt5SCxHQVdSLFFBQVNYLEdBQWdCSCxHQUV4QixNQURBQSxHQUFLZSxXQUFhQyxTQUFTaEIsRUFBS2UsV0FDekJILEVBQVdaLEVBQUtXLFFBQVNYLEdBQU0zRyxLQUFLdkUsR0FHNUMsUUFBUzhMLEdBQVd4SCxFQUFJNEcsR0FDdkIsTUFBT3JILEdBQUdxSCxLQUFLaEcsT0FBT1osRUFBSTRHLEdBQU0zRyxLQUFLQyxHQUd0QyxRQUFTQSxHQUFnQmMsR0FDeEIsR0FBSTBDLEdBQU0xQyxFQUFTUCxJQUNuQixPQUFJaUQsR0FBSXhDLFFBQ0F3QyxFQUFJakQsS0FFTGlELEVBQUl2QyxNQXREWixHQUFJNUIsR0FBS0MsSUFHVCxPQUZBRCxHQUFHcUgsS0FBTyxHQUFJbkgsR0FBWSxTQUd6QjRILFdBQVlBLEVBQ1pDLG1CQUFvQkEsRUFDcEJHLFdBQVlBLEVBQ1ovTCxTQUFVQSxFQUNWcUwsZ0JBQWlCQSxFQUNqQlMsV0FBWUEsR0FmZDNNLFFBQ0VDLE9BQU8sT0FDUGdELFFBQVEsZUFBZ0JuQyxHQUUxQkEsRUFBYVgsU0FBVyxRQUFTLE9BQVEsY0FBZSxxQkE2RHpELFdBQ0MsWUFPQSxTQUFTNk0sR0FBaUJDLEVBQVFwSSxFQUFPcUksR0FJeEMsUUFBU0MsR0FBV0MsRUFBTUMsR0FDekIsTUFBT0gsR0FBY0MsV0FBV0MsR0FDOUJoSSxLQUFLLFNBQVNrSSxHQUFZLE1BQU9BLEtBTHBDLEdBQUlDLEdBQUs1SSxJQUNUNEksR0FBR0osV0FBYUEsRUFQakJuTixRQUNFQyxPQUFPLE9BQ1BDLFdBQVcsbUJBQW9COE0sR0FFakNBLEVBQWlCN00sU0FBVyxTQUFVLFFBQVMsb0JBV2hELFdBQ0MsWUFPQSxTQUFTcU4sR0FBZ0JDLEdBV3hCLFFBQVMxRSxHQUFLVixFQUFPVyxFQUFTQyxHQUs3QixRQUFTeUUsR0FBWWhMLEdBQ3BCMkYsRUFBTXNGLE9BQU8sV0FDWixHQUFJUCxHQUFPcEUsRUFBUSxHQUFHNEUsTUFBTSxFQUV4QlIsR0FBS1MsTUFBUUMsRUFDaEJ6RixFQUFNa0YsR0FBR0osV0FBV0MsR0FDbEJoSSxLQUFLLFNBQVNrSSxHQUFZakYsRUFBTTBGLGFBQWVULElBRWpEVSxNQUFNLDBCQUE2QkYsRUFBYyxLQUFPLEtBQVEsU0FabkUsR0FBSUEsR0FBYyxPQUNGTCxHQUFPeEUsRUFBTThFLGFBQzdCL0UsR0FBUSxHQUFHaUYsaUJBQWlCLFNBQVVQLEdBQWEsR0FicEQsT0FDQ3RFLFNBQVUsSUFDVmxKLFdBQVksbUJBQ1o2QixhQUFjLEtBQ2RnSCxLQUFNQSxFQUNOVixPQUNDMEYsYUFBYyxNQVpqQi9OLFFBQ0VDLE9BQU8sT0FDUHFJLFVBQVUsZUFBZ0JrRixHQUU1QkEsRUFBZ0JyTixTQUFXLGFBZ0M1QixXQUNDLFlBT0EsU0FBUytNLEdBQWNySSxFQUFPQyxHQUs3QixRQUFTcUksR0FBV0MsR0FDbkIsR0FBSWMsR0FBVyxHQUFJQyxTQUduQixPQUZBRCxHQUFTRSxPQUFPLE9BQVFoQixHQUVqQnZJLEVBQU1pQixLQUFLLCtCQUFnQ29JLEdBQ2pERyxpQkFBa0JyTyxRQUFRc08sU0FDMUJDLFNBQVdDLGVBQWdCQyxVQUUxQnJKLEtBQUssU0FBU3lELEdBQ2QsTUFBSUEsR0FBSWpELEtBQUtTLFFBQ0x3QyxFQUFJakQsS0FBS0EsTUFFakJkLEVBQUtzQixNQUFNeUMsRUFBSXZDLE9BQ1IsTUFURnpCLFNBV0MsU0FBU2dFLEdBQ2YvRCxFQUFLc0IsTUFBTXlDLEtBcEJkLE9BQ0NzRSxXQUFZQSxHQVBkbk4sUUFDRUMsT0FBTyxPQUNQZ0QsUUFBUSxnQkFBaUJpSyxHQUUzQkEsRUFBYy9NLFNBQVcsUUFBUyxXQTJCbkMsV0FDQyxZQU9BLFNBQVN1TyxHQUFvQnpOLEVBQWlCTyxFQUFPQyxFQUFRQyxFQUFRQyxHQUNwRSxHQUFJK0MsR0FBS0MsSUFDVEQsR0FBR2xELE1BQVFBLEVBQ1hrRCxFQUFHakQsT0FBU0EsRUFDWmlELEVBQUdoRCxPQUFTQSxFQUNaZ0QsRUFBRy9DLFVBQVlBLEVBVmhCM0IsUUFDRUMsT0FBTyxPQUNQQyxXQUFXLHNCQUF1QndPLEdBRXBDQSxFQUFvQnZPLFNBQVcsa0JBQW1CLFFBQVMsU0FBVSxTQUFVLGdCQVNoRixXQUNDLFlBT0EsU0FBU3dPLEdBQW1CQyxHQU0zQixRQUFTQyxLQUNSbkssRUFBRzhGLFNBQVUsRUFDYm9FLEVBQWdCQyxTQUFTbkssRUFBRzlDLE1BQzFCd0QsS0FBSyxTQUFTZSxHQUNkekIsRUFBRzhGLFNBQVUsRUFDYjlGLEVBQUcwQixNQUFRRCxJQVZkLEdBQUl6QixHQUFLQyxJQUNURCxHQUFHMEIsTUFBUSxHQUNYMUIsRUFBRzhGLFNBQVUsRUFDYjlGLEVBQUdtSyxTQUFXQSxFQVRmN08sUUFDRUMsT0FBTyxPQUNQQyxXQUFXLHFCQUFzQnlPLEdBRW5DQSxFQUFtQnhPLFNBQVcsc0JBaUIvQixXQUNDLFlBT0EsU0FBU3lPLEdBQWdCcE0sRUFBV3NDLEVBQU1GLEdBUXpDLFFBQVNpSyxHQUFTak4sR0FJakIsUUFBU2tOLEdBQXFCM0ksR0FDN0IsTUFBeUIsVUFBckJBLEVBQVNFLFNBQ1p2QixFQUFLc0IsTUFBTUQsRUFBU0csT0FDYkgsRUFBU0csV0FFakI5RCxHQUFVcEIsSUFBSSxVQVJmLE1BQU9zRCxHQUFHK0IsS0FBS2QsT0FBTy9ELEdBQ3BCd0QsS0FBSzBKLEdBVFIsR0FBSXBLLEdBQUtDLElBR1QsT0FGQUQsR0FBRytCLEtBQU8sR0FBSTdCLEdBQVksU0FHekJpSyxTQUFVQSxHQVZaN08sUUFDRUMsT0FBTyxPQUNQZ0QsUUFBUSxrQkFBbUIyTCxHQUU3QkEsRUFBZ0J6TyxTQUFXLFlBQWEsT0FBUSxrQkF1QmpELFdBQ0MsWUFPQSxTQUFTZSxHQUFjc0IsRUFBV3VNLEVBQUlwSSxFQUFnQmxFLEdBUXJELFFBQVN4QixLQUlSLFFBQVMrTixHQUF3QjdJLEdBT2hDLE1BTklBLEdBQVNQLEtBQUtTLFdBQVksRUFDN0I0SSxFQUFTMU4sUUFBUWtCLEVBQWN5TSxJQUUvQkQsRUFBU0UsT0FBTzFNLEVBQWNLLGNBR3hCbU0sRUFBU0csUUFWakIsTUFBT3pJLEdBQWVDLE9BQU8sUUFDM0J4QixLQUFLNEosR0FhUixRQUFTSyxNQXRCVCxHQUFJSixHQUFXRixFQUFHTyxPQUVsQixRQUNDck8sZ0JBQWlCQSxFQUNqQm9PLFFBQVNBLEdBVlhyUCxRQUNFQyxPQUFPLE9BQ1BnRCxRQUFRLGdCQUFpQi9CLEdBRTNCQSxFQUFjZixTQUFXLFlBQWEsS0FBTSxpQkFBa0Isb0JBOEIvRCxXQUNDLFlBVUEsU0FBU3NDLEtBQ1IsT0FDQ3lNLEdBQUksSUFDSnBNLGFBQWMsSUFDZEUsVUFBVyxLQVJiaEQsUUFDRUMsT0FBTyxPQUNQc1AsUUFBUSxnQkFBaUI5TSxNQVc1QixXQUNDLFlBT0EsU0FBU2pDLEdBQWdCcUUsRUFBT0MsRUFBTUYsRUFBYStCLEdBV2xELFFBQVM2SSxHQUFlQyxHQUN2QixNQUFPL0ssR0FBRytLLFNBQVM5SixPQUFPOEosR0FBVXJLLEtBQUtDLEdBRzFDLFFBQVNxSyxHQUFldkssR0FDdkIsTUFBT1QsR0FBRytLLFNBQVN4SixPQUFPZCxHQUFJQyxLQUFLQyxHQUdwQyxRQUFTOUUsS0FJUixRQUFTb1AsR0FBc0J4SixHQUM5QixHQUFJMEMsR0FBTTFDLEVBQVNQLElBQ25CLE9BQUlpRCxHQUFJeEMsUUFDQTNCLEVBQUcrSyxTQUFTbEssU0FBUyxhQUFlc0QsRUFBSWpELEtBQU0sSUFBSVIsS0FBS0MsR0FFeER3RCxFQUFJdkMsTUFSWixNQUFPSyxHQUFlQyxPQUFPLE1BQzNCeEIsS0FBS3VLLEdBV1IsUUFBU0MsR0FBZXpLLEVBQUlzSyxHQUMzQixNQUFPL0ssR0FBRytLLFNBQVMxSixPQUFPWixFQUFJc0ssR0FBVXJLLEtBQUtDLEdBRzlDLFFBQVNBLEdBQWdCYyxHQUN4QixHQUFJMEMsR0FBTTFDLEVBQVNQLElBQ25CLE9BQUlpRCxHQUFJeEMsUUFDQXdDLEVBQUlqRCxLQUVMaUQsRUFBSXZDLE1BeENaLEdBQUk1QixHQUFLQyxJQUdULE9BRkFELEdBQUcrSyxTQUFXLEdBQUk3SyxHQUFZLGFBRzdCNEssZUFBZ0JBLEVBQ2hCRSxlQUFnQkEsRUFDaEJuUCxhQUFjQSxFQUNkcVAsZUFBZ0JBLEdBYmxCNVAsUUFDRUMsT0FBTyxPQUNQZ0QsUUFBUSxrQkFBbUJ6QyxHQUU3QkEsRUFBZ0JMLFNBQVcsUUFBUyxPQUFRLGNBQWUscUJBK0M1RCxXQUNDLFlBT0EsU0FBUytHLEdBQWtCMkksRUFBV3JQLEVBQWlCRSxHQU90RCxRQUFTcUgsR0FBZXJGLEVBQU9mLEdBQzlCLE1BQU9rTyxHQUFVQyxNQUNoQjVQLFdBQVksa0JBQ1o2QixhQUFjLEtBQ2RWLFlBQWEsd0NBQ2JFLFNBQ0NjLE9BQVEsV0FBYSxNQUFPVixJQUM1QmtKLEtBQU1uSSxLQUVMcUIsT0FDRHFCLEtBQUssU0FBU2UsR0FDZCxNQUFPekYsR0FBYzhILG9CQUFvQnJDLEdBQ3ZDZixLQUFLMUUsRUFBY0QsWUFDbkIsU0FBUzBGLEdBQ1gsTUFBd0IsZ0JBQWJBLEdBQ0h6RixFQUFjaUksWUFBWXhDLEdBQy9CZixLQUFLMUUsRUFBY0QsV0FGdEIsU0FsQkgsT0FDQ3NILGVBQWdCQSxHQVRsQi9ILFFBQ0VDLE9BQU8sT0FDUGdELFFBQVEsb0JBQXFCaUUsR0FFL0JBLEVBQWtCL0csU0FBVyxZQUFhLGtCQUFtQixvQkErQjlELFdBQ0MsWUFPQSxTQUFTOEcsR0FBc0JyRCxHQVc5QixRQUFTNkQsR0FBWTVELEdBQ3BCLE1BQU9BLEdBQUlrTSxRQUFRdkwsSUFBSSxFQUFHLE9BQU93TCxTQUFTLEVBQUcsTUFPOUMsUUFBU3hJLEdBQVN5SSxHQUdqQixJQUFLLEdBRkQxSSxNQUNBMUQsRUFBTW9NLEVBQUtGLFFBQVFHLEtBQUssR0FBR0MsUUFBUSxRQUM5QjlNLEVBQUksRUFBTyxFQUFKQSxFQUFPQSxJQUN0QmtFLEVBQU05RCxLQUFLMk0sRUFBUXZNLEVBQUtvTSxFQUFLMUksVUFDN0IxRCxFQUFNQSxFQUFJVyxJQUFJLEVBQUcsUUFFbEIsT0FBTytDLEdBR1IsUUFBU0YsS0FDUixNQUFPekQsS0FTUixRQUFTd00sR0FBUUMsRUFBVUMsR0FJMUIsSUFBSyxHQUhEQyxNQUVBMU0sRUFBTXdNLEVBQVNOLFFBQ1YxTSxFQUFJLEVBQU8sRUFBSkEsRUFBT0EsSUFDdEJrTixFQUFLOU0sTUFDSitNLE9BQVEzTSxFQUFJcU0sT0FDWk8sY0FBZ0I1TSxFQUFJMEQsVUFBWStJLEVBQ2hDSSxRQUFTN00sRUFBSUcsT0FBT0osSUFBVSxPQUM5QmlFLFNBQVVoRSxJQUVYQSxFQUFNQSxFQUFJa00sUUFBUXZMLElBQUksRUFBRyxPQUcxQixPQUFPK0wsR0FTUixRQUFTNUksR0FBVWdKLEVBQU1DLEdBQ3hCLE1BQU9ELEdBQUszTSxPQUFPNE0sRUFBTSxPQVcxQixRQUFTM0ksR0FBVTRJLEdBQ2xCLE1BQU9ySixHQUFTcUosRUFBUyxHQUFHLEdBQUdoSixTQUFTa0ksUUFBUUMsU0FBUyxFQUFHLFdBTTdELFFBQVM5SCxHQUFVMkksR0FDbEIsTUFBT3JKLEdBQVNxSixFQUFTLEdBQUcsR0FBR2hKLFNBQVNrSSxRQUFRdkwsSUFBSSxFQUFHLFdBakZ4RCxPQUNDaUQsWUFBYUEsRUFDYkQsU0FBVUEsRUFDVkgsU0FBVUEsRUFDVitJLFFBQVNBLEVBQ1R6SSxVQUFXQSxFQUNYTSxVQUFXQSxFQUNYQyxVQUFXQSxHQWJibEksUUFDRUMsT0FBTyxPQUNQZ0QsUUFBUSx3QkFBeUJnRSxHQUVuQ0EsRUFBc0I5RyxTQUFXLGFBd0ZsQyxXQUNDLFlBT0EsU0FBU2dMLEdBQXVCMEUsRUFBV3BFLEdBVzFDLFFBQVNGLEdBQW9CVixHQUM1QixNQUFPZ0YsR0FBVUMsTUFDaEI1UCxXQUFZLGtCQUNaNkIsYUFBYyxLQUNkVixZQUFhLGlEQUNiRSxTQUNDYyxPQUFRLFdBQWEsTUFBT3lPLElBQzVCakcsS0FBTUEsS0FFTDlHLE9BQ0RxQixLQUFLLFNBQVNlLEdBQ2RzRixFQUFrQkUsb0JBQW9CZCxJQUNwQyxTQUFTMUUsR0FDWHNGLEVBQWtCQyxnQkFBZ0JiLEtBdkJyQyxHQUNJaUcsSUFDSEMsTUFBTyxTQUFVLFFBQVMsU0FBVSxVQUFXLFVBQy9DekUsTUFBTyxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sS0FBTSxNQUc1QyxRQUNDZixvQkFBcUJBLEdBYnZCdkwsUUFDRUMsT0FBTyxPQUNQZ0QsUUFBUSx5QkFBMEJrSSxHQUVwQ0EsRUFBdUJoTCxTQUFXLFlBQWEsd0JBK0JoRCxXQUNDLFlBT0EsU0FBUzZRLEdBQW9CbkIsRUFBV2pQLEVBQWNxUSxHQUtyRCxRQUFTQyxHQUFpQkMsRUFBU3BGLEdBQ2xDOEQsRUFBVUMsTUFDVDVQLFdBQVksa0JBQ1o2QixhQUFjLEtBQ2RWLFlBQWEseUNBQ2JFLFNBQ0NjLE9BQVEwSixFQUNSbEIsS0FBTXNHLEtBRUxwTixPQUNEcUIsS0FBSyxTQUFTeUQsR0FDZG9JLEVBQWdCRyxzQkFBc0J2SSxFQUFJc0ksUUFBU3RJLEVBQUlrRCxPQUNyRCxTQUFTbEQsR0FDUSxnQkFBUkEsSUFDVm9JLEVBQWdCSSxjQUFjeEksRUFBSXNJLFFBQVN0SSxFQUFJa0QsUUFsQm5ELE9BQ0NtRixpQkFBa0JBLEdBUHBCbFIsUUFDRUMsT0FBTyxPQUNQZ0QsUUFBUSxzQkFBdUIrTixHQUVqQ0EsRUFBb0I3USxTQUFXLFlBQWEsZUFBZ0Isc0JBMkI3RCxXQUNDLFlBT0EsU0FBUzBMLEdBQWlCZ0UsRUFBV2pQLEVBQWNFLEdBT2xELFFBQVNrTCxHQUFjRCxFQUFNckssR0FDNUIsTUFBT21PLEdBQVVDLE1BQ2hCNVAsV0FBWSxrQkFDWjZCLGFBQWMsS0FDZFYsWUFBYSxzQ0FDYkUsU0FDQ2MsT0FBUSxXQUFhLE1BQU9YLElBQzVCbUosS0FBTWtCLEtBRUxoSSxPQUNEcUIsS0FBSyxTQUFTZSxHQUNkLE1BQU9yRixHQUFhMkwsbUJBQW1CdEcsR0FDckNmLEtBQUt0RSxFQUFhRCxXQUNsQixTQUFTc0YsR0FDWCxNQUF3QixnQkFBYkEsR0FDSHJGLEVBQWE4TCxXQUFXekcsR0FDN0JmLEtBQUt0RSxFQUFhRCxVQUZyQixTQWxCSCxPQUNDbUwsY0FBZUEsR0FUakJoTSxRQUNFQyxPQUFPLE9BQ1BnRCxRQUFRLG1CQUFvQjRJLEdBRTlCQSxFQUFpQjFMLFNBQVcsWUFBYSxlQUFnQixtQkErQjFELFdBQ0MsWUFPQSxTQUFTUyxHQUFhaUUsRUFBT0MsRUFBTUYsRUFBYStCLEdBVy9DLFFBQVMySyxHQUFZQyxHQUNwQixNQUFPN00sR0FBRzZNLE1BQU01TCxPQUFPNEwsR0FBT25NLEtBQUtDLEdBR3BDLFFBQVNtTSxHQUFZck0sR0FDcEIsTUFBT1QsR0FBRzZNLE1BQU10TCxPQUFPZCxHQUFJQyxLQUFLQyxHQUdqQyxRQUFTMUUsS0FJUixRQUFTOFEsR0FBbUJ0TCxHQUMzQixHQUFJMEMsR0FBTTFDLEVBQVNQLElBQ25CLE9BQUlpRCxHQUFJeEMsUUFDQTNCLEVBQUc2TSxNQUFNaE0sU0FBUyxhQUFlc0QsRUFBSWpELEtBQU0sSUFBSVIsS0FBS0MsR0FFckR3RCxFQUFJdkMsTUFSWixNQUFPSyxHQUFlQyxPQUFPLE1BQzNCeEIsS0FBS3FNLEdBV1IsUUFBU0MsR0FBWXZNLEVBQUlvTSxHQUN4QixNQUFPN00sR0FBRzZNLE1BQU14TCxPQUFPWixFQUFJb00sR0FBT25NLEtBQUtDLEdBR3hDLFFBQVNBLEdBQWdCYyxHQUN4QixHQUFJMEMsR0FBTTFDLEVBQVNQLElBQ25CLE9BQUlpRCxHQUFJeEMsUUFDQXdDLEVBQUlqRCxLQUVMaUQsRUFBSXZDLE1BeENaLEdBQUk1QixHQUFLQyxJQUdULE9BRkFELEdBQUc2TSxNQUFRLEdBQUkzTSxHQUFZLFVBRzFCME0sWUFBYUEsRUFDYkUsWUFBYUEsRUFDYjdRLFVBQVdBLEVBQ1grUSxZQUFhQSxHQWJmMVIsUUFDRUMsT0FBTyxPQUNQZ0QsUUFBUSxlQUFnQnJDLEdBRTFCQSxFQUFhVCxTQUFXLFFBQVMsT0FBUSxjQUFlLHFCQStDekQsV0FDQyxZQU9BLFNBQVN3UixHQUFtQlYsRUFBaUJELEdBSzVDLFFBQVNZLEdBQWlCVCxHQUN6QkgsRUFBb0JFLGlCQUFpQkMsRUFBU1UsRUFBRzlGLE1BR2xELFFBQVNHLEdBQWdCaUYsR0FDeEJGLEVBQWdCL0UsZ0JBQWdCaUYsR0FUakMsR0FBSVUsR0FBS2xOLElBQ1RrTixHQUFHRCxpQkFBbUJBLEVBQ3RCQyxFQUFHM0YsZ0JBQWtCQSxFQVJ0QmxNLFFBQ0VDLE9BQU8sT0FDUEMsV0FBVyxxQkFBc0J5UixHQUVuQ0EsRUFBbUJ4UixTQUFXLGtCQUFtQiwwQkFxQmxELFdBQ0MsWUFNQSxTQUFTMlIsS0FDUixPQUNDelEsWUFBYSx1Q0FDYm5CLFdBQVkscUJBQ1o2QixhQUFjLEtBQ2RxRyxrQkFBa0IsRUFDbEJDLE9BQ0MwRCxLQUFNLE1BWFQvTCxRQUNFQyxPQUFPLE9BQ1BxSSxVQUFVLGFBQWN3SixNQWMzQixXQUNDLFlBT0EsU0FBU2IsR0FBZ0JwTSxFQUFPQyxHQU8vQixRQUFTc00sR0FBc0JELEVBQVNwRixHQUNsQ0EsRUFBS2dHLFdBQ1RoRyxFQUFLZ0csVUFDSkMsVUFBVyxFQUNYQyxVQUlpQnhELFNBQWYwQyxFQUFRaE0sS0FDWGdNLEVBQVFoTSxHQUFLNEcsRUFBS2dHLFNBQVNDLFlBQzNCYixFQUFRckUsV0FBWSxFQUNwQmYsRUFBS2dHLFNBQVNFLEtBQUt4TyxLQUFLME4sSUFJMUIsUUFBU0UsR0FBY0YsRUFBU3BGLEdBQy9CQSxFQUFLZ0csU0FBU0UsS0FBS0MsT0FBT25HLEVBQUtnRyxTQUFTRSxLQUFLRSxRQUFRaEIsR0FBVSxHQUdoRSxRQUFTakYsR0FBZ0JpRixHQUN4QkEsRUFBUXJFLFdBQWFxRSxFQUFRckUsVUExQjlCLE9BQ0NzRSxzQkFBdUJBLEVBQ3ZCQyxjQUFlQSxFQUNmbkYsZ0JBQWlCQSxHQVRuQmxNLFFBQ0VDLE9BQU8sT0FDUGdELFFBQVEsa0JBQW1CZ08sR0FFN0JBLEVBQWdCOVEsU0FBVyxRQUFTLFdBaUNyQyxXQUNDLFlBT0EsU0FBU2lTLEdBQWlCeFEsR0FDekIrQyxLQUFLL0MsS0FBT0EsRUFOYjVCLFFBQ0VDLE9BQU8sT0FDUEMsV0FBVyxtQkFBb0JrUyxHQUVqQ0EsRUFBaUJqUyxTQUFXLFdBSzdCLFdBQ0MsWUFPQSxTQUFTYSxHQUFjNkQsRUFBT0MsRUFBTTZCLEdBS25DLFFBQVM1RixLQUlSLFFBQVNzUixHQUFnQmxNLEdBQ3hCLEdBQUkwQyxHQUFNMUMsRUFBU1AsSUFFbkIsT0FBSWlELEdBQUl4QyxXQUFZLEdBQ1hpTSxNQUFNLEVBQU9sUixJQUFLLFlBRW5Ca1IsS0FBTXpKLEVBQUlqRCxLQUFNeEUsSUFBSyxlQVQ5QixNQUFPdUYsR0FBZUMsT0FBTyxRQUMzQnhCLEtBQUtpTixHQU5SLE9BQ0N0UixRQUFTQSxHQVBYZixRQUNFQyxPQUFPLE9BQ1BnRCxRQUFRLGdCQUFpQmpDLEdBRTNCQSxFQUFjYixTQUFXLFFBQVMsT0FBUSxxQkFzQjNDLFdBQ0MsWUFPQSxTQUFTb1MsR0FBa0I3USxFQUFRQyxHQUNsQyxHQUFJK0MsR0FBS0MsSUFDVEQsR0FBRzhOLFdBQVksRUFDZjlOLEVBQUdoRCxPQUFTQSxFQUNaZ0QsRUFBRy9DLFVBQVlBLEVBVGhCM0IsUUFDRUMsT0FBTyxPQUNQQyxXQUFXLG9CQUFxQnFTLEdBRWxDQSxFQUFrQnBTLFNBQVcsU0FBVSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInLCAndWkuYm9vdHN0cmFwJywgJ2FuZ3VsYXJNb21lbnQnXSlcclxuXHRcdC5jb250cm9sbGVyKCdBcHBDb250cm9sbGVyJywgQXBwQ29udHJvbGxlcik7XHJcblxyXG5cdEFwcENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdhcHBTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gQXBwQ29udHJvbGxlcigkcm9vdFNjb3BlLCBhcHBTZXJ2aWNlKSB7XHJcblx0XHQkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBhcHBTZXJ2aWNlLnN0YXRlQ2hhbmdlRXJyb3IpO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29uZmlnKGFwcENvbmZpZyk7XHJcblxyXG5cdGFwcENvbmZpZy4kaW5qZWN0ID0gWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInXTtcclxuXHRmdW5jdGlvbiBhcHBDb25maWcoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG5cclxuXHRcdCRzdGF0ZVByb3ZpZGVyXHJcblx0XHRcdC5zdGF0ZSgncm9vdCcsIHtcclxuXHRcdFx0XHR1cmw6ICcnLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnaW5kZXguaHRtbCcsXHJcblx0XHRcdFx0YWJzdHJhY3Q6IHRydWUsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0dGFza3M6IFsndGFza3NTZXJ2aWNlJywgZ2V0VGFza3NdLFxyXG5cdFx0XHRcdFx0ZXZlbnRzOiBbJ2V2ZW50c1NlcnZpY2UnLCBnZXRFdmVudHNdLFxyXG5cdFx0XHRcdFx0bGFiZWxzOiBbJ2xhYmVsU2VydmljZScsIGdldExhYmVsc10sXHJcblx0XHRcdFx0XHRjYWxlbmRhcnM6IFsnY2FsZW5kYXJTZXJ2aWNlJywgZ2V0Q2FsZW5kYXJzXSxcclxuXHRcdFx0XHRcdHVzZXI6IFsnaGVhZGVyU2VydmljZScsIGdldFVzZXJdXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2hlYWRlcic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvaGVhZGVyL2hlYWRlci5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdoYydcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQnc2lkZWJhcic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvc2lkZWJhci9zaWRlYmFyLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnU2lkZWJhckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdzYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnbG9naW4nLCB7XHJcblx0XHRcdFx0dXJsOiAnL2xvZ2luJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvbG9naW4vbG9naW4uaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bSdcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnbG9nb3V0Jywge1xyXG5cdFx0XHRcdHVybDogJy9sb2dvdXQnLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2dvdXQvbG9nb3V0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTG9nb3V0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdyZWdpc3RlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvcmVnaXN0ZXInLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bSdcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnZGFzaGJvYXJkJywge1xyXG5cdFx0XHRcdHVybDogJy9kYXNoYm9hcmQnLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IFsnYWNjZXNzU2VydmljZScsIGlzQXV0aGVudGljYXRlZF1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdsYWJlbHMnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2xhYmVscycsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCdcclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdsYWJlbHMubGFiZWwnLCB7XHJcblx0XHRcdFx0dXJsOiAnLzpsYWJlbElkJyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZTogXCJJbiBwcm9ncmVzc1wiXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2luYm94Jywge1xyXG5cdFx0XHRcdHVybDogJy9pbmJveCcsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy90YXNrcy9pbmJveC5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0FjdGl2aXR5Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0XHRcdGlzQXV0aGVudGljYXRlZDogWydhY2Nlc3NTZXJ2aWNlJywgaXNBdXRoZW50aWNhdGVkXSxcclxuXHRcdFx0XHRcdFx0XHRpdGVtczogWyd0YXNrc1NlcnZpY2UnLCBnZXRUYXNrc10sXHJcblx0XHRcdFx0XHRcdFx0Z3JvdXBzOiBbJ2xhYmVsU2VydmljZScsIGdldExhYmVsc11cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCd0b2RheScsIHtcclxuXHRcdFx0XHR1cmw6ICcvdG9kYXknLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvdGFza3MvdG9kYXkuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBY3Rpdml0eUNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IFsnYWNjZXNzU2VydmljZScsIGlzQXV0aGVudGljYXRlZF0sXHJcblx0XHRcdFx0XHRcdFx0aXRlbXM6IFsndGFza3NTZXJ2aWNlJywgZ2V0VGFza3NdLFxyXG5cdFx0XHRcdFx0XHRcdGdyb3VwczogWydsYWJlbFNlcnZpY2UnLCBnZXRMYWJlbHNdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnd2VlaycsIHtcclxuXHRcdFx0XHR1cmw6ICcvd2VlaycsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy90YXNrcy93ZWVrLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWN0aXZpdHlDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRcdFx0aXNBdXRoZW50aWNhdGVkOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0F1dGhlbnRpY2F0ZWRdLFxyXG5cdFx0XHRcdFx0XHRcdGl0ZW1zOiBbJ3Rhc2tzU2VydmljZScsIGdldFRhc2tzXSxcclxuXHRcdFx0XHRcdFx0XHRncm91cHM6IFsnbGFiZWxTZXJ2aWNlJywgZ2V0TGFiZWxzXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2NhbGVuZGFyJywge1xyXG5cdFx0XHRcdHVybDogJy9jYWxlbmRhcicsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9jYWxlbmRhci9jYWxlbmRhci5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0FjdGl2aXR5Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0XHRcdGlzQXV0aGVudGljYXRlZDogWydhY2Nlc3NTZXJ2aWNlJywgaXNBdXRoZW50aWNhdGVkXSxcclxuXHRcdFx0XHRcdFx0XHRpdGVtczogWydldmVudHNTZXJ2aWNlJywgZ2V0RXZlbnRzXSxcclxuXHRcdFx0XHRcdFx0XHRncm91cHM6IFsnY2FsZW5kYXJTZXJ2aWNlJywgZ2V0Q2FsZW5kYXJzXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvZGFzaGJvYXJkJyk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0Q2FsZW5kYXJzKGNhbGVuZGFyU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gY2FsZW5kYXJTZXJ2aWNlLmdldENhbGVuZGFycygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEV2ZW50cyhldmVudHNTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBldmVudHNTZXJ2aWNlLmdldEV2ZW50cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldExhYmVscyhsYWJlbFNlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGxhYmVsU2VydmljZS5nZXRMYWJlbHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRUYXNrcyh0YXNrc1NlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIHRhc2tzU2VydmljZS5nZXRUYXNrcygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXIoaGVhZGVyU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gaGVhZGVyU2VydmljZS5nZXRVc2VyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKGFjY2Vzc1NlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGFjY2Vzc1NlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdhcHBTZXJ2aWNlJywgYXBwU2VydmljZSk7XHJcblxyXG5cdGFwcFNlcnZpY2UuJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJ3N0YXR1c1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBhcHBTZXJ2aWNlKCRsb2NhdGlvbiwgc3RhdHVzU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0c3RhdGVDaGFuZ2VFcnJvcjogc3RhdGVDaGFuZ2VFcnJvclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBzdGF0ZUNoYW5nZUVycm9yKGV2ZW50LCB1bmZvdW5kU3RhdGUsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykge1xyXG5cdFx0XHRpZiAoZnJvbVBhcmFtcyA9PT0gc3RhdHVzU2VydmljZS5VTkFVVEhPUklaRUQpIHtcclxuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZnJvbVBhcmFtcyA9PT0gc3RhdHVzU2VydmljZS5GT1JCSURERU4pIHtcclxuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2ZvcmJpZGRlbicpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmlsdGVyKCdpbkdyb3VwcycsIGluR3JvdXBzKTtcclxuXHJcblx0aW5Hcm91cHMuJGluamVjdCA9IFtdO1xyXG5cdGZ1bmN0aW9uIGluR3JvdXBzKCkge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGFjdGl2aXRpZXMsIGdyb3Vwcykge1xyXG5cdFx0XHRpZiAoIWdyb3Vwcykge1xyXG5cdFx0XHRcdHJldHVybiBhY3Rpdml0aWVzO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgYWN0aXZpdGllc0luR3JvdXBzID0gW107XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2aXRpZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZiAoYWN0aXZpdGllc1tpXS5sYWJlbF9pZCA9PT0gZ3JvdXBzIHx8XHJcblx0XHRcdFx0XHRhY3Rpdml0aWVzW2ldLmNhbGVuZGFyX2lkID09PSBncm91cHNcclxuXHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdGFjdGl2aXRpZXNJbkdyb3Vwcy5wdXNoKGFjdGl2aXRpZXNbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGFjdGl2aXRpZXNJbkdyb3VwcztcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5maWx0ZXIoJ3NhbWVEYXlBcycsIHNhbWVEYXlBcyk7XHJcblxyXG5cdHNhbWVEYXlBcy4kaW5qZWN0ID0gWydtb21lbnQnXTtcclxuXHRmdW5jdGlvbiBzYW1lRGF5QXMobW9tZW50KSB7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24oZXZlbnRzLCBkYXkpIHtcclxuXHRcdFx0dmFyIHNhbWVEYXlFdmVudHMgPSBbXTtcclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIHJlc3VsdCA9IGRheS5pc1NhbWUobW9tZW50KGV2ZW50c1tpXS5kdF9zdGFydCksICdkYXknKTtcclxuXHJcblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcclxuXHRcdFx0XHRcdHJlc3VsdCA9IGRheS5pc1NhbWUobW9tZW50KGV2ZW50c1tpXS5kdF9lbmQpLCAnZGF5Jyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZihyZXN1bHQpIHtcclxuXHRcdFx0XHRcdHNhbWVEYXlFdmVudHMucHVzaChldmVudHNbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHNhbWVEYXlFdmVudHM7XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmlsdGVyKCd3aXRoaW5EYXlzJywgd2l0aGluRGF5cyk7XHJcblxyXG5cdHdpdGhpbkRheXMuJGluamVjdCA9IFsnbW9tZW50J107XHJcblx0ZnVuY3Rpb24gd2l0aGluRGF5cyhtb21lbnQpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbih0YXNrcywgbnVtT2ZEYXlzKSB7XHJcblx0XHRcdGlmICghbnVtT2ZEYXlzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRhc2tzO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgdGFza3NXaXRoaW5EYXlzID0gW107XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRhc2tzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIHJlc3VsdDtcclxuXHJcblx0XHRcdFx0aWYgKCF0YXNrc1tpXS5kdWUgfHwgKHRhc2tzW2ldLmR1ZSAmJlxyXG5cdFx0XHRcdFx0bW9tZW50KHRhc2tzW2ldLmR1ZSkuaXNCZWZvcmUobW9tZW50KCkuYWRkKG51bU9mRGF5cywgJ2RheXMnKSkpXHJcblx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHR0YXNrc1dpdGhpbkRheXMucHVzaCh0YXNrc1tpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdGFza3NXaXRoaW5EYXlzO1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0FjdGl2aXR5Q29udHJvbGxlcicsIEFjdGl2aXR5Q29udHJvbGxlcik7XHJcblxyXG5cdEFjdGl2aXR5Q29udHJvbGxlci4kaW5qZWN0ID0gWydpc0F1dGhlbnRpY2F0ZWQnLCAnaXRlbXMnLCAnZ3JvdXBzJ107XHJcblx0ZnVuY3Rpb24gQWN0aXZpdHlDb250cm9sbGVyKGlzQXV0aGVudGljYXRlZCwgaXRlbXMsIGdyb3Vwcykge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLml0ZW1zID0gaXRlbXM7XHJcblx0XHR2bS5ncm91cHMgPSBncm91cHM7XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyB0aGUgYXBpIG9mIHRoZSB2YXJpb3VzIGl0ZW0gdHlwZXMuXHJcblx0KiBBbiBpbnN0YW5jZSBvZiBjcnVkIG11c3QgYmUgY3JlYXRlZCBpbiBvcmRlciB0byB1c2UgdGhlIHNlcnZpY2UuXHJcblx0KlxyXG5cdCogQWxsIHByb21pc2VzIHJldHVybiAnc3VjY2VzcycgYW5kIGVpdGhlciAnZGF0YScgb24gc3VjY2VzcyBvciwgb24gZXJyb3IsICd0aXRsZSdcclxuXHQqIHdpdGggYSBnZW5lcmFsIGVycm9yIGFuZCAnZGV0YWlscycgd2l0aCBtb3JlIGRldGFpbHMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjcnVkU2VydmljZScsIGNydWRTZXJ2aWNlKTtcclxuXHJcblx0Y3J1ZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIGNydWRTZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgY3J1ZCA9IGluaXQ7XHJcblx0XHRjcnVkLnByb3RvdHlwZSA9IHtcclxuXHRcdFx0Z2V0OiBnZXQsXHJcblx0XHRcdGdldFdoZXJlOiBnZXRXaGVyZSxcclxuXHRcdFx0Y3JlYXRlOiBjcmVhdGUsXHJcblx0XHRcdHVwZGF0ZTogdXBkYXRlLFxyXG5cdFx0XHRyZW1vdmU6IHJlbW92ZSxcclxuXHRcdFx0cmVtb3ZlV2hlcmU6IHJlbW92ZVdoZXJlLFxyXG5cdFx0XHRyZW1vdmVVbmVjZXNzYXJ5S2V5czogcmVtb3ZlVW5lY2Vzc2FyeUtleXNcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGNydWQ7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgdGhlIGJhc2UgdXJsIHVzaW5nIHRoZSB0eXBlIG9mIGl0ZW0gdG8gYmUgY2FsbGVkIG9uLlxyXG5cdFx0KiBBY3Rpdml0aWVzIGFuZCB0aGVpciBwYXJlbnRzIGhhdmUgYSBzcGVjaWZpYyBzdWJmb2xkZXIgdG8gYmUgcG9pbnRlZCB0byxcclxuXHRcdCogd2hpbGUgb3RoZXJzIGRvIG5vdC5cclxuXHRcdCpcclxuXHRcdCogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZSBvZiBpdGVtLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGluaXQodHlwZSkge1xyXG5cdFx0XHQvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXHJcblx0XHRcdHRoaXMudHlwZSA9IHR5cGU7XHJcblx0XHRcdHRoaXMuYmFzZSA9ICdhcGkvJztcclxuXHRcdFx0c3dpdGNoICh0eXBlKSB7XHJcblx0XHRcdFx0Y2FzZSAnZXZlbnQnOlxyXG5cdFx0XHRcdGNhc2UgJ2NhbGVuZGFyJzpcclxuXHRcdFx0XHRcdHRoaXMuYmFzZSArPSAnYWN0aXZpdHkvY2FsZW5kYXIvJztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ2xhYmVsJzpcclxuXHRcdFx0XHRjYXNlICd0YXNrJzpcclxuXHRcdFx0XHRcdHRoaXMuYmFzZSArPSAnYWN0aXZpdHkvdGFzay8nO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdHRoaXMuYmFzZSArPSB0eXBlICsgJy8nO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuYmFzZSArPSB0eXBlICsgJ01hbmFnZXIucGhwJztcclxuXHRcdFx0LyoganNoaW50IGlnbm9yZTplbmQgKi9cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0aWRcdFx0SUQgb2YgaXRlbSB0eXBlIHRvIGdldC5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT0gcXVlcnkgcmVzdWx0cyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldChpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KHRoaXMuYmFzZSArICc/aWQ9JyArIGlkKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0gXHR7c3RyaW5nfVx0d2hlcmUgXHRXaGVyZSBjbGF1c2UuXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdHVzZXJJRFx0Rm9yIGFjdGl2aXRpZXMgKHRhc2tzLCBldmVudHMpLCB0aGUgY29ycmVzcG9uZGluZ1xyXG5cdFx0Klx0XHRcdFx0XHRcdFx0XHR1c2VyIGZvciB0aGUgYWN0aXZpdHkuIFBhc3MgZW1wdHkgc3RyaW5nXHJcblx0XHQqXHRcdFx0XHRcdFx0XHRcdG90aGVyd2lzZS5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT0gcXVlcnkgcmVzdWx0cyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFdoZXJlKHdoZXJlLCB1c2VySUQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGlzLmJhc2UgKyAnP3VzZXdoZXJlPXRydWUmd2hlcmU9JyArIGVzY2FwZSh3aGVyZSkgKyAnJmlkPScgKyB1c2VySUQpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e21peGVkW119XHRkYXRhXHREYXRhIG9mIGl0ZW0gdG8gY3JlYXRlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PT0gMSBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZShkYXRhKSB7XHJcblx0XHRcdGRhdGEgPSB0aGlzLnJlbW92ZVVuZWNlc3NhcnlLZXlzKGRhdGEpOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KHRoaXMuYmFzZSwgZGF0YSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0aWRcdFx0SUQgb2YgaXRlbSB0eXBlIHRvIHVwZGF0ZS5cclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX1cdGRhdGFcdERhdGEgb2YgaXRlbSB0byB1cGRhdGUuXHJcblx0XHQqXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAnMScgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiB1cGRhdGUoaWQsIGRhdGEpIHtcclxuXHRcdFx0ZGF0YSA9IHRoaXMucmVtb3ZlVW5lY2Vzc2FyeUtleXMoZGF0YSk7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCwgZGF0YSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0aWRcdFx0SUQgb2YgaXRlbSB0eXBlIHRvIGRlbGV0ZS5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT09IDEgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmUoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIFx0e3N0cmluZ31cdHdoZXJlIFx0V2hlcmUgY2xhdXNlLlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHR1c2VySURcdEZvciBhY3Rpdml0aWVzICh0YXNrcywgZXZlbnRzKSwgdGhlIGNvcnJlc3BvbmRpbmdcclxuXHRcdCpcdFx0XHRcdFx0XHRcdFx0dXNlciBmb3IgdGhlIGFjdGl2aXR5LiBQYXNzIGVtcHR5IHN0cmluZ1xyXG5cdFx0Klx0XHRcdFx0XHRcdFx0XHRvdGhlcndpc2UuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID49IDAgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmVXaGVyZSh3aGVyZSwgdXNlcklEKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUodGhpcy5iYXNlICsgJz93aGVyZT10cnVlJmlkPScgKyB1c2VySUQsIHdoZXJlKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUZhaWxlZChlcnJvcikge1xyXG5cdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRzdWNjZXNzOiAnZmFsc2UnLFxyXG5cdFx0XHRcdHRpdGxlOiAnRXJyb3Igd2hlbiBxdWVyeWluZyBzZXJ2ZXIuJyxcclxuXHRcdFx0XHRtZXNzYWdlOiBlcnJvclxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBJdGVtIGRhdGEgcGFzc2VkIGluIG1heSBzdGlsbCBoYXZlIHRoZWlyIGlkcyBvciBhbGlhcyBmaWVsZHMgKGZvciBhY3Rpdml0aWVzKVxyXG5cdFx0KiBlbWJlZGRlZCwgd2hpY2ggd2lsbCBjYW4gY2F1c2UgZXJyb3JzIGluIHRoZSBTUUwuXHJcblx0XHQqXHJcblx0XHQqIEBwYXJhbVx0e21peGVkW119IGRhdGFcclxuXHRcdCogQHJldHVyblx0e21peGVkW119XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlVW5lY2Vzc2FyeUtleXMoZGF0YSkge1xyXG5cdFx0XHR2YXIgdG9EZWxldGUgPSBbJ2lkJywgJ3BlcnNvbl9pZCcsIHRoaXMudHlwZSArICdfaWQnLCAnYWN0aXZpdHlfaW5mb19pZCcsICdwYXJlbnRfbmFtZSddOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdG9EZWxldGUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRkZWxldGUgZGF0YVt0b0RlbGV0ZVtpXV07XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCogVXNlZCB0byBhY2Nlc3Mgc2Vzc2lvbiB2YXJpYWJsZXMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdzZXNzaW9uU2VydmljZScsIHNlc3Npb25TZXJ2aWNlKTtcclxuXHJcblx0c2Vzc2lvblNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIHNlc3Npb25TZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5iYXNlID0gJ2FwaS9zZXNzaW9uL3Nlc3Npb25WYXJNYW5hZ2VyLnBocD92YXI9JztcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRWYXI6IGdldFZhcixcclxuXHRcdFx0c2V0VmFyOiBzZXRWYXJcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ30gJG5hbWVcdFZhcmlhYmxlIG5hbWUgdG8gZ2V0IGZyb20gc2Vzc2lvbi5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ30gXHRcdFByb21pc2Ugb3IgZXJyb3Igb24gZmFpbC5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXRWYXIoJG5hbWUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh2bS5iYXNlICsgJG5hbWUpXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfSAkbmFtZVx0VmFyaWFibGUgbmFtZSB0byBnZXQgZnJvbSBzZXNzaW9uLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfSBcdFx0UHJvbWlzZSBvciBlcnJvciBvbiBmYWlsLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHNldFZhcigkbmFtZSwgJHZhbHVlKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KHZtLmJhc2UgKyAkbmFtZSwgJHZhbHVlKVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHJldHVybiByZXNwb25zZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlRmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHN1Y2Nlc3M6ICdmYWxzZScsXHJcblx0XHRcdFx0dGl0bGU6ICdFcnJvciB3aGVuIGFjY2Vzc2luZyB2YXJpYWJsZS4nLFxyXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignRXZlbnRzQ29udHJvbGxlcicsIEV2ZW50c0NvbnRyb2xsZXIpO1xyXG5cclxuXHRFdmVudHNDb250cm9sbGVyLiRpbmplY3QgPSBbJ21vbWVudCcsICdjYWxlbmRhcldpZGdldFNlcnZpY2UnLCAnZXZlbnRzU2VydmljZScsICdldmVudE1vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIEV2ZW50c0NvbnRyb2xsZXIobW9tZW50LCBjYWxlbmRhcldpZGdldFNlcnZpY2UsIGV2ZW50c1NlcnZpY2UsIGV2ZW50TW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0udG9kYXkgPSBudWxsO1xyXG5cdFx0dm0uc2VsZWN0ZWREYXkgPSBudWxsO1xyXG5cdFx0dm0ubW9udGggPSBudWxsO1xyXG5cclxuXHRcdHZtLmlzU2FtZURheUFzU2VsZWN0ZWQgPSBpc1NhbWVEYXlBc1NlbGVjdGVkO1xyXG5cdFx0dm0uZ2V0RW5kT2ZEYXkgPSBnZXRFbmRPZkRheTtcclxuXHRcdHZtLnNlbGVjdERheSA9IHNlbGVjdERheTtcclxuXHRcdHZtLnNob3dFdmVudE1vZGFsID0gc2hvd0V2ZW50TW9kYWw7XHJcblx0XHR2bS5sYXN0TW9udGggPSBsYXN0TW9udGg7XHJcblx0XHR2bS5uZXh0TW9udGggPSBuZXh0TW9udGg7XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0dm0udG9kYXkgPSBjYWxlbmRhcldpZGdldFNlcnZpY2UuZ2V0VG9kYXkoKTtcclxuXHRcdFx0dm0uc2VsZWN0ZWREYXkgPSB2bS50b2RheTtcclxuXHRcdFx0dm0ubW9udGggPSBjYWxlbmRhcldpZGdldFNlcnZpY2UuZ2V0TW9udGgodm0udG9kYXkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEVuZE9mRGF5KGRheSkge1xyXG5cdFx0XHRyZXR1cm4gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLmdldEVuZE9mRGF5KGRheSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaXNTYW1lRGF5QXNTZWxlY3RlZChkYXkpIHtcclxuXHRcdFx0cmV0dXJuIGNhbGVuZGFyV2lkZ2V0U2VydmljZS5pc1NhbWVEYXkoZGF5LCB2bS5zZWxlY3RlZERheSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2VsZWN0RGF5KGRheSkge1xyXG5cdFx0XHR2bS5zZWxlY3RlZERheSA9IGRheS5mdWxsRGF0ZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaG93RXZlbnRNb2RhbChldmVudCkge1xyXG5cdFx0XHRldmVudE1vZGFsU2VydmljZS5vcGVuRXZlbnRNb2RhbChldmVudCwgdm0uY2FsZW5kYXJzKS50aGVuKHVwZGF0ZUV2ZW50cyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGFzdE1vbnRoKCkge1xyXG5cdFx0XHR2bS5tb250aCA9IGNhbGVuZGFyV2lkZ2V0U2VydmljZS5sYXN0TW9udGgodm0ubW9udGgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG5leHRNb250aCgpIHtcclxuXHRcdFx0dm0ubW9udGggPSBjYWxlbmRhcldpZGdldFNlcnZpY2UubmV4dE1vbnRoKHZtLm1vbnRoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVFdmVudHMocmVzcG9uc2UpIHtcclxuXHRcdFx0aWYgKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dm0uZXZlbnRzID0gcmVzcG9uc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BFdmVudHMnLCBldmVudHNEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBldmVudHNEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZXZlbnRzL2V2ZW50cy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ0V2ZW50c0NvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0ZXZlbnRzOiAnPScsXHJcblx0XHRcdFx0Y2FsZW5kYXJzOiAnPSdcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2V2ZW50c1NlcnZpY2UnLCBldmVudHNTZXJ2aWNlKTtcclxuXHJcblx0ZXZlbnRzU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ2NydWRTZXJ2aWNlJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gZXZlbnRzU2VydmljZSgkaHR0cCwgJGxvZywgY3J1ZFNlcnZpY2UsIHNlc3Npb25TZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5ldmVudCA9IG5ldyBjcnVkU2VydmljZSgnZXZlbnQnKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVFdmVudDogY3JlYXRlRXZlbnQsXHJcblx0XHRcdGNyZWF0ZU9yVXBkYXRlRXZlbnQ6IGNyZWF0ZU9yVXBkYXRlRXZlbnQsXHJcblx0XHRcdGRlbGV0ZUV2ZW50OiBkZWxldGVFdmVudCxcclxuXHRcdFx0Z2V0RXZlbnRzOiBnZXRFdmVudHMsXHJcblx0XHRcdHVwZGF0ZUV2ZW50OiB1cGRhdGVFdmVudFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVFdmVudChldmVudCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uZXZlbnQuY3JlYXRlKGV2ZW50KS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVFdmVudChldmVudCkge1xyXG5cdFx0XHRpZiAoIWV2ZW50LmV2ZW50X2lkKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZUV2ZW50KGV2ZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdXBkYXRlRXZlbnQoZXZlbnQuZXZlbnRfaWQsIGV2ZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVFdmVudChpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uZXZlbnQucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RXZlbnRzKCkge1xyXG5cdFx0XHRyZXR1cm4gc2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCdpZCcpXHJcblx0XHRcdFx0LnRoZW4oZ2V0RXZlbnRXaXRoVXNlcklEKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldEV2ZW50V2l0aFVzZXJJRChyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGlmIChyZXMuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHZtLmV2ZW50LmdldFdoZXJlKCcnLCByZXMuZGF0YSkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gcmVzLnRpdGxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlRXZlbnQoaWQsIGV2ZW50KSB7XHJcblx0XHRcdHJldHVybiB2bS5ldmVudC51cGRhdGUoaWQsIGV2ZW50KS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBUbyBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYXV0b2ZvY3VzIGF0dHJpYnV0ZSB0byBhdXRvLWZvY3VzXHJcblx0KiBtb2RhbCBpbnB1dHMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwQXV0b0ZvY3VzJywgYXV0b0ZvY3VzRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gYXV0b0ZvY3VzRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0bGluazogbGlua1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG5cdFx0XHRlbGVtZW50WzBdLmZvY3VzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBDb21wYXJlIGFuIGlucHV0IGZpZWxkIHRvIGFub3RoZXIgZmllbGQsIGRldGVybWluZWQgYnkgdGhlIGRldi5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BDb21wYXJlVG8nLCBjb21wYXJlVG9EaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBjb21wYXJlVG9EaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXF1aXJlOiAnbmdNb2RlbCcsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0b3RoZXJNb2RlbDogJz1zcENvbXBhcmVUbydcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogbGlua1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG5cdFx0XHR2YXIgdW5iaW5kV2F0Y2ggPSBzY29wZS4kd2F0Y2goJ290aGVyTW9kZWwnLCB2YWxpZGF0ZU9uQ2hhbmdlKTtcclxuXHRcdFx0bmdNb2RlbC4kdmFsaWRhdG9ycy5zcENvbXBhcmVUbyA9IGNvbXBhcmVWYWx1ZXM7XHJcblx0XHRcdGVsZW1lbnQub24oJyRkZXN0cm95JywgY2xlYW5VcCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjbGVhblVwKCkge1xyXG5cdFx0XHRcdHVuYmluZFdhdGNoKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNvbXBhcmVWYWx1ZXModmlld1ZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuICh2aWV3VmFsdWUgPT09IHNjb3BlLm90aGVyTW9kZWwuJHZpZXdWYWx1ZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHZhbGlkYXRlT25DaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcblx0XHRcdFx0bmdNb2RlbC4kdmFsaWRhdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgTG9naW5Db250cm9sbGVyKTtcclxuXHJcblx0TG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ2luU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihsb2dpblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR2bS5lcnJvciA9ICcnO1xyXG5cclxuXHRcdHZtLmxvZ2luID0gbG9naW47XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIExvZ2luU2VydmljZSB3aWxsIHJlZGlyZWN0IGlmIHRoZXJlIGlzIG5vIGVycm9yLiBUaHVzLCB0aGVyZSdzIG9ubHkgYVxyXG5cdFx0KiBuZWVkIHRvIHJldHVybiBhIHByb21pc2UgaWYgdGhlcmUncyBhbiBlcnJvci5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBsb2dpbigpIHtcclxuXHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdGxvZ2luU2VydmljZS5sb2dpbih2bS51c2VyKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnbG9naW5TZXJ2aWNlJywgbG9naW5TZXJ2aWNlKTtcclxuXHJcblx0bG9naW5TZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2NhdGlvbicsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gbG9naW5TZXJ2aWNlKCRodHRwLCAkbG9jYXRpb24sICRsb2cpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRsb2dpbjogbG9naW5cclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9naW4odXNlcikge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnYXBpL3VzZXIvbG9naW5NYW5hZ2VyLnBocCcsIHVzZXIpXHJcblx0XHRcdFx0LnRoZW4obG9naW5Db21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gobG9naW5GYWlsZWQpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UuZGF0YS50aXRsZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9kYXNoYm9hcmQnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5GYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0XHRyZXR1cm4gJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLic7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdNb2RhbENvbnRyb2xsZXInLCBNb2RhbENvbnRyb2xsZXIpO1xyXG5cclxuXHRNb2RhbENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHVpYk1vZGFsSW5zdGFuY2UnLCAnZ3JvdXBzJywgJ2l0ZW0nXTtcclxuXHRmdW5jdGlvbiBNb2RhbENvbnRyb2xsZXIoJHVpYk1vZGFsSW5zdGFuY2UsIGdyb3VwcywgaXRlbSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmdyb3VwcyA9IGdyb3VwcztcclxuXHRcdHZtLml0ZW0gPSBpdGVtO1xyXG5cclxuXHRcdHZtLmNhbmNlbCA9IGNhbmNlbDtcclxuXHRcdHZtLmNsb3NlID0gY2xvc2U7XHJcblx0XHR2bS5jb25maXJtID0gY29uZmlybTtcclxuXHRcdHZtLnJlbW92ZSA9IHJlbW92ZTtcclxuXHJcblx0XHRmdW5jdGlvbiBjYW5jZWwoKSB7XHJcblx0XHRcdCR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNsb3NlKCkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNvbmZpcm0oZGF0YSkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShkYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZW1vdmUoZGF0YSkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKGRhdGEpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignUmVjdXJyZW5jZUNvbnRyb2xsZXInLCBSZWN1cnJlbmNlQ29udHJvbGxlcik7XHJcblxyXG5cdFJlY3VycmVuY2VDb250cm9sbGVyLiRpbmplY3QgPSBbJ3JlY3VycmVuY2VNb2RhbFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBSZWN1cnJlbmNlQ29udHJvbGxlcihyZWN1cnJlbmNlTW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgcmMgPSB0aGlzO1xyXG5cdFx0cmMuc2hvd1JlY3VycmVuY2VNb2RhbCA9IHNob3dSZWN1cnJlbmNlTW9kYWw7XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd1JlY3VycmVuY2VNb2RhbCgpIHtcclxuXHRcdFx0aWYgKHJjLml0ZW0ucmVjdXJyZW5jZSkge1xyXG5cdFx0XHRcdHJlY3VycmVuY2VNb2RhbFNlcnZpY2Uub3BlblJlY3VycmVuY2VNb2RhbChyYy5pdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFJlcGVhdCcsIHJlY3VycmVuY2VEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiByZWN1cnJlbmNlRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL3JlY3VycmVuY2UvcmVjdXJyZW5jZS5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1JlY3VycmVuY2VDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAncmMnLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGl0ZW06ICc9J1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgncmVjdXJyZW5jZVNlcnZpY2UnLCByZWN1cnJlbmNlU2VydmljZSk7XHJcblxyXG5cdGZ1bmN0aW9uIHJlY3VycmVuY2VTZXJ2aWNlKCkge1xyXG5cdFx0dmFyIHJlY3VycmVuY2VDb2xzID0ge1xyXG5cdFx0XHRmcmVxOiBbJ2hvdXJseScsICdkYWlseScsICd3ZWVrbHknLCAnbW9udGhseScsICd5ZWFybHknXSxcclxuXHRcdFx0ZGF5czogWydtbycsICd0dScsICd3ZScsICd0aCcsICdmcicsICdzYScsICdzdSddLFxyXG5cdFx0XHRieTogWydieV9ob3VyJywgJ2J5X2RheScsICdieV9tb250aF9kYXknLCAnYnlfeWVhcl9kYXknLCAnYnlfd2Vla19ubycsICdieV9tb250aCddXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNsZWFyUmVjdXJyZW5jZTogY2xlYXJSZWN1cnJlbmNlLFxyXG5cdFx0XHRjb25zdHJ1Y3RSZWN1cnJlbmNlOiBjb25zdHJ1Y3RSZWN1cnJlbmNlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNsZWFyUmVjdXJyZW5jZShpdGVtKSB7XHJcblx0XHRcdGl0ZW0ucmVjdXJyZW5jZSA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNvbnN0cnVjdFJlY3VycmVuY2UoaXRlbSkge1xyXG5cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdUYXNrc0NvbnRyb2xsZXInLCBUYXNrc0NvbnRyb2xsZXIpO1xyXG5cclxuXHRUYXNrc0NvbnRyb2xsZXIuJGluamVjdCA9IFsndGFza3NTZXJ2aWNlJywgJ3Rhc2tNb2RhbFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBUYXNrc0NvbnRyb2xsZXIodGFza3NTZXJ2aWNlLCB0YXNrTW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uc2hvd1Rhc2tNb2RhbCA9IHNob3dUYXNrTW9kYWw7XHJcblx0XHR2bS50b2dnbGVDb21wbGV0ZWQgPSB0b2dnbGVDb21wbGV0ZWQ7XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd1Rhc2tNb2RhbCh0YXNrKSB7XHJcblx0XHRcdHRhc2tNb2RhbFNlcnZpY2Uub3BlblRhc2tNb2RhbCh0YXNrLCB2bS5sYWJlbHMpLnRoZW4odXBkYXRlVGFza3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZCh0YXNrKSB7XHJcblx0XHRcdHRhc2tzU2VydmljZS50b2dnbGVDb21wbGV0ZWQodGFzaykudGhlbih1cGRhdGVUYXNrcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlVGFza3MocmVzcG9uc2UpIHtcclxuXHRcdFx0aWYgKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dm0udGFza3MgPSByZXNwb25zZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFRhc2tzJywgdGFza3NEaXJlY3RpdmUpO1xyXG5cclxuXHR0YXNrc0RpcmVjdGl2ZS4kaW5qZWN0ID0gWyckZmlsdGVyJ107XHJcblx0ZnVuY3Rpb24gdGFza3NEaXJlY3RpdmUoJGZpbHRlcikge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL3Rhc2tzL3Rhc2tzLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnVGFza3NDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdHRhc2tzOiAnPScsXHJcblx0XHRcdFx0bGFiZWxzOiAnPScsXHJcblx0XHRcdFx0b3JkZXI6ICc9JyxcclxuXHRcdFx0XHRkYXlzOiAnPXdpdGhpbkRheXMnLFxyXG5cdFx0XHRcdGluTGFiZWxzOiAnPWluR3JvdXBzJ1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgndGFza3NTZXJ2aWNlJywgdGFza3NTZXJ2aWNlKTtcclxuXHJcblx0dGFza3NTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnLCAnY3J1ZFNlcnZpY2UnLCAnc2Vzc2lvblNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiB0YXNrc1NlcnZpY2UoJGh0dHAsICRsb2csIGNydWRTZXJ2aWNlLCBzZXNzaW9uU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0dm0udGFzayA9IG5ldyBjcnVkU2VydmljZSgndGFzaycpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZVRhc2s6IGNyZWF0ZVRhc2ssXHJcblx0XHRcdGNyZWF0ZU9yVXBkYXRlVGFzazogY3JlYXRlT3JVcGRhdGVUYXNrLFxyXG5cdFx0XHRkZWxldGVUYXNrOiBkZWxldGVUYXNrLFxyXG5cdFx0XHRnZXRUYXNrczogZ2V0VGFza3MsXHJcblx0XHRcdHRvZ2dsZUNvbXBsZXRlZDogdG9nZ2xlQ29tcGxldGVkLFxyXG5cdFx0XHR1cGRhdGVUYXNrOiB1cGRhdGVUYXNrXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZVRhc2sodGFzaykge1xyXG5cdFx0XHRyZXR1cm4gdm0udGFzay5jcmVhdGUodGFzaykudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlVGFzayh0YXNrKSB7XHJcblx0XHRcdGlmICghdGFzay50YXNrX2lkKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZVRhc2sodGFzayk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHVwZGF0ZVRhc2sodGFzay50YXNrX2lkLCB0YXNrKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVUYXNrKGlkKSB7XHJcblx0XHRcdHJldHVybiB2bS50YXNrLnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFRhc2tzKCkge1xyXG5cdFx0XHRyZXR1cm4gc2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCdpZCcpXHJcblx0XHRcdFx0LnRoZW4oZ2V0VGFza1dpdGhVc2VySUQpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0VGFza1dpdGhVc2VySUQocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRcdHJldHVybiB2bS50YXNrLmdldFdoZXJlKCcnLCByZXMuZGF0YSkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gcmVzLnRpdGxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQ29tcGxldGVkKHRhc2spIHtcclxuXHRcdFx0dGFzay5jb21wbGV0ZWQgPSAhcGFyc2VJbnQodGFzay5jb21wbGV0ZWQpO1xyXG5cdFx0XHRyZXR1cm4gdXBkYXRlVGFzayh0YXNrLnRhc2tfaWQsIHRhc2spLnRoZW4oZ2V0VGFza3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZVRhc2soaWQsIHRhc2spIHtcclxuXHRcdFx0cmV0dXJuIHZtLnRhc2sudXBkYXRlKGlkLCB0YXNrKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdVcGxvYWRDb250cm9sbGVyJywgVXBsb2FkQ29udHJvbGxlcik7XHJcblxyXG5cdFVwbG9hZENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRodHRwJywgJ3VwbG9hZFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBVcGxvYWRDb250cm9sbGVyKCRzY29wZSwgJGh0dHAsIHVwbG9hZFNlcnZpY2UpIHtcclxuXHRcdHZhciB1YyA9IHRoaXM7XHJcblx0XHR1Yy51cGxvYWRGaWxlID0gdXBsb2FkRmlsZTtcclxuXHJcblx0XHRmdW5jdGlvbiB1cGxvYWRGaWxlKGZpbGUsIG9sZEZpbGUpIHtcclxuXHRcdFx0cmV0dXJuIHVwbG9hZFNlcnZpY2UudXBsb2FkRmlsZShmaWxlKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKGZpbGVQYXRoKSB7IHJldHVybiBmaWxlUGF0aDsgfSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwRmlsZUNoYW5nZScsIHVwbG9hZERpcmVjdGl2ZSk7XHJcblxyXG5cdHVwbG9hZERpcmVjdGl2ZS4kaW5qZWN0ID0gWyckcGFyc2UnXTtcclxuXHRmdW5jdGlvbiB1cGxvYWREaXJlY3RpdmUoJHBhcnNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnVXBsb2FkQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3VjJyxcclxuXHRcdFx0bGluazogbGluayxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRzcEZpbGVDaGFuZ2U6ICc9JyxcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG5cdFx0XHR2YXIgbWF4RmlsZVNpemUgPSAyICogMTAyNCAqIDEwMjQ7XHJcblx0XHRcdHZhciBmaWxlTW9kZWwgPSAkcGFyc2UoYXR0cnMuc3BGaWxlQ2hhbmdlKTtcclxuXHRcdFx0ZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmaWxlSGFuZGxlciwgZmFsc2UpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZmlsZUhhbmRsZXIoZXZlbnQpIHtcclxuXHRcdFx0XHRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR2YXIgZmlsZSA9IGVsZW1lbnRbMF0uZmlsZXNbMF07XHJcblxyXG5cdFx0XHRcdFx0aWYgKGZpbGUuc2l6ZSA8PSBtYXhGaWxlU2l6ZSkge1xyXG5cdFx0XHRcdFx0XHRzY29wZS51Yy51cGxvYWRGaWxlKGZpbGUpXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oZmlsZVBhdGgpIHsgc2NvcGUuc3BGaWxlQ2hhbmdlID0gZmlsZVBhdGg7IH0pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0YWxlcnQoXCJGaWxlIG11c3QgYmUgbGVzcyB0aGFuIFwiICsgKG1heEZpbGVTaXplIC8gMTAyNCAvIDEwMjQpICsgXCJNQi5cIik7Ly8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3VwbG9hZFNlcnZpY2UnLCB1cGxvYWRTZXJ2aWNlKTtcclxuXHJcblx0dXBsb2FkU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gdXBsb2FkU2VydmljZSgkaHR0cCwgJGxvZykge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dXBsb2FkRmlsZTogdXBsb2FkRmlsZVxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiB1cGxvYWRGaWxlKGZpbGUpIHtcclxuXHRcdFx0dmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblx0XHRcdGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xyXG5cclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJ2FwaS91cGxvYWQvdXBsb2FkTWFuYWdlci5waHAnLCBmb3JtRGF0YSwge1xyXG5cdFx0XHRcdHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcblx0XHRcdFx0aGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH1cclxuXHRcdFx0fSlcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdGlmIChyZXMuZGF0YS5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiByZXMuZGF0YS5kYXRhO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JGxvZy5lcnJvcihyZXMudGl0bGUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmNhdGNoKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0JGxvZy5lcnJvcihyZXMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignRGFzaGJvYXJkQ29udHJvbGxlcicsIERhc2hib2FyZENvbnRyb2xsZXIpO1xyXG5cclxuXHREYXNoYm9hcmRDb250cm9sbGVyLiRpbmplY3QgPSBbJ2lzQXV0aGVudGljYXRlZCcsICd0YXNrcycsICdldmVudHMnLCAnbGFiZWxzJywgJ2NhbGVuZGFycyddO1xyXG5cdGZ1bmN0aW9uIERhc2hib2FyZENvbnRyb2xsZXIoaXNBdXRoZW50aWNhdGVkLCB0YXNrcywgZXZlbnRzLCBsYWJlbHMsIGNhbGVuZGFycykge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLnRhc2tzID0gdGFza3M7XHJcblx0XHR2bS5ldmVudHMgPSBldmVudHM7XHJcblx0XHR2bS5sYWJlbHMgPSBsYWJlbHM7XHJcblx0XHR2bS5jYWxlbmRhcnMgPSBjYWxlbmRhcnM7XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdSZWdpc3RlckNvbnRyb2xsZXInLCBSZWdpc3RlckNvbnRyb2xsZXIpO1xyXG5cclxuXHRSZWdpc3RlckNvbnRyb2xsZXIuJGluamVjdCA9IFsncmVnaXN0ZXJTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gUmVnaXN0ZXJDb250cm9sbGVyKHJlZ2lzdGVyU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmVycm9yID0gJyc7XHJcblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR2bS5yZWdpc3RlciA9IHJlZ2lzdGVyO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xyXG5cdFx0XHR2bS5sb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0cmVnaXN0ZXJTZXJ2aWNlLnJlZ2lzdGVyKHZtLnVzZXIpXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHZtLmVycm9yID0gcmVzcG9uc2U7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdyZWdpc3RlclNlcnZpY2UnLCByZWdpc3RlclNlcnZpY2UpO1xyXG5cclxuXHRyZWdpc3RlclNlcnZpY2UuJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJyRsb2cnLCAnY3J1ZFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiByZWdpc3RlclNlcnZpY2UoJGxvY2F0aW9uLCAkbG9nLCBjcnVkU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0dm0uY3J1ZCA9IG5ldyBjcnVkU2VydmljZSgndXNlcicpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlZ2lzdGVyOiByZWdpc3RlclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiByZWdpc3Rlcih1c2VyKSB7XHJcblx0XHRcdHJldHVybiB2bS5jcnVkLmNyZWF0ZSh1c2VyKVxyXG5cdFx0XHRcdC50aGVuKHJlZ2lzdHJhdGlvbkNvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHJlZ2lzdHJhdGlvbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLnN1Y2Nlc3MgPT09ICdmYWxzZScpIHtcclxuXHRcdFx0XHRcdCRsb2cuZXJyb3IocmVzcG9uc2UudGl0bGUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLnRpdGxlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkbG9jYXRpb24udXJsKCcvbG9naW4nKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnYWNjZXNzU2VydmljZScsIGFjY2Vzc1NlcnZpY2UpO1xyXG5cclxuXHRhY2Nlc3NTZXJ2aWNlLiRpbmplY3QgPSBbJyRsb2NhdGlvbicsICckcScsICdzZXNzaW9uU2VydmljZScsICdzdGF0dXNTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gYWNjZXNzU2VydmljZSgkbG9jYXRpb24sICRxLCBzZXNzaW9uU2VydmljZSwgc3RhdHVzU2VydmljZSkge1xyXG5cdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IGlzQXV0aGVudGljYXRlZCxcclxuXHRcdFx0aXNBZG1pbjogaXNBZG1pblxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ25hbWUnKVxyXG5cdFx0XHRcdC50aGVuKGlzQXV0aGVudGljYXRlZENvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZENvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoc3RhdHVzU2VydmljZS5PSyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChzdGF0dXNTZXJ2aWNlLlVOQVVUSE9SSVpFRCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQWRtaW4oKSB7XHJcblxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFN0YXR1cyBjb2RlcyB1c2VkIHdoZW4gYWNjZXNzaW5nIHZhcmlvdXMgcGFnZXMgaW4gdGhlIGFwcC5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LnNlcnZpY2UoJ3N0YXR1c1NlcnZpY2UnLCBzdGF0dXNTZXJ2aWNlKTtcclxuXHJcblx0ZnVuY3Rpb24gc3RhdHVzU2VydmljZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdE9LOiAyMDAsXHJcblx0XHRcdFVOQVVUSE9SSVpFRDogNDAxLFxyXG5cdFx0XHRGT1JCSURERU46IDQwM1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjYWxlbmRhclNlcnZpY2UnLCBjYWxlbmRhclNlcnZpY2UpO1xyXG5cclxuXHRjYWxlbmRhclNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZycsICdjcnVkU2VydmljZScsICdzZXNzaW9uU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGNhbGVuZGFyU2VydmljZSgkaHR0cCwgJGxvZywgY3J1ZFNlcnZpY2UsIHNlc3Npb25TZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5jYWxlbmRhciA9IG5ldyBjcnVkU2VydmljZSgnY2FsZW5kYXInKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVDYWxlbmRhcjogY3JlYXRlQ2FsZW5kYXIsXHJcblx0XHRcdGRlbGV0ZUNhbGVuZGFyOiBkZWxldGVDYWxlbmRhcixcclxuXHRcdFx0Z2V0Q2FsZW5kYXJzOiBnZXRDYWxlbmRhcnMsXHJcblx0XHRcdHVwZGF0ZUNhbGVuZGFyOiB1cGRhdGVDYWxlbmRhclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVDYWxlbmRhcihjYWxlbmRhcikge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXIuY3JlYXRlKGNhbGVuZGFyKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlQ2FsZW5kYXIoaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyLnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENhbGVuZGFycygpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignaWQnKVxyXG5cdFx0XHRcdC50aGVuKGdldENhbGVuZGFyV2l0aFVzZXJJRCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBnZXRDYWxlbmRhcldpdGhVc2VySUQocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRcdHJldHVybiB2bS5jYWxlbmRhci5nZXRXaGVyZSgncGVyc29uX2lkPScgKyByZXMuZGF0YSwgJycpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUNhbGVuZGFyKGlkLCBjYWxlbmRhcikge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXIudXBkYXRlKGlkLCBjYWxlbmRhcikudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnZXZlbnRNb2RhbFNlcnZpY2UnLCBldmVudE1vZGFsU2VydmljZSk7XHJcblxyXG5cdGV2ZW50TW9kYWxTZXJ2aWNlLiRpbmplY3QgPSBbJyR1aWJNb2RhbCcsICdjYWxlbmRhclNlcnZpY2UnLCAnZXZlbnRzU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGV2ZW50TW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgY2FsZW5kYXJTZXJ2aWNlLCBldmVudHNTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0b3BlbkV2ZW50TW9kYWw6IG9wZW5FdmVudE1vZGFsXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIG9wZW5FdmVudE1vZGFsKGV2ZW50LCBjYWxlbmRhcnMpIHtcclxuXHRcdFx0cmV0dXJuICR1aWJNb2RhbC5vcGVuKHtcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTW9kYWxDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL2V2ZW50cy9tb2RhbC9ldmVudC5tb2RhbC5odG1sJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRncm91cHM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FsZW5kYXJzOyB9LFxyXG5cdFx0XHRcdFx0aXRlbTogZXZlbnRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLnJlc3VsdFxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZXZlbnRzU2VydmljZS5jcmVhdGVPclVwZGF0ZUV2ZW50KHJlc3BvbnNlKVxyXG5cdFx0XHRcdFx0XHQudGhlbihldmVudHNTZXJ2aWNlLmdldEV2ZW50cyk7XHJcblx0XHRcdFx0fSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgcmVzcG9uc2UgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBldmVudHNTZXJ2aWNlLmRlbGV0ZUV2ZW50KHJlc3BvbnNlKVxyXG5cdFx0XHRcdFx0XHRcdC50aGVuKGV2ZW50c1NlcnZpY2UuZ2V0RXZlbnRzKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjYWxlbmRhcldpZGdldFNlcnZpY2UnLCBjYWxlbmRhcldpZGdldFNlcnZpY2UpO1xyXG5cclxuXHRjYWxlbmRhcldpZGdldFNlcnZpY2UuJGluamVjdCA9IFsnbW9tZW50J107XHJcblx0ZnVuY3Rpb24gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlKG1vbWVudCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Z2V0RW5kT2ZEYXk6IGdldEVuZE9mRGF5LFxyXG5cdFx0XHRnZXRNb250aDogZ2V0TW9udGgsXHJcblx0XHRcdGdldFRvZGF5OiBnZXRUb2RheSxcclxuXHRcdFx0Z2V0V2VlazogZ2V0V2VlayxcclxuXHRcdFx0aXNTYW1lRGF5OiBpc1NhbWVEYXksXHJcblx0XHRcdGxhc3RNb250aDogbGFzdE1vbnRoLFxyXG5cdFx0XHRuZXh0TW9udGg6IG5leHRNb250aFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRFbmRPZkRheShkYXkpIHtcclxuXHRcdFx0cmV0dXJuIGRheS5jbG9uZSgpLmFkZCgxLCAnZGF5Jykuc3VidHJhY3QoMSwgJ21zJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH0gYURheSBEYXkgdG8gYnVpbGQgbW9udGggYXJvdW5kLlxyXG5cdFx0KiBAcmV0dXJuIHtNb21lbnQgT2JqZWN0W11bXX1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXRNb250aChhRGF5KSB7XHJcblx0XHRcdHZhciBtb250aCA9IFtdO1xyXG5cdFx0XHR2YXIgZGF5ID0gYURheS5jbG9uZSgpLmRhdGUoMSkuc3RhcnRPZignd2VlaycpO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKykge1xyXG5cdFx0XHRcdG1vbnRoLnB1c2goZ2V0V2VlayhkYXksIGFEYXkubW9udGgoKSkpO1xyXG5cdFx0XHRcdGRheSA9IGRheS5hZGQoMSwgJ3dlZWtzJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG1vbnRoO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFRvZGF5KCkge1xyXG5cdFx0XHRyZXR1cm4gbW9tZW50KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH1cdHN0YXJ0RGF5XHRTdGFydGluZyBkYXkgb2YgYSB3ZWVrLlxyXG5cdFx0KiBAcGFyYW0ge2ludH1cdFx0XHRcdHRhcmdldE1vbnRoXHRNb250aCBudW1iZXIgYmVpbmcgYnVpbHQuXHJcblx0XHQqXHJcblx0XHQqIEByZXR1cm4ge01vbWVudCBPYmplY3RbXX1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXRXZWVrKHN0YXJ0RGF5LCB0YXJnZXRNb250aCkge1xyXG5cdFx0XHR2YXIgd2VlayA9IFtdO1xyXG5cclxuXHRcdFx0dmFyIGRheSA9IHN0YXJ0RGF5LmNsb25lKCk7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcblx0XHRcdFx0d2Vlay5wdXNoKHtcclxuXHRcdFx0XHRcdG51bWJlcjogZGF5LmRhdGUoKSxcclxuXHRcdFx0XHRcdGlzVGFyZ2V0TW9udGg6IChkYXkubW9udGgoKSA9PT0gdGFyZ2V0TW9udGgpLFxyXG5cdFx0XHRcdFx0aXNUb2RheTogZGF5LmlzU2FtZShtb21lbnQoKSwgJ2RheScpLFxyXG5cdFx0XHRcdFx0ZnVsbERhdGU6IGRheVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGRheSA9IGRheS5jbG9uZSgpLmFkZCgxLCAnZGF5cycpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gd2VlaztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHtNb21lbnQgT2JqZWN0fVx0ZGF5MVxyXG5cdFx0KiBAcGFyYW0ge01vbWVudCBPYmplY3R9XHRkYXkyXHJcblx0XHQqXHJcblx0XHQqIEByZXR1cm4ge2Jvb2x9XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gaXNTYW1lRGF5KGRheTEsIGRheTIpIHtcclxuXHRcdFx0cmV0dXJuIGRheTEuaXNTYW1lKGRheTIsICdkYXknKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogU2luY2Ugc3JjTW9udGggaXMgYW4gYXJyYXkgb2YgZGF5cyBieSB3ZWVrcywgaXQgY29udGFpbnMgZGF5cyBub3QgaW4gdGhlXHJcblx0XHQqIHNvdXJjZSBtb250aC4gVGhlIGZpcnN0IGRheSBvZiB0aGUgdGhpcmQgd2VlayBvZiB0aGUgZ2l2ZW4gbW9udGggaXNcclxuXHRcdCogZ3VhcmFudGVlZCB0byBiZSBhIGRheSB3aXRoaW4gdGhlIHNvdXJjZSBtb250aC5cclxuXHRcdCpcclxuXHRcdCogQHBhcmFtIHtNb21lbnQgT2JqZWN0fVx0c3JjTW9udGhcclxuXHRcdCogQHJldHVybiB7TW9tZW50IE9iamVjdFtdfVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGxhc3RNb250aChzcmNNb250aCkge1xyXG5cdFx0XHRyZXR1cm4gZ2V0TW9udGgoc3JjTW9udGhbM11bMF0uZnVsbERhdGUuY2xvbmUoKS5zdWJ0cmFjdCgxLCAnbW9udGhzJykpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAc2VlIGxhc3RNb250aCgpXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gbmV4dE1vbnRoKHNyY01vbnRoKSB7XHJcblx0XHRcdHJldHVybiBnZXRNb250aChzcmNNb250aFszXVswXS5mdWxsRGF0ZS5jbG9uZSgpLmFkZCgxLCAnbW9udGhzJykpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3JlY3VycmVuY2VNb2RhbFNlcnZpY2UnLCByZWN1cnJlbmNlTW9kYWxTZXJ2aWNlKTtcclxuXHJcblx0cmVjdXJyZW5jZU1vZGFsU2VydmljZS4kaW5qZWN0ID0gWyckdWliTW9kYWwnLCAncmVjdXJyZW5jZVNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiByZWN1cnJlbmNlTW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgcmVjdXJyZW5jZVNlcnZpY2UpIHtcclxuXHRcdHZhciByYyA9IHRoaXM7IC8vIGpzaGludCBpZ25vcmU6IGxpbmVcclxuXHRcdHZhciByZWN1cnJlbmNlSW5mbyA9IHtcclxuXHRcdFx0ZnJlcTogWydob3VybHknLCAnZGFpbHknLCAnd2Vla2x5JywgJ21vbnRobHknLCAneWVhcmx5J10sXHJcblx0XHRcdGRheXM6IFsnbW8nLCAndHUnLCAnd2UnLCAndGgnLCAnZnInLCAnc2EnLCAnc3UnXVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuUmVjdXJyZW5jZU1vZGFsOiBvcGVuUmVjdXJyZW5jZU1vZGFsXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIG9wZW5SZWN1cnJlbmNlTW9kYWwoaXRlbSkge1xyXG5cdFx0XHRyZXR1cm4gJHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdNb2RhbENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcmVjdXJyZW5jZS9tb2RhbC9yZWN1cnJlbmNlLm1vZGFsLmh0bWwnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGdyb3VwczogZnVuY3Rpb24oKSB7IHJldHVybiByZWN1cnJlbmNlSW5mbzsgfSxcclxuXHRcdFx0XHRcdGl0ZW06IGl0ZW1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLnJlc3VsdFxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRyZWN1cnJlbmNlU2VydmljZS5jb25zdHJ1Y3RSZWN1cnJlbmNlKGl0ZW0pO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRyZWN1cnJlbmNlU2VydmljZS5jbGVhclJlY3VycmVuY2UoaXRlbSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnc3VidGFza01vZGFsU2VydmljZScsIHN1YnRhc2tNb2RhbFNlcnZpY2UpO1xyXG5cclxuXHRzdWJ0YXNrTW9kYWxTZXJ2aWNlLiRpbmplY3QgPSBbJyR1aWJNb2RhbCcsICdsYWJlbFNlcnZpY2UnLCAnc3VidGFza3NTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gc3VidGFza01vZGFsU2VydmljZSgkdWliTW9kYWwsIGxhYmVsU2VydmljZSwgc3VidGFza3NTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuU3VidGFza01vZGFsOiBvcGVuU3VidGFza01vZGFsXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIG9wZW5TdWJ0YXNrTW9kYWwoc3VidGFzaywgdGFzaykge1xyXG5cdFx0XHQkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy9tb2RhbC9zdWJ0YXNrLm1vZGFsLmh0bWwnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGdyb3VwczogdGFzayxcclxuXHRcdFx0XHRcdGl0ZW06IHN1YnRhc2tcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLnJlc3VsdFxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0c3VidGFza3NTZXJ2aWNlLmNyZWF0ZU9yVXBkYXRlU3VidGFzayhyZXMuc3VidGFzaywgcmVzLnRhc2spO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiByZXMgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0XHRcdHN1YnRhc2tzU2VydmljZS5kZWxldGVTdWJ0YXNrKHJlcy5zdWJ0YXNrLCByZXMudGFzayk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgndGFza01vZGFsU2VydmljZScsIHRhc2tNb2RhbFNlcnZpY2UpO1xyXG5cclxuXHR0YXNrTW9kYWxTZXJ2aWNlLiRpbmplY3QgPSBbJyR1aWJNb2RhbCcsICdsYWJlbFNlcnZpY2UnLCAndGFza3NTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gdGFza01vZGFsU2VydmljZSgkdWliTW9kYWwsIGxhYmVsU2VydmljZSwgdGFza3NTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0b3BlblRhc2tNb2RhbDogb3BlblRhc2tNb2RhbFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBvcGVuVGFza01vZGFsKHRhc2ssIGxhYmVscykge1xyXG5cdFx0XHRyZXR1cm4gJHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdNb2RhbENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdGFza3MvbW9kYWwvdGFzay5tb2RhbC5odG1sJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRncm91cHM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbGFiZWxzOyB9LFxyXG5cdFx0XHRcdFx0aXRlbTogdGFza1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkucmVzdWx0XHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHJldHVybiB0YXNrc1NlcnZpY2UuY3JlYXRlT3JVcGRhdGVUYXNrKHJlc3BvbnNlKVxyXG5cdFx0XHRcdFx0XHQudGhlbih0YXNrc1NlcnZpY2UuZ2V0VGFza3MpO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHJlc3BvbnNlICE9PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdGFza3NTZXJ2aWNlLmRlbGV0ZVRhc2socmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4odGFza3NTZXJ2aWNlLmdldFRhc2tzKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdsYWJlbFNlcnZpY2UnLCBsYWJlbFNlcnZpY2UpO1xyXG5cclxuXHRsYWJlbFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZycsICdjcnVkU2VydmljZScsICdzZXNzaW9uU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGxhYmVsU2VydmljZSgkaHR0cCwgJGxvZywgY3J1ZFNlcnZpY2UsIHNlc3Npb25TZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5sYWJlbCA9IG5ldyBjcnVkU2VydmljZSgnbGFiZWwnKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVMYWJlbDogY3JlYXRlTGFiZWwsXHJcblx0XHRcdGRlbGV0ZUxhYmVsOiBkZWxldGVMYWJlbCxcclxuXHRcdFx0Z2V0TGFiZWxzOiBnZXRMYWJlbHMsXHJcblx0XHRcdHVwZGF0ZUxhYmVsOiB1cGRhdGVMYWJlbFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVMYWJlbChsYWJlbCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWwuY3JlYXRlKGxhYmVsKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlTGFiZWwoaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmxhYmVsLnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldExhYmVscygpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignaWQnKVxyXG5cdFx0XHRcdC50aGVuKGdldExhYmVsV2l0aFVzZXJJRCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBnZXRMYWJlbFdpdGhVc2VySUQocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRcdHJldHVybiB2bS5sYWJlbC5nZXRXaGVyZSgncGVyc29uX2lkPScgKyByZXMuZGF0YSwgJycpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUxhYmVsKGlkLCBsYWJlbCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWwudXBkYXRlKGlkLCBsYWJlbCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignU3VidGFza3NDb250cm9sbGVyJywgU3VidGFza3NDb250cm9sbGVyKTtcclxuXHJcblx0U3VidGFza3NDb250cm9sbGVyLiRpbmplY3QgPSBbJ3N1YnRhc2tzU2VydmljZScsICdzdWJ0YXNrTW9kYWxTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gU3VidGFza3NDb250cm9sbGVyKHN1YnRhc2tzU2VydmljZSwgc3VidGFza01vZGFsU2VydmljZSkge1xyXG5cdFx0dmFyIHN0ID0gdGhpcztcclxuXHRcdHN0LnNob3dTdWJ0YXNrTW9kYWwgPSBzaG93U3VidGFza01vZGFsO1xyXG5cdFx0c3QudG9nZ2xlQ29tcGxldGVkID0gdG9nZ2xlQ29tcGxldGVkO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHNob3dTdWJ0YXNrTW9kYWwoc3VidGFzaykge1xyXG5cdFx0XHRzdWJ0YXNrTW9kYWxTZXJ2aWNlLm9wZW5TdWJ0YXNrTW9kYWwoc3VidGFzaywgc3QudGFzayk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQ29tcGxldGVkKHN1YnRhc2spIHtcclxuXHRcdFx0c3VidGFza3NTZXJ2aWNlLnRvZ2dsZUNvbXBsZXRlZChzdWJ0YXNrKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVTdWJ0YXNrcyhyZXNwb25zZSkge1xyXG5cdFx0XHRpZiAocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRzdC5zdWJ0YXNrcyA9IHJlc3BvbnNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwU3VidGFza3MnLCBzdWJ0YXNrc0RpcmVjdGl2ZSk7XHJcblxyXG5cdGZ1bmN0aW9uIHN1YnRhc2tzRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL3Rhc2tzL3N1YnRhc2tzL3N1YnRhc2tzLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnU3VidGFza3NDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAnc3QnLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdHRhc2s6ICc9J1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnc3VidGFza3NTZXJ2aWNlJywgc3VidGFza3NTZXJ2aWNlKTtcclxuXHJcblx0c3VidGFza3NTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnXTtcclxuXHRmdW5jdGlvbiBzdWJ0YXNrc1NlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZU9yVXBkYXRlU3VidGFzazogY3JlYXRlT3JVcGRhdGVTdWJ0YXNrLFxyXG5cdFx0XHRkZWxldGVTdWJ0YXNrOiBkZWxldGVTdWJ0YXNrLFxyXG5cdFx0XHR0b2dnbGVDb21wbGV0ZWQ6IHRvZ2dsZUNvbXBsZXRlZFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVN1YnRhc2soc3VidGFzaywgdGFzaykge1xyXG5cdFx0XHRpZiAoIXRhc2suc3VidGFza3MpIHtcclxuXHRcdFx0XHR0YXNrLnN1YnRhc2tzID0ge1xyXG5cdFx0XHRcdFx0Y3VycmVudElkOiAxLFxyXG5cdFx0XHRcdFx0bGlzdDogW11cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoc3VidGFzay5pZCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0c3VidGFzay5pZCA9IHRhc2suc3VidGFza3MuY3VycmVudElkKys7XHJcblx0XHRcdFx0c3VidGFzay5jb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR0YXNrLnN1YnRhc2tzLmxpc3QucHVzaChzdWJ0YXNrKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZVN1YnRhc2soc3VidGFzaywgdGFzaykge1xyXG5cdFx0XHR0YXNrLnN1YnRhc2tzLmxpc3Quc3BsaWNlKHRhc2suc3VidGFza3MubGlzdC5pbmRleE9mKHN1YnRhc2spLCAxKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVDb21wbGV0ZWQoc3VidGFzaykge1xyXG5cdFx0XHRzdWJ0YXNrLmNvbXBsZXRlZCA9ICFzdWJ0YXNrLmNvbXBsZXRlZDtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdIZWFkZXJDb250cm9sbGVyJywgSGVhZGVyQ29udHJvbGxlcik7XHJcblxyXG5cdEhlYWRlckNvbnRyb2xsZXIuJGluamVjdCA9IFsndXNlciddO1xyXG5cdGZ1bmN0aW9uIEhlYWRlckNvbnRyb2xsZXIodXNlcikge1xyXG5cdFx0dGhpcy51c2VyID0gdXNlcjtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2hlYWRlclNlcnZpY2UnLCBoZWFkZXJTZXJ2aWNlKTtcclxuXHJcblx0aGVhZGVyU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJywgJ3Nlc3Npb25TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gaGVhZGVyU2VydmljZSgkaHR0cCwgJGxvZywgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFVzZXI6IGdldFVzZXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlcigpIHtcclxuXHRcdFx0cmV0dXJuIHNlc3Npb25TZXJ2aWNlLmdldFZhcignbmFtZScpXHJcblx0XHRcdFx0LnRoZW4oZ2V0TmFtZUNvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGdldE5hbWVDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cclxuXHRcdFx0XHRpZiAocmVzLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4ge25hbWU6IGZhbHNlLCB1cmw6ICcjL2xvZ2luJ307XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB7bmFtZTogcmVzLmRhdGEsIHVybDogJyMvZGFzaGJvYXJkJ307XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdTaWRlYmFyQ29udHJvbGxlcicsIFNpZGViYXJDb250cm9sbGVyKTtcclxuXHJcblx0U2lkZWJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnbGFiZWxzJywgJ2NhbGVuZGFycyddO1xyXG5cdGZ1bmN0aW9uIFNpZGViYXJDb250cm9sbGVyKGxhYmVscywgY2FsZW5kYXJzKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uY29sbGFwc2VkID0gdHJ1ZTtcclxuXHRcdHZtLmxhYmVscyA9IGxhYmVscztcclxuXHRcdHZtLmNhbGVuZGFycyA9IGNhbGVuZGFycztcclxuXHR9XHJcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
