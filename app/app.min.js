!function(){"use strict";function e(e,t,r){e.$on("$locationChangeStart",r.checkAuthentication)}angular.module("app",["ngRoute"]).controller("AppController",e),e.$inject=["$rootScope","$location","appService"]}(),function(){"use strict";function e(e){e.when("/login",{templateUrl:"modules/login/login.html",controller:"LoginController",controllerAs:"vm",adminOnly:!1}).when("/logout",{templateUrl:"modules/logout/logout.html",controller:"LogoutController",controllerAs:"vm",adminOnly:!1}).when("/register",{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm",adminOnly:!1}).when("/dashboard",{templateUrl:"pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",adminOnly:!1}).otherwise({redirectTo:"/dashboard"})}angular.module("app").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";function e(e,t,r){function n(){function t(t){t.data.success===!1&&e.url("/login")}r.getVar("name").then(t)}return{checkAuthentication:n}}angular.module("app").factory("appService",e),e.$inject=["$location","$log","sessionService"]}(),function(){"use strict";function e(e,t){function r(e){this.base="api/"+e+"/"+e+"Manager.php"}function n(t){return e.get(this.base+"?id="+t).then(l)["catch"](c)}function o(t){return e.post(this.base,t).then(l)["catch"](c)}function i(t,r){return e.put(this.base+"?id="+t,r).then(l)["catch"](c)}function a(t){return e["delete"](this.base+"?id="+t).then(l)["catch"](c)}function l(e){return e}function c(e){return t.error(e),{success:"false",title:"Error when querying server.",message:e}}var u=r;return u.prototype={get:n,create:o,update:i,remove:a},u}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t){function r(t){return e.get(a.base+t).then(o)["catch"](i)}function n(t,r){return e.post(a.base+t,r).then(o)["catch"](i)}function o(e){return e}function i(e){return t.error(e),{success:"false",title:"Error when accessing variable.",message:e}}var a=this;return a.base="api/session/sessionVarManager.php?var=",{getVar:r,setVar:n}}angular.module("app").factory("sessionService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(){function e(e,t,r,n){function o(){l()}function i(t){return t===e.otherModel.$viewValue}function a(e,t){n.$validate()}var l=e.$watch("otherModel",a);n.$validators.spCompareTo=i,t.on("$destroy",o)}var t={require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e};return t}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){function t(){function t(e){r.loading=!1,r.error=e}r.loading=!0,e.login(r.user).then(t)}var r=this;r.loading=!1,r.error="",r.login=t}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,t,r){function n(n){function o(e){return e.data.success===!1?e.data.title:void t.url("/dashboard")}function i(e){return r.error(e),"Something went wrong. Please try again."}return e.post("api/managers/loginManager.php",n).then(o)["catch"](i)}return{login:n}}angular.module("app").factory("loginService",e),e.$inject=["$http","$location","$log"]}(),function(){"use strict";function e(e){}angular.module("app").controller("TasksController",e),e.$inject=["tasksService"]}(),function(){"use strict";function e(){function e(e,t,r){}return{link:e,templateUrl:"modules/tasks/tasks.html",controller:"TasksController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spTasks",e)}(),function(){"use strict";function e(e,t){return{}}angular.module("app").factory("tasksService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(){}angular.module("app").controller("DashboardController",e)}(),function(){"use strict";function e(e){function t(){function t(e){r.loading=!1,r.error=e}r.loading=!0,e.register(r.user).then(t)}var r=this;r.loading=!1,r.error="",r.register=t}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,t,r){function n(r){function n(r){return"false"===r.success?(t.error(r.title),r.title):void e.url("/login")}return o.crud.create(r).then(n)}var o=this;return o.crud=new r("user"),{register:n}}angular.module("app").factory("registerService",e),e.$inject=["$location","$log","crudService"]}(),function(){"use strict";function e(e,t){function r(t){e.$evalAsync(function(){n.name=t.name===!1?"Login":t.name,n.url=t.url})}var n=this;n.name="",n.url="",t.getUser().then(r)}angular.module("app").controller("HeaderController",e),e.$inject=["$scope","headerService"]}(),function(){"use strict";function e(){function e(e,t,r){}return{link:e,templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spHeader",e)}(),function(){"use strict";function e(e,t,r){function n(){function e(e){var t=e.data;return t.success===!1?{name:!1,url:"#/login"}:{name:t.data,url:"#/dashboard"}}return r.getVar("name").then(e)}return{getUser:n}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log","sessionService"]}(),function(){"use strict";function e(){var e=this;e.collapsed=!0,e.toggleSidebar=function(){e.collapsed=!e.collapsed}}angular.module("app").controller("SidebarController",e)}(),function(){"use strict";function e(){function e(e,t,r){function n(e){e?t.removeClass("collapsed"):t.addClass("collapsed")}e.$watch(r.sidebarDirective,n)}return{link:e,templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spSidebar",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCIkbG9jYXRpb24iLCJhcHBTZXJ2aWNlIiwiJG9uIiwiY2hlY2tBdXRoZW50aWNhdGlvbiIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJGluamVjdCIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlckFzIiwiYWRtaW5Pbmx5Iiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsIiRsb2ciLCJzZXNzaW9uU2VydmljZSIsImNoZWNrQXV0aGVudGljYXRpb25Db21wbGV0ZSIsInJlc3BvbnNlIiwiZGF0YSIsInN1Y2Nlc3MiLCJ1cmwiLCJnZXRWYXIiLCJ0aGVuIiwiZmFjdG9yeSIsImNydWRTZXJ2aWNlIiwiJGh0dHAiLCJpbml0IiwidHlwZSIsInRoaXMiLCJiYXNlIiwiZ2V0IiwiaWQiLCJwcm9taXNlQ29tcGxldGUiLCJwcm9taXNlRmFpbGVkIiwiY3JlYXRlIiwicG9zdCIsInVwZGF0ZSIsInB1dCIsInJlbW92ZSIsImVycm9yIiwidGl0bGUiLCJtZXNzYWdlIiwiY3J1ZCIsInByb3RvdHlwZSIsIiRuYW1lIiwidm0iLCJzZXRWYXIiLCIkdmFsdWUiLCJjb21wYXJlVG8iLCJsaW5rIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJuZ01vZGVsIiwiY2xlYW5VcCIsInVuYmluZFdhdGNoIiwiY29tcGFyZVZhbHVlcyIsInZpZXdWYWx1ZSIsIm90aGVyTW9kZWwiLCIkdmlld1ZhbHVlIiwidmFsaWRhdGVPbkNoYW5nZSIsIm5ld1ZhbHVlIiwib2xkVmFsdWUiLCIkdmFsaWRhdGUiLCIkd2F0Y2giLCIkdmFsaWRhdG9ycyIsInNwQ29tcGFyZVRvIiwib24iLCJkaXJlY3RpdmUiLCJyZXF1aXJlIiwiTG9naW5Db250cm9sbGVyIiwibG9naW5TZXJ2aWNlIiwibG9naW4iLCJsb2dpbkNvbXBsZXRlIiwibG9hZGluZyIsInVzZXIiLCJsb2dpbkZhaWxlZCIsIlRhc2tzQ29udHJvbGxlciIsInRhc2tzU2VydmljZSIsInRhc2tzRGlyZWN0aXZlIiwiYmluZFRvQ29udHJvbGxlciIsIkRhc2hib2FyZENvbnRyb2xsZXIiLCJSZWdpc3RlckNvbnRyb2xsZXIiLCJyZWdpc3RlclNlcnZpY2UiLCJyZWdpc3RlciIsInJlZ2lzdHJhdGlvbkNvbXBsZXRlIiwiSGVhZGVyQ29udHJvbGxlciIsIiRzY29wZSIsImhlYWRlclNlcnZpY2UiLCJnZXRVc2VyQ29tcGxldGUiLCIkZXZhbEFzeW5jIiwibmFtZSIsImdldFVzZXIiLCJoZWFkZXJEaXJlY3RpdmUiLCJnZXROYW1lQ29tcGxldGUiLCJyZXMiLCJTaWRlYmFyQ29udHJvbGxlciIsImNvbGxhcHNlZCIsInRvZ2dsZVNpZGViYXIiLCJzaWRlYmFyRGlyZWN0aXZlIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQyxZQU9BLFNBQVNBLEdBQWNDLEVBQVlDLEVBQVdDLEdBQzdDRixFQUFXRyxJQUFJLHVCQUF3QkQsRUFBV0UscUJBTm5EQyxRQUNFQyxPQUFPLE9BQVEsWUFDZkMsV0FBVyxnQkFBaUJSLEdBRTlCQSxFQUFjUyxTQUFXLGFBQWMsWUFBYSxpQkFLckQsV0FDQyxZQU9BLFNBQVNDLEdBQU9DLEdBQ2ZBLEVBQ0VDLEtBQUssVUFDTEMsWUFBYSwyQkFDYkwsV0FBWSxrQkFDWk0sYUFBYyxLQUNkQyxXQUFXLElBRVhILEtBQUssV0FDTEMsWUFBYSw2QkFDYkwsV0FBWSxtQkFDWk0sYUFBYyxLQUNkQyxXQUFXLElBRVhILEtBQUssYUFDTEMsWUFBYSwrQkFDYkwsV0FBWSxxQkFDWk0sYUFBYyxLQUNkQyxXQUFXLElBRVhILEtBQUssY0FDTEMsWUFBYSxpQ0FDYkwsV0FBWSxzQkFDWk0sYUFBYyxLQUNkQyxXQUFXLElBRVhDLFdBQ0FDLFdBQVksZUFoQ2ZYLFFBQ0VDLE9BQU8sT0FDUEcsT0FBT0EsR0FFVEEsRUFBT0Qs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QkQsR0FUdEMsT0FDQ2pELEtBQU1BLEVBQ054QyxZQUFhLG9DQUNiTCxXQUFZLG9CQUNaTSxhQUFjLEtBQ2RzRSxrQkFBa0IsR0FWcEI5RSxRQUNFQyxPQUFPLE9BQ1BpRSxVQUFVLFlBQWErQiIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJywgWyduZ1JvdXRlJ10pXHJcblx0XHQuY29udHJvbGxlcignQXBwQ29udHJvbGxlcicsIEFwcENvbnRyb2xsZXIpO1xyXG5cclxuXHRBcHBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJGxvY2F0aW9uJywgJ2FwcFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBBcHBDb250cm9sbGVyKCRyb290U2NvcGUsICRsb2NhdGlvbiwgYXBwU2VydmljZSkge1xyXG5cdFx0JHJvb3RTY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgYXBwU2VydmljZS5jaGVja0F1dGhlbnRpY2F0aW9uKTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbmZpZyhjb25maWcpO1xyXG5cclxuXHRjb25maWcuJGluamVjdCA9IFsnJHJvdXRlUHJvdmlkZXInXTtcclxuXHRmdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHtcclxuXHRcdCRyb3V0ZVByb3ZpZGVyXHJcblx0XHRcdC53aGVuKCcvbG9naW4nLCB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL2xvZ2luL2xvZ2luLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRhZG1pbk9ubHk6IGZhbHNlXHJcblx0XHRcdH0pXHJcblx0XHRcdC53aGVuKCcvbG9nb3V0Jywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2dvdXQvbG9nb3V0Lmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdMb2dvdXRDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0YWRtaW5Pbmx5OiBmYWxzZVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQud2hlbignL3JlZ2lzdGVyJywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ1JlZ2lzdGVyQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdGFkbWluT25seTogZmFsc2VcclxuXHRcdFx0fSlcclxuXHRcdFx0LndoZW4oJy9kYXNoYm9hcmQnLCB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9kYXNoYm9hcmQvZGFzaGJvYXJkLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdEYXNoYm9hcmRDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0YWRtaW5Pbmx5OiBmYWxzZVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQub3RoZXJ3aXNlKHtcclxuXHRcdFx0XHRyZWRpcmVjdFRvOiAnL2Rhc2hib2FyZCdcclxuXHRcdFx0fSk7XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdhcHBTZXJ2aWNlJywgYXBwU2VydmljZSk7XHJcblxyXG5cdGFwcFNlcnZpY2UuJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJyRsb2cnLCAnc2Vzc2lvblNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBhcHBTZXJ2aWNlKCRsb2NhdGlvbiwgJGxvZywgc2Vzc2lvblNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNoZWNrQXV0aGVudGljYXRpb246IGNoZWNrQXV0aGVudGljYXRpb25cclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2hlY2tBdXRoZW50aWNhdGlvbigpIHtcclxuXHRcdFx0c2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCduYW1lJylcclxuXHRcdFx0XHQudGhlbihjaGVja0F1dGhlbnRpY2F0aW9uQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY2hlY2tBdXRoZW50aWNhdGlvbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdCRsb2NhdGlvbi51cmwoJy9sb2dpbicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFVzZWQgdG8gYWNjZXNzIHRoZSBhcGkgb2YgdGhlIHZhcmlvdXMgaXRlbSB0eXBlcy5cclxuXHQqIEFuIGluc3RhbmNlIG9mIGNydWQgbXVzdCBiZSBjcmVhdGVkIGluIG9yZGVyIHRvIHVzZSB0aGUgc2VydmljZS5cclxuXHQqXHJcblx0KiBBbGwgcHJvbWlzZXMgcmV0dXJuICdzdWNjZXNzJyBhbmQgZWl0aGVyICdkYXRhJyBvbiBzdWNjZXNzIG9yLCBvbiBlcnJvciwgJ3RpdGxlJ1xyXG5cdCogd2l0aCBhIGdlbmVyYWwgZXJyb3IgYW5kICdkZXRhaWxzJyB3aXRoIG1vcmUgZGV0YWlscy5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2NydWRTZXJ2aWNlJywgY3J1ZFNlcnZpY2UpO1xyXG5cclxuXHRjcnVkU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gY3J1ZFNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciBjcnVkID0gaW5pdDtcclxuXHRcdGNydWQucHJvdG90eXBlID0ge1xyXG5cdFx0XHRnZXQ6IGdldCxcclxuXHRcdFx0Y3JlYXRlOiBjcmVhdGUsXHJcblx0XHRcdHVwZGF0ZTogdXBkYXRlLFxyXG5cdFx0XHRyZW1vdmU6IHJlbW92ZVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gY3J1ZDtcclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHtzdHJpbmd9IHR5cGUgU2V0IHRoZSBiYXNlIHVybCB1c2luZyB0aGUgQ1JVRCB0eXBlLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGluaXQodHlwZSkge1xyXG5cdFx0XHR0aGlzLmJhc2UgPSAnYXBpLycgKyB0eXBlICsgJy8nICsgdHlwZSArICdNYW5hZ2VyLnBocCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gZ2V0LlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PSBxdWVyeSByZXN1bHRzIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0KGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQodGhpcy5iYXNlICsgJz9pZD0nICsgaWQpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e21peGVkW119XHRkYXRhXHREYXRhIG9mIGl0ZW0gdG8gY3JlYXRlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PT0gJzEnIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlKGRhdGEpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QodGhpcy5iYXNlLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gdXBkYXRlLlxyXG5cdFx0KiBAcGFyYW1cdHttaXhlZFtdfVx0ZGF0YVx0RGF0YSBvZiBpdGVtIHRvIHVwZGF0ZS5cclxuXHRcdCpcclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT09ICcxJyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZShpZCwgZGF0YSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KHRoaXMuYmFzZSArICc/aWQ9JyArIGlkLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gZGVsZXRlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA9PT0gJzEnIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUodGhpcy5iYXNlICsgJz9pZD0nICsgaWQpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHJldHVybiByZXNwb25zZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlRmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHN1Y2Nlc3M6ICdmYWxzZScsXHJcblx0XHRcdFx0dGl0bGU6ICdFcnJvciB3aGVuIHF1ZXJ5aW5nIHNlcnZlci4nLFxyXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCogVXNlZCB0byBhY2Nlc3Mgc2Vzc2lvbiB2YXJpYWJsZXMuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdzZXNzaW9uU2VydmljZScsIHNlc3Npb25TZXJ2aWNlKTtcclxuXHJcblx0c2Vzc2lvblNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIHNlc3Npb25TZXJ2aWNlKCRodHRwLCAkbG9nKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5iYXNlID0gJ2FwaS9zZXNzaW9uL3Nlc3Npb25WYXJNYW5hZ2VyLnBocD92YXI9JztcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRWYXI6IGdldFZhcixcclxuXHRcdFx0c2V0VmFyOiBzZXRWYXJcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ30gJG5hbWVcdFZhcmlhYmxlIG5hbWUgdG8gZ2V0IGZyb20gc2Vzc2lvbi5cclxuXHRcdCogQHJldHVyblx0e3N0cmluZ30gXHRcdFByb21pc2Ugb3IgZXJyb3Igb24gZmFpbC5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXRWYXIoJG5hbWUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh2bS5iYXNlICsgJG5hbWUpXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfSAkbmFtZVx0VmFyaWFibGUgbmFtZSB0byBnZXQgZnJvbSBzZXNzaW9uLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfSBcdFx0UHJvbWlzZSBvciBlcnJvciBvbiBmYWlsLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHNldFZhcigkbmFtZSwgJHZhbHVlKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KHZtLmJhc2UgKyAkbmFtZSwgJHZhbHVlKVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHJldHVybiByZXNwb25zZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlRmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHN1Y2Nlc3M6ICdmYWxzZScsXHJcblx0XHRcdFx0dGl0bGU6ICdFcnJvciB3aGVuIGFjY2Vzc2luZyB2YXJpYWJsZS4nLFxyXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdC8qKlxyXG5cdCogQ29tcGFyZSBhbiBpbnB1dCBmaWVsZCB0byBhbm90aGVyIGZpZWxkLCBkZXRlcm1pbmVkIGJ5IHRoZSBkZXYuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwQ29tcGFyZVRvJywgY29tcGFyZVRvKTtcclxuXHJcblx0ZnVuY3Rpb24gY29tcGFyZVRvKCkge1xyXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcclxuXHRcdFx0cmVxdWlyZTogJ25nTW9kZWwnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdG90aGVyTW9kZWw6ICc9c3BDb21wYXJlVG8nXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGxpbmtcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XHJcblx0XHRcdHZhciB1bmJpbmRXYXRjaCA9IHNjb3BlLiR3YXRjaCgnb3RoZXJNb2RlbCcsIHZhbGlkYXRlT25DaGFuZ2UpO1xyXG5cdFx0XHRuZ01vZGVsLiR2YWxpZGF0b3JzLnNwQ29tcGFyZVRvID0gY29tcGFyZVZhbHVlcztcclxuXHRcdFx0ZWxlbWVudC5vbignJGRlc3Ryb3knLCBjbGVhblVwKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNsZWFuVXAoKSB7XHJcblx0XHRcdFx0dW5iaW5kV2F0Y2goKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY29tcGFyZVZhbHVlcyh2aWV3VmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gKHZpZXdWYWx1ZSA9PT0gc2NvcGUub3RoZXJNb2RlbC4kdmlld1ZhbHVlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gdmFsaWRhdGVPbkNoYW5nZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuXHRcdFx0XHRuZ01vZGVsLiR2YWxpZGF0ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXIpO1xyXG5cclxuXHRMb2dpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnbG9naW5TZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gTG9naW5Db250cm9sbGVyKGxvZ2luU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdHZtLmVycm9yID0gJyc7XHJcblxyXG5cdFx0dm0ubG9naW4gPSBsb2dpbjtcclxuXHJcblx0XHRmdW5jdGlvbiBsb2dpbigpIHtcclxuXHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdGxvZ2luU2VydmljZS5sb2dpbih2bS51c2VyKVxyXG5cdFx0XHRcdC50aGVuKGxvZ2luQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdsb2dpblNlcnZpY2UnLCBsb2dpblNlcnZpY2UpO1xyXG5cclxuXHRsb2dpblNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvY2F0aW9uJywgJyRsb2cnXTtcclxuXHRmdW5jdGlvbiBsb2dpblNlcnZpY2UoJGh0dHAsICRsb2NhdGlvbiwgJGxvZykge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxvZ2luOiBsb2dpblxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsb2dpbih1c2VyKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCdhcGkvbWFuYWdlcnMvbG9naW5NYW5hZ2VyLnBocCcsIHVzZXIpXHJcblx0XHRcdFx0LnRoZW4obG9naW5Db21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gobG9naW5GYWlsZWQpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gbG9naW5Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UuZGF0YS50aXRsZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGxvY2F0aW9uLnVybCgnL2Rhc2hib2FyZCcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dpbkZhaWxlZChlcnJvcikge1xyXG5cdFx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRcdHJldHVybiAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1Rhc2tzQ29udHJvbGxlcicsIFRhc2tzQ29udHJvbGxlcik7XHJcblxyXG5cdFRhc2tzQ29udHJvbGxlci4kaW5qZWN0ID0gWyd0YXNrc1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBUYXNrc0NvbnRyb2xsZXIodGFza3NTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFRhc2tzJywgdGFza3NEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiB0YXNrc0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy90YXNrcy90YXNrcy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1Rhc2tzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgndGFza3NTZXJ2aWNlJywgdGFza3NTZXJ2aWNlKTtcclxuXHJcblx0dGFza3NTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnXTtcclxuXHRmdW5jdGlvbiB0YXNrc1NlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0fTtcclxuXHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignRGFzaGJvYXJkQ29udHJvbGxlcicsIERhc2hib2FyZENvbnRyb2xsZXIpO1xyXG5cclxuXHRmdW5jdGlvbiBEYXNoYm9hcmRDb250cm9sbGVyKCkge1xyXG5cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ29udHJvbGxlcicsIFJlZ2lzdGVyQ29udHJvbGxlcik7XHJcblxyXG5cdFJlZ2lzdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWydyZWdpc3RlclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBSZWdpc3RlckNvbnRyb2xsZXIocmVnaXN0ZXJTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0dm0uZXJyb3IgPSAnJztcclxuXHJcblx0XHR2bS5yZWdpc3RlciA9IHJlZ2lzdGVyO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xyXG5cdFx0XHR2bS5sb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0cmVnaXN0ZXJTZXJ2aWNlLnJlZ2lzdGVyKHZtLnVzZXIpXHJcblx0XHRcdFx0LnRoZW4ocmVnaXN0cmF0aW9uQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gcmVnaXN0cmF0aW9uQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0dm0uZXJyb3IgPSByZXNwb25zZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgncmVnaXN0ZXJTZXJ2aWNlJywgcmVnaXN0ZXJTZXJ2aWNlKTtcclxuXHJcblx0cmVnaXN0ZXJTZXJ2aWNlLiRpbmplY3QgPSBbJyRsb2NhdGlvbicsICckbG9nJywgJ2NydWRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gcmVnaXN0ZXJTZXJ2aWNlKCRsb2NhdGlvbiwgJGxvZywgY3J1ZFNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmNydWQgPSBuZXcgY3J1ZFNlcnZpY2UoJ3VzZXInKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZWdpc3RlcjogcmVnaXN0ZXJcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXIodXNlcikge1xyXG5cdFx0XHRyZXR1cm4gdm0uY3J1ZC5jcmVhdGUodXNlcilcclxuXHRcdFx0XHQudGhlbihyZWdpc3RyYXRpb25Db21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZWdpc3RyYXRpb25Db21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5zdWNjZXNzID09PSAnZmFsc2UnKSB7XHJcblx0XHRcdFx0XHQkbG9nLmVycm9yKHJlc3BvbnNlLnRpdGxlKTtcclxuXHRcdFx0XHRcdHJldHVybiByZXNwb25zZS50aXRsZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JGxvY2F0aW9uLnVybCgnL2xvZ2luJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0hlYWRlckNvbnRyb2xsZXInLCBIZWFkZXJDb250cm9sbGVyKTtcclxuXHJcblx0SGVhZGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnaGVhZGVyU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIEhlYWRlckNvbnRyb2xsZXIoJHNjb3BlLCBoZWFkZXJTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0ubmFtZSA9ICcnO1xyXG5cdFx0dm0udXJsID0gJyc7XHJcblxyXG5cdFx0aGVhZGVyU2VydmljZS5nZXRVc2VyKClcclxuXHRcdFx0LnRoZW4oZ2V0VXNlckNvbXBsZXRlKTtcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0JHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dm0ubmFtZSA9IChyZXNwb25zZS5uYW1lID09PSBmYWxzZSkgPyAnTG9naW4nIDogcmVzcG9uc2UubmFtZTtcclxuXHRcdFx0XHR2bS51cmwgPSByZXNwb25zZS51cmw7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcEhlYWRlcicsIGhlYWRlckRpcmVjdGl2ZSk7XHJcblxyXG5cdGZ1bmN0aW9uIGhlYWRlckRpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvbGF5b3V0L2hlYWRlci9oZWFkZXIuaHRtbCcsXHJcblx0XHRcdGNvbnRyb2xsZXI6ICdIZWFkZXJDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdoZWFkZXJTZXJ2aWNlJywgaGVhZGVyU2VydmljZSk7XHJcblxyXG5cdGhlYWRlclNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZycsICdzZXNzaW9uU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGhlYWRlclNlcnZpY2UoJGh0dHAsICRsb2csIHNlc3Npb25TZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRVc2VyOiBnZXRVc2VyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXIoKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ25hbWUnKVxyXG5cdFx0XHRcdC50aGVuKGdldE5hbWVDb21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBnZXROYW1lQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHJcblx0XHRcdFx0aWYgKHJlcy5zdWNjZXNzID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHtuYW1lOiBmYWxzZSwgdXJsOiAnIy9sb2dpbid9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4ge25hbWU6IHJlcy5kYXRhLCB1cmw6ICcjL2Rhc2hib2FyZCd9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignU2lkZWJhckNvbnRyb2xsZXInLCBTaWRlYmFyQ29udHJvbGxlcik7XHJcblxyXG5cdGZ1bmN0aW9uIFNpZGViYXJDb250cm9sbGVyKCkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHJcblx0XHR2bS5jb2xsYXBzZWQgPSB0cnVlO1xyXG5cclxuXHRcdHZtLnRvZ2dsZVNpZGViYXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0dm0uY29sbGFwc2VkID0gIXZtLmNvbGxhcHNlZDtcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwU2lkZWJhcicsIHNpZGViYXJEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBzaWRlYmFyRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bGluazogbGluayxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvc2lkZWJhci9zaWRlYmFyLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnU2lkZWJhckNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdFx0c2NvcGUuJHdhdGNoKGF0dHJzLnNpZGViYXJEaXJlY3RpdmUsIHRvZ2dsZVNpZGViYXIpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gdG9nZ2xlU2lkZWJhcihjb2xsYXBzZWQpIHtcclxuXHRcdFx0XHRpZiAoY29sbGFwc2VkKSB7XHJcblx0XHRcdFx0XHRlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5hZGRDbGFzcygnY29sbGFwc2VkJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
