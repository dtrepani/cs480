!function(){"use strict";function e(e,t){function r(e){return e.cacheAll()}function n(e){return e.getSharedCalendars()}function a(e){return e.getSharedLabels()}function o(e){return e.getUser()}function s(e){return e.getUsers()}function c(e){return e.isAuthenticated()}function l(e){return e.isAdmin()}e.state("root",{url:"",templateUrl:"index.html","abstract":!0,resolve:{cache:["cacheService",r],user:["headerService",o],sharedCalendars:["calendarUserService",n],sharedLabels:["labelUserService",a]},views:{header:{templateUrl:"pages/layout/header/header.html",controller:"HeaderController",controllerAs:"hc"},sidebar:{templateUrl:"pages/layout/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"sc"}}}).state("login",{url:"/login",parent:"root",views:{"content@":{templateUrl:"pages/login/login.html",controller:"LoginController",controllerAs:"vm"}}}).state("logout",{url:"/logout",parent:"root",views:{"content@":{controller:"LogoutController",controllerAs:"vm"}}}).state("register",{url:"/register",parent:"root",views:{"content@":{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm"}}}).state("admin",{url:"/admin",parent:"root",views:{"content@":{templateUrl:"pages/admin/admin.html",controller:"AdminController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",c],isAdmin:["accessService",l],users:["userService",s]}}}}).state("dashboard",{url:"/dashboard",parent:"root",views:{"content@":{templateUrl:"pages/dashboard/dashboard.html",resolve:{isAuthenticated:["accessService",c]}}}}).state("labels",{url:"/labels",parent:"root"}).state("labels.label",{url:"/:labelId",views:{"content@":{templateUrl:"pages/tasks/label.html",controller:"LabelPageController",controllerAs:"vm",resolve:{isAuthenticated:["accessService",c]}}}}).state("inbox",{url:"/inbox",parent:"root",views:{"content@":{templateUrl:"pages/tasks/inbox.html",resolve:{isAuthenticated:["accessService",c]}}}}).state("today",{url:"/today",parent:"root",views:{"content@":{templateUrl:"pages/tasks/today.html",resolve:{isAuthenticated:["accessService",c]}}}}).state("week",{url:"/week",parent:"root",views:{"content@":{templateUrl:"pages/tasks/week.html",resolve:{isAuthenticated:["accessService",c]}}}}).state("calendar",{url:"/calendar",parent:"root",views:{"content@":{templateUrl:"pages/calendar/calendar.html",resolve:{isAuthenticated:["accessService",c]}}}}),t.otherwise("/dashboard")}angular.module("app",["ui.router","ui.bootstrap","angularMoment"]).config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.init()}angular.module("app").run(e),e.$inject=["appService"]}(),function(){"use strict";function e(e,t,r){function n(){e.$on("$stateChangeError",a)}function a(e,n,a,o,s,c){c===r.UNAUTHORIZED?(e.preventDefault(),t.go("login")):"admin"===n.name&&c===r.FORBIDDEN}return{init:n}}angular.module("app").factory("appService",e),e.$inject=["$rootScope","$state","statusService"]}(),function(){"use strict";function e(){return function(e,t){if(!t)return e;for(var r=[],n=0;n<e.length;n++)(e[n].label_id===t||e[n].calendar_id===t)&&r.push(e[n]);return r}}angular.module("app").filter("inGroups",e),e.$inject=[]}(),function(){"use strict";function e(e){return function(t,r){for(var n=[],a=0;a<t.length;a++){var o=r.isSame(e(t[a].dt_start),"day");o||(o=r.isSame(e(t[a].dt_end),"day")),o&&n.push(t[a])}return n}}angular.module("app").filter("sameDayAs",e),e.$inject=["moment"]}(),function(){"use strict";function e(e){return function(t,r){if(!r)return t;for(var n=[],a=0;a<t.length;a++){(!t[a].due||t[a].due&&e(t[a].due).isBefore(e().add(r,"days")))&&n.push(t[a])}return n}}angular.module("app").filter("withinDays",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t){function r(){n(),a(),o(),s()}function n(){b.calendar=new t("calendar"),b.calendar.getByUser().then(function(e){b.calendars=l(e),h()})}function a(){b.event=new t("event"),b.event.getByUser().then(function(e){b.events=l(e),v()})}function o(){b.label=new t("label"),b.label.getByUser().then(function(e){b.labels=l(e),g()})}function s(){b.task=new t("task"),b.task.getByUser().then(function(e){b.tasks=l(e),m()})}function c(){b.calendars=[],b.events=[],b.labels=[],b.tasks=[],h(),v(),g(),m()}function l(e){var t=e.data;return t.success?t.data:t.title}function u(){return{calendars:i(),events:d(),labels:f(),tasks:p()}}function i(){return b.calendars}function d(){return b.events}function f(){return b.labels}function p(){return b.tasks}function h(){e.$broadcast("updateCalendars")}function v(){e.$broadcast("updateEvents")}function g(){e.$broadcast("updateLabels")}function m(){e.$broadcast("updateTasks")}var b=this;return b.calendars=[],b.events=[],b.labels=[],b.tasks=[],{cacheAll:r,cacheCalendars:n,cacheEvents:a,cacheLabels:o,cacheTasks:s,clearCache:c,getAll:u,getCalendars:i,getEvents:d,getLabels:f,getTasks:p}}angular.module("app").service("cacheService",e),e.$inject=["$rootScope","crudService"]}(),function(){"use strict";function e(e,t){function r(e){switch(this.type=e,this.base="api/",e){case"event":case"calendar":this.base+="activity/calendar/";break;case"label":case"task":this.base+="activity/task/";break;case"labelUser":case"calendarUser":this.base+="collab/";break;default:this.base+=e+"/"}this.base+=e+"Manager.php"}function n(t){return e.get(this.base,{params:{id:t}}).then(i)["catch"](d)}function a(){return e.get(this.base,{params:{byUser:!0}}).then(i)["catch"](d)}function o(t,r){return e.get(this.base,{params:{where:t,bindings:JSON.stringify(r)}}).then(i)["catch"](d)}function s(t){return t=this.removeUnecessaryKeys(t),e.post(this.base,t).then(i)["catch"](d)}function c(t,r){return r=this.removeUnecessaryKeys(r),e.put(this.base,r,{params:{id:t}}).then(i)["catch"](d)}function l(t){return e["delete"](this.base,{params:{id:t}}).then(i)["catch"](d)}function u(t){return e["delete"](this.base+"?usewhere=true&where="+escape(t)).then(i)["catch"](d)}function i(e){return e}function d(e){return t.error(e),{success:"false",title:"Error when querying server.",message:e}}function f(e){for(var t=["id","person_id",this.type+"_id","activity_info_id","parent_name"],r=0;r<t.length;r++)delete e[t[r]];return e}var p=r;return p.prototype={get:n,getByUser:a,getWhere:o,create:s,update:c,remove:l,removeWhere:u,removeUnecessaryKeys:f},p}angular.module("app").factory("crudService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t){function r(t){return e.get(s.base+t).then(a)["catch"](o)}function n(t,r){return e.post(s.base+t,r).then(a)["catch"](o)}function a(e){return e}function o(e){return t.error(e),{success:"false",title:"Error when accessing variable.",message:e}}var s=this;return s.base="api/session/sessionVarManager.php?var=",{getVar:r,setVar:n}}angular.module("app").factory("sessionService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(){function e(e,t,r,n){t[0].focus()}return{restrict:"A",link:e}}angular.module("app").directive("spAutoFocus",e)}(),function(){"use strict";function e(){function e(e,t,r,n){function a(){c()}function o(t){return t===e.otherModel.$viewValue}function s(e,t){n.$validate()}var c=e.$watch("otherModel",s);n.$validators.spCompareTo=o,t.on("$destroy",a)}return{require:"ngModel",scope:{otherModel:"=spCompareTo"},link:e}}angular.module("app").directive("spCompareTo",e)}(),function(){"use strict";function e(e){function t(){e.logout()}t()}angular.module("app").controller("LogoutController",e),e.$inject=["logoutService"]}(),function(){"use strict";function e(e,t,r,n,a){function o(){function o(t){a.clearCache(),e.$broadcast("updateUser"),r.go("login")}function s(e){n.error(e)}return t.post("api/user/logoutManager.php").then(o)["catch"](s)}return{logout:o}}angular.module("app").factory("logoutService",e),e.$inject=["$rootScope","$http","$state","$log","cacheService"]}(),function(){"use strict";function e(e){function t(t){t.hasOwnProperty("dt_start")?(t.all_day=parseInt(t.all_day),t.dt_start=a(e(t.dt_start)),t.dt_end=a(e(t.dt_end))):(t.hasOwnProperty("due")&&t.due&&(t.due=a(e(t.due))),t.hasOwnProperty("reminder")&&t.reminder&&(t.reminder=a(e(t.reminder))))}function r(t){var r=n();return t.hasOwnProperty("dt_start")?(t.dt_start=o(e(t.dt_start,r)),t.dt_end=o(e(t.dt_end,r))):(t.hasOwnProperty("due")&&t.due&&(t.due=o(e(t.due,r))),t.hasOwnProperty("reminder")&&t.reminder&&(t.reminder=o(e(t.reminder,r)))),t}function n(){return"hh:mm a MM-DD-YYYY"}function a(e){return e.format(n())}function o(e){return e.format("YYYY-MM-DD HH:mm:ss")}return{formatForDisplay:t,formatForStorage:r,getDisplayFormat:n,toDisplayFormat:a,toStorageFormat:o}}angular.module("app").factory("formatService",e),e.$inject=["moment"]}(),function(){"use strict";function e(e,t,r,n){function a(){e.dismiss("cancel")}function o(){e.close()}function s(t){e.close(t)}function c(t){e.dismiss(t)}function l(e){n.toggleAllDay(e)}var u=this;u.groups=t,u.item=r,u.cancel=a,u.close=o,u.confirm=s,u.remove=c,u.toggleAllDay=l}angular.module("app").controller("ModalController",e),e.$inject=["$uibModalInstance","groups","item","eventModalService"]}(),function(){"use strict";function e(e,t,r){function n(e,t){return r.uploadFile(e).then(function(e){return e})}var a=this;a.uploadFile=n}angular.module("app").controller("UploadController",e),e.$inject=["$scope","$http","uploadService"]}(),function(){"use strict";function e(e){function t(t,r,n){function a(e){t.$apply(function(){var e=r[0].files[0];e.size<=o?t.uc.uploadFile(e).then(function(e){t.spFileChange=e}):alert("File must be less than "+o/1024/1024+"MB.")})}var o=2097152;e(n.spFileChange);r[0].addEventListener("change",a,!1)}return{restrict:"A",controller:"UploadController",controllerAs:"uc",link:t,scope:{spFileChange:"="}}}angular.module("app").directive("spFileChange",e),e.$inject=["$parse"]}(),function(){"use strict";function e(e,t){function r(r){var n=new FormData;return n.append("file",r),e.post("api/upload/uploadManager.php",n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){return e.data.success?e.data.data:(t.error(e.title),"")})["catch"](function(e){t.error(e)})}return{uploadFile:r}}angular.module("app").factory("uploadService",e),e.$inject=["$http","$log"]}(),function(){"use strict";function e(e,t,r,n){function a(){}function o(e){n.openUserModal(e).then(function(e){e&&(s.users=e)})}var s=this;s.isAdmin=e,s.users=t,s.showUserModal=o,a()}angular.module("app").controller("AdminController",e),e.$inject=["isAdmin","users","userService","userModalService"]}(),function(){"use strict";function e(e){function t(){r.loading=!0,e.login(r.user).then(function(e){r.loading=!1,r.error=e})}var r=this;r.loading=!1,r.error="",r.login=t}angular.module("app").controller("LoginController",e),e.$inject=["loginService"]}(),function(){"use strict";function e(e,t,r,n,a){function o(o){function s(t){return t.data.success===!1?t.data.title:(a.cacheAll(),e.$broadcast("updateUser"),void r.go("dashboard"))}function c(e){return n.error(e),"Something went wrong. Please try again."}return o.name=o.name.toLowerCase().trim(),t.post("api/user/loginManager.php",o).then(s)["catch"](c)}return{login:o}}angular.module("app").factory("loginService",e),e.$inject=["$rootScope","$http","$state","$log","cacheService"]}(),function(){"use strict";function e(e){function t(){r.loading=!0,e.register(r.user).then(function(e){r.loading=!1,r.error=e})}var r=this;r.error="",r.loading=!1,r.register=t}angular.module("app").controller("RegisterController",e),e.$inject=["registerService"]}(),function(){"use strict";function e(e,t,r){function n(r){function n(r){return"false"===r.success?(t.error(r.title),r.title):void e.url("/login")}return r.name=r.name.toLowerCase().trim(),a.crud.create(r).then(n)}var a=this;return a.crud=new r("user"),{register:n}}angular.module("app").factory("registerService",e),e.$inject=["$location","$log","crudService"]}(),function(){"use strict";function e(e){this.labelId=e.labelId}angular.module("app").controller("LabelPageController",e),e.$inject=["$stateParams"]}(),function(){"use strict";function e(e,t,r){function n(){function e(e){return e.data.success!==!1?o.resolve(r.OK):o.reject(r.UNAUTHORIZED),o.promise}return t.getVar("name").then(e)}function a(){function e(e){var t=e.data;return t.success===!1||"0"===t.data?o.reject(r.FORBIDDEN):o.resolve(r.OK),o.promise}return t.getVar("admin").then(e)}var o=e.defer();return{isAuthenticated:n,isAdmin:a}}angular.module("app").factory("accessService",e),e.$inject=["$q","sessionService","statusService"]}(),function(){"use strict";function e(){return{OK:200,UNAUTHORIZED:401,FORBIDDEN:403}}angular.module("app").service("statusService",e)}(),function(){"use strict";function e(e,t,r,n){function a(){i(),d(),e.$on("updateCalendars",i),e.$on("updateEvents",d),f.today=t.getToday(),f.selectedDay=f.today,f.month=t.getMonth(f.today)}function o(e,r){f.selectedDay=t.dayClicked(e,r,f.selectedDay,f.calendars)}function s(e){return t.isSameDay(e,f.selectedDay)}function c(e,r){t.showEventModal(e,r,f.calendars)}function l(){f.month=t.lastMonth(f.month)}function u(){f.month=t.nextMonth(f.month)}function i(){f.calendars=r.getCalendars()}function d(){f.events=n.getEvents()}var f=this;f.events=[],f.calendar=[],f.today=null,f.selectedDay=null,f.month=null,f.dayClicked=o,f.isSameDayAsSelected=s,f.showEventModal=c,f.lastMonth=l,f.nextMonth=u,a()}angular.module("app").controller("EventsController",e),e.$inject=["$rootScope","calendarWidgetService","calendarService","eventsService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/activities/events/events.html",controller:"EventsController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spEvents",e)}(),function(){"use strict";function e(e,t){function r(e){return l.event.create(e).then(c)}function n(e){return e.event_id?s(e.event_id,e):r(e)}function a(e){return l.event.remove(e).then(c)}function o(){return t.getEvents()}function s(e,t){return l.event.update(e,t).then(c)}function c(e){var r=e.data;return r.success?(t.cacheEvents(),r.data):r.title}var l=this;return l.event=new e("event"),{createEvent:r,createOrUpdateEvent:n,deleteEvent:a,getEvents:o,updateEvent:s}}angular.module("app").factory("eventsService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e){function t(){r.item.recurrence&&e.openRecurrenceModal(r.item)}var r=this;r.showRecurrenceModal=t}angular.module("app").controller("RecurrenceController",e),e.$inject=["recurrenceModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/activities/recurrence/recurrence.html",controller:"RecurrenceController",controllerAs:"rc",bindToController:!0,scope:{item:"="}}}angular.module("app").directive("spRepeat",e)}(),function(){"use strict";function e(){function e(e){e.recurrence=!1}function t(e){}return{clearRecurrence:e,constructRecurrence:t}}angular.module("app").factory("recurrenceService",e)}(),function(){"use strict";function e(e,t,r,n){function a(){c(),l(),e.$on("updateLabels",c),e.$on("updateTasks",l)}function o(e){n.openTaskModal(e,u.labels)}function s(e){t.toggleCompleted(e)}function c(){u.labels=r.getLabels()}function l(){u.tasks=t.getTasks()}var u=this;u.labels=[],u.tasks=[],u.showTaskModal=o,u.toggleCompleted=s,a()}angular.module("app").controller("TasksController",e),e.$inject=["$rootScope","tasksService","labelService","taskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/activities/tasks/tasks.html",controller:"TasksController",controllerAs:"vm",bindToController:!0,scope:{order:"=",days:"=withinDays",inLabels:"=inGroups"}}}angular.module("app").directive("spTasks",e)}(),function(){"use strict";function e(e,t){function r(e){return u.task.create(e).then(l)}function n(e){return e.task_id?c(e.task_id,e):r(e)}function a(e){return u.task.remove(e).then(l)}function o(){return t.getTasks()}function s(e){return e.completed=!parseInt(e.completed),c(e.task_id,e).then(o)}function c(e,t){return u.task.update(e,t).then(l)}function l(e){var r=e.data;return r.success?(t.cacheTasks(),r.data):r.title}var u=this;return u.task=new e("task"),{createTask:r,createOrUpdateTask:n,deleteTask:a,getTasks:o,toggleCompleted:s,updateTask:c}}angular.module("app").factory("tasksService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e){}angular.module("app").controller("CalendarUserController",e),e.$inject=["calendarUserService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/collab/collab.html",controller:"CalendarUserController",controllerAs:"vm",bindToController:!0,scope:{items:"=",groups:"="}}}angular.module("app").directive("spSharedCalendars",e)}(),function(){"use strict";function e(e){function t(e){return u.calendarUser.create(e).then(l)}function r(e){return e.calendarUser_id?c(e.calendarUser_id,e):t(e)}function n(e){return u.calendarUser.remove(e).then(l)}function a(){return u.calendarUser.getWhere("groups",{}).then(l)}function o(){return u.calendarUser.getWhere("users",{}).then(l)}function s(){return u.calendarUser.getWhere("activities",{}).then(l)}function c(e,t){return u.calendarUser.update(e,t).then(l)}function l(e){var t=e.data;return t.success?t.data:t.title}var u=this;return u.calendarUser=new e("calendarUser"),{createCalendarUser:t,createOrUpdateCalendarUser:r,deleteCalendarUser:n,getSharedCalendars:a,getSharedUsersForCalendar:o,getEventsForCalendar:s,updateCalendarUser:c}}angular.module("app").factory("calendarUserService",e),e.$inject=["crudService"]}(),function(){"use strict";function e(e){function t(e){return u.labelUser.create(e).then(l)}function r(e){return e.labelUser_id?c(e.labelUser_id,e):t(e)}function n(e){return u.labelUser.remove(e).then(l)}function a(){return u.labelUser.getWhere("groups",{}).then(l)}function o(){return u.labelUser.getWhere("users",{}).then(l)}function s(){return u.labelUser.getWhere("activities",{}).then(l)}function c(e,t){return u.labelUser.update(e,t).then(l)}function l(e){var t=e.data;return t.success?t.data:t.title}var u=this;return u.labelUser=new e("labelUser"),{createLabelUser:t,createOrUpdateLabelUser:r,deleteLabelUser:n,getSharedLabels:a,getSharedUsersForLabel:o,getEventsForLabel:s,updateLabelUser:c}}angular.module("app").factory("labelUserService",e),e.$inject=["crudService"]}(),function(){"use strict";function e(e,t){function r(r){var n={};return angular.extend(n,r),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"pages/admin/modal/user.modal.html",resolve:{groups:{},item:n}}).result.then(function(e){return t.createOrUpdateUser(e).then(t.getUsers)},function(e){return Number(e)?t.deleteUser(e).then(t.getUsers):void 0})}return{openUserModal:r}}angular.module("app").factory("userModalService",e),e.$inject=["$uibModal","userService"]}(),function(){"use strict";function e(e){function t(e){return c.user.create(e).then(s)}function r(e){return e.id?o(e.id,e):t(e)}function n(e){return c.user.remove(e).then(s)}function a(){return c.user.getWhere("",{}).then(s)}function o(e,t){return c.user.update(e,t).then(s)}function s(e){var t=e.data;return t.success?t.data:t.title}var c=this;return c.user=new e("user"),{createUser:t,createOrUpdateUser:r,deleteUser:n,getUsers:a,updateUser:o}}angular.module("app").factory("userService",e),e.$inject=["crudService"]}(),function(){"use strict";function e(e,t,r){function n(){e.$on("updateUser",a)}function a(){r.getUser().then(function(e){o.user=e})}var o=this;o.user=t,n()}angular.module("app").controller("HeaderController",e),e.$inject=["$rootScope","user","headerService"]}(),function(){"use strict";function e(e,t,r){function n(){function e(e){var t=e.data;return t.success===!1?{name:"",avatar:"content/img/user.png"}:t.data}return r.getVar("all").then(e)}return{getUser:n}}angular.module("app").factory("headerService",e),e.$inject=["$http","$log","sessionService"]}(),function(){"use strict";function e(e,t,r,n,a,o){function s(){i(),d(),f.collapsed=o.getCollapsed(),e.$on("updateCalendars",i),e.$on("updateLabels",d)}function c(){f.collapsed=o.toggleSidebar()}function l(){f.collapsed=o.toggleCalendars()}function u(){f.collapsed=o.toggleLabels()}function i(){f.calendars=a.getCalendars()}function d(){f.labels=n.getLabels()}var f=this;f.collapsed={},f.labels=[],f.calendars=[],f.sharedCalendars=t,f.sharedLabels=r,f.toggleSidebar=c,f.toggleCalendars=l,f.toggleLabels=u,s()}angular.module("app").controller("SidebarController",e),e.$inject=["$rootScope","sharedCalendars","sharedLabels","labelService","calendarService","sidebarService"]}(),function(){"use strict";function e(e){function t(){e.innerWidth<600?s.collapsed={sidebar:!0,calendars:!0,labels:!0}:s.collapsed={sidebar:!1,calendars:!1,labels:!1}}function r(){return s.collapsed}function n(){return s.collapsed.sidebar=!s.collapsed.sidebar,s.collapsed.sidebar&&(s.collapsed.calendars=!0,s.collapsed.labels=!0),s.collapsed}function a(){return s.collapsed.calendars=!s.collapsed.calendars,s.collapsed.calendars||(s.collapsed.sidebar=!1),s.collapsed}function o(){return s.collapsed.labels=!s.collapsed.labels,s.collapsed.labels||(s.collapsed.sidebar=!1),s.collapsed}var s=this;return s.collapsed={},t(),{getCollapsed:r,toggleSidebar:n,toggleCalendars:a,toggleLabels:o}}angular.module("app").factory("sidebarService",e),e.$inject=["$window"]}(),function(){"use strict";function e(e,t){function r(e){return c.calendar.create(e).then(s)}function n(e){return c.calendar.remove(e).then(s)}function a(){return t.getCalendars()}function o(e,t){return c.calendar.update(e,t).then(s)}function s(e){var r=e.data;return r.success?(t.cacheCalendars(),r.data):r.title}var c=this;return c.calendar=new e("calendar"),{createCalendar:r,deleteCalendar:n,getCalendars:a,updateCalendar:o}}angular.module("app").factory("calendarService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e,t,r,n){function a(t,a){var o={};return angular.extend(o,t),n.formatForDisplay(o),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/activities/events/modal/event.modal.html",resolve:{groups:function(){return a},item:o}}).result.then(function(e){return n.formatForStorage(e),r.createOrUpdateEvent(e).then(r.getEvents)},function(e){return Number(e)?r.deleteEvent(e).then(r.getEvents):void 0})}function o(e){var r=n.getDisplayFormat();if(e.all_day)e.dt_start=n.toDisplayFormat(t(e.dt_start,r).startOf("day")),e.dt_end=n.toDisplayFormat(t(e.dt_start,r).endOf("day"));else{var a=t().startOf("hour").hour();e.dt_start=n.toDisplayFormat(t(e.dt_start,r).hour(a)),e.dt_end=n.toDisplayFormat(t(e.dt_start,r).hour(a).add(1,"hours"))}}return{openEventModal:a,toggleAllDay:o}}angular.module("app").factory("eventModalService",e),e.$inject=["$uibModal","moment","eventsService","formatService"]}(),function(){"use strict";function e(e,t){function r(e,t,r,n){return s(t.fullDate,r)?(u(e,{dt_start:t.fullDate,dt_end:t.fullDate.clone().endOf("day"),all_day:1},n),r):t.fullDate}function n(e){for(var t=[],r=e.clone().date(1).startOf("week"),n=0;6>n;n++)t.push(o(r,e.month())),r=r.add(1,"weeks");return t}function a(){return e()}function o(t,r){for(var n=[],a=t.clone(),o=0;7>o;o++)n.push({number:a.date(),isTargetMonth:a.month()===r,isToday:a.isSame(e(),"day"),fullDate:a}),a=a.clone().add(1,"days");return n}function s(e,t){return e.isSame(t,"day")}function c(e){return n(e[3][0].fullDate.clone().subtract(1,"months"))}function l(e){return n(e[3][0].fullDate.clone().add(1,"months"))}function u(e,r,n){e.stopPropagation(),t.openEventModal(r,n)}return{dayClicked:r,getMonth:n,getToday:a,getWeek:o,isSameDay:s,lastMonth:c,nextMonth:l,showEventModal:u}}angular.module("app").factory("calendarWidgetService",e),e.$inject=["moment","eventModalService"]}(),function(){"use strict";function e(e,t){function r(r){return e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/activities/recurrence/modal/recurrence.modal.html",resolve:{groups:function(){return n},item:r}}).result.then(function(e){t.constructRecurrence(r)},function(e){t.clearRecurrence(r)})}var n={freq:["hourly","daily","weekly","monthly","yearly"],days:["mo","tu","we","th","fr","sa","su"]};return{openRecurrenceModal:r}}angular.module("app").factory("recurrenceModalService",e),e.$inject=["$uibModal","recurrenceService"]}(),function(){"use strict";function e(e,t){function r(e){return c.label.create(e).then(s)}function n(e){return c.label.remove(e).then(s)}function a(){return t.getLabels()}function o(e,t){return c.label.update(e,t).then(s)}function s(e){var r=e.data;return r.success?(t.cacheLabels(),r.data):r.title}var c=this;return c.label=new e("label"),{createLabel:r,deleteLabel:n,getLabels:a,updateLabel:o}}angular.module("app").factory("labelService",e),e.$inject=["crudService","cacheService"]}(),function(){"use strict";function e(e,t,r){function n(t,n){var a={};angular.extend(a,t),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/activities/tasks/modal/subtask.modal.html",resolve:{groups:n,item:a}}).result.then(function(e){r.createOrUpdateSubtask(e.subtask,e.task)},function(e){"string"!=typeof e&&r.deleteSubtask(e.subtask,e.task)})}return{openSubtaskModal:n}}angular.module("app").factory("subtaskModalService",e),e.$inject=["$uibModal","labelService","subtasksService"]}(),function(){"use strict";function e(e,t,r){function n(n,a){var o={};return angular.extend(o,n),r.formatForDisplay(o),e.open({controller:"ModalController",controllerAs:"vm",templateUrl:"modules/activities/tasks/modal/task.modal.html",resolve:{groups:function(){return a},item:o}}).result.then(function(e){return e=r.formatForStorage(e),t.createOrUpdateTask(e).then(t.getTasks)},function(e){return Number(e)?t.deleteTask(e).then(t.getTasks):void 0})}return{openTaskModal:n}}angular.module("app").factory("taskModalService",e),e.$inject=["$uibModal","tasksService","formatService"]}(),function(){"use strict";function e(e,t){function r(e){t.openSubtaskModal(e,a.task)}function n(t){e.toggleCompleted(t)}var a=this;a.showSubtaskModal=r,a.toggleCompleted=n}angular.module("app").controller("SubtasksController",e),e.$inject=["subtasksService","subtaskModalService"]}(),function(){"use strict";function e(){return{templateUrl:"modules/activities/tasks/subtasks/subtasks.html",controller:"SubtasksController",controllerAs:"st",bindToController:!0,scope:{task:"="}}}angular.module("app").directive("spSubtasks",e)}(),function(){"use strict";function e(e,t){function r(e,t){t.subtasks||(t.subtasks={currentId:1,list:[]}),void 0===e.id&&(e.id=t.subtasks.currentId++,e.completed=!1,t.subtasks.list.push(e))}function n(e,t){t.subtasks.list.splice(t.subtasks.list.indexOf(e),1)}function a(e){e.completed=!e.completed}return{createOrUpdateSubtask:r,deleteSubtask:n,toggleCompleted:a}}angular.module("app").factory("subtasksService",e),e.$inject=["$http","$log"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiYXBwQ29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJjYWNoZUFsbCIsImNhY2hlU2VydmljZSIsImdldFNoYXJlZENhbGVuZGFycyIsImNhbGVuZGFyVXNlclNlcnZpY2UiLCJnZXRTaGFyZWRMYWJlbHMiLCJsYWJlbFVzZXJTZXJ2aWNlIiwiZ2V0VXNlciIsImhlYWRlclNlcnZpY2UiLCJnZXRVc2VycyIsInVzZXJTZXJ2aWNlIiwiaXNBdXRoZW50aWNhdGVkIiwiYWNjZXNzU2VydmljZSIsImlzQWRtaW4iLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiYWJzdHJhY3QiLCJyZXNvbHZlIiwiY2FjaGUiLCJ1c2VyIiwic2hhcmVkQ2FsZW5kYXJzIiwic2hhcmVkTGFiZWxzIiwidmlld3MiLCJoZWFkZXIiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwic2lkZWJhciIsInBhcmVudCIsImNvbnRlbnRAIiwidXNlcnMiLCJvdGhlcndpc2UiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGluamVjdCIsInJ1bkJsb2NrIiwiYXBwU2VydmljZSIsImluaXQiLCJydW4iLCIkcm9vdFNjb3BlIiwiJHN0YXRlIiwic3RhdHVzU2VydmljZSIsIiRvbiIsInN0YXRlQ2hhbmdlRXJyb3IiLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJlcnJvciIsIlVOQVVUSE9SSVpFRCIsInByZXZlbnREZWZhdWx0IiwiZ28iLCJuYW1lIiwiRk9SQklEREVOIiwiZmFjdG9yeSIsImluR3JvdXBzIiwiYWN0aXZpdGllcyIsImdyb3VwcyIsImFjdGl2aXRpZXNJbkdyb3VwcyIsImkiLCJsZW5ndGgiLCJsYWJlbF9pZCIsImNhbGVuZGFyX2lkIiwicHVzaCIsImZpbHRlciIsInNhbWVEYXlBcyIsIm1vbWVudCIsImV2ZW50cyIsImRheSIsInNhbWVEYXlFdmVudHMiLCJyZXN1bHQiLCJpc1NhbWUiLCJkdF9zdGFydCIsImR0X2VuZCIsIndpdGhpbkRheXMiLCJ0YXNrcyIsIm51bU9mRGF5cyIsInRhc2tzV2l0aGluRGF5cyIsImR1ZSIsImlzQmVmb3JlIiwiYWRkIiwiY3J1ZFNlcnZpY2UiLCJjYWNoZUNhbGVuZGFycyIsImNhY2hlRXZlbnRzIiwiY2FjaGVMYWJlbHMiLCJjYWNoZVRhc2tzIiwidm0iLCJjYWxlbmRhciIsImdldEJ5VXNlciIsInRoZW4iLCJyZXNwb25zZSIsImNhbGVuZGFycyIsImdldFJlc3VsdCIsInVwZGF0ZUNhbGVuZGFycyIsInVwZGF0ZUV2ZW50cyIsImxhYmVsIiwibGFiZWxzIiwidXBkYXRlTGFiZWxzIiwidGFzayIsInVwZGF0ZVRhc2tzIiwiY2xlYXJDYWNoZSIsImRhdGEiLCJzdWNjZXNzIiwidGl0bGUiLCJnZXRBbGwiLCJnZXRDYWxlbmRhcnMiLCJnZXRFdmVudHMiLCJnZXRMYWJlbHMiLCJnZXRUYXNrcyIsIiRicm9hZGNhc3QiLCJ0aGlzIiwic2VydmljZSIsIiRodHRwIiwiJGxvZyIsInR5cGUiLCJiYXNlIiwiZ2V0IiwiaWQiLCJwYXJhbXMiLCJwcm9taXNlQ29tcGxldGUiLCJwcm9taXNlRmFpbGVkIiwiYnlVc2VyIiwiZ2V0V2hlcmUiLCJ3aGVyZSIsImJpbmRpbmdzIiwiSlNPTiIsInN0cmluZ2lmeSIsImNyZWF0ZSIsInJlbW92ZVVuZWNlc3NhcnlLZXlzIiwicG9zdCIsInVwZGF0ZSIsInB1dCIsInJlbW92ZSIsInJlbW92ZVdoZXJlIiwiZXNjYXBlIiwibWVzc2FnZSIsInRvRGVsZXRlIiwiY3J1ZCIsInByb3RvdHlwZSIsInNlc3Npb25TZXJ2aWNlIiwiZ2V0VmFyIiwiJG5hbWUiLCJzZXRWYXIiLCIkdmFsdWUiLCJhdXRvRm9jdXNEaXJlY3RpdmUiLCJsaW5rIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJuZ01vZGVsIiwiZm9jdXMiLCJyZXN0cmljdCIsImRpcmVjdGl2ZSIsImNvbXBhcmVUb0RpcmVjdGl2ZSIsImNsZWFuVXAiLCJ1bmJpbmRXYXRjaCIsImNvbXBhcmVWYWx1ZXMiLCJ2aWV3VmFsdWUiLCJvdGhlck1vZGVsIiwiJHZpZXdWYWx1ZSIsInZhbGlkYXRlT25DaGFuZ2UiLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwiJHZhbGlkYXRlIiwiJHdhdGNoIiwiJHZhbGlkYXRvcnMiLCJzcENvbXBhcmVUbyIsIm9uIiwicmVxdWlyZSIsIkxvZ291dENvbnRyb2xsZXIiLCJsb2dvdXRTZXJ2aWNlIiwiYWN0aXZhdGUiLCJsb2dvdXQiLCJsb2dvdXRDb21wbGV0ZSIsImxvZ291dEZhaWxlZCIsImZvcm1hdFNlcnZpY2UiLCJmb3JtYXRGb3JEaXNwbGF5IiwiYWN0aXZpdHkiLCJoYXNPd25Qcm9wZXJ0eSIsImFsbF9kYXkiLCJwYXJzZUludCIsInRvRGlzcGxheUZvcm1hdCIsInJlbWluZGVyIiwiZm9ybWF0Rm9yU3RvcmFnZSIsImRpc3BsYXlGb3JtYXQiLCJnZXREaXNwbGF5Rm9ybWF0IiwidG9TdG9yYWdlRm9ybWF0IiwiZm9ybWF0IiwiTW9kYWxDb250cm9sbGVyIiwiJHVpYk1vZGFsSW5zdGFuY2UiLCJpdGVtIiwiZXZlbnRNb2RhbFNlcnZpY2UiLCJjYW5jZWwiLCJkaXNtaXNzIiwiY2xvc2UiLCJjb25maXJtIiwidG9nZ2xlQWxsRGF5IiwiVXBsb2FkQ29udHJvbGxlciIsIiRzY29wZSIsInVwbG9hZFNlcnZpY2UiLCJ1cGxvYWRGaWxlIiwiZmlsZSIsIm9sZEZpbGUiLCJmaWxlUGF0aCIsInVjIiwidXBsb2FkRGlyZWN0aXZlIiwiJHBhcnNlIiwiZmlsZUhhbmRsZXIiLCIkYXBwbHkiLCJmaWxlcyIsInNpemUiLCJtYXhGaWxlU2l6ZSIsInNwRmlsZUNoYW5nZSIsImFsZXJ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwidW5kZWZpbmVkIiwicmVzIiwiQWRtaW5Db250cm9sbGVyIiwidXNlck1vZGFsU2VydmljZSIsInNob3dVc2VyTW9kYWwiLCJvcGVuVXNlck1vZGFsIiwiTG9naW5Db250cm9sbGVyIiwibG9naW5TZXJ2aWNlIiwibG9naW4iLCJsb2FkaW5nIiwibG9naW5Db21wbGV0ZSIsImxvZ2luRmFpbGVkIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwiUmVnaXN0ZXJDb250cm9sbGVyIiwicmVnaXN0ZXJTZXJ2aWNlIiwicmVnaXN0ZXIiLCIkbG9jYXRpb24iLCJyZWdpc3RyYXRpb25Db21wbGV0ZSIsIkxhYmVsUGFnZUNvbnRyb2xsZXIiLCIkc3RhdGVQYXJhbXMiLCJsYWJlbElkIiwiJHEiLCJpc0F1dGhlbnRpY2F0ZWRDb21wbGV0ZSIsImRlZmVycmVkIiwiT0siLCJyZWplY3QiLCJwcm9taXNlIiwiaXNBZG1pbkNvbXBsZXRlIiwiZGVmZXIiLCJFdmVudHNDb250cm9sbGVyIiwiY2FsZW5kYXJXaWRnZXRTZXJ2aWNlIiwiY2FsZW5kYXJTZXJ2aWNlIiwiZXZlbnRzU2VydmljZSIsInRvZGF5IiwiZ2V0VG9kYXkiLCJzZWxlY3RlZERheSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkYXlDbGlja2VkIiwiY2xpY2tFdmVudCIsImlzU2FtZURheUFzU2VsZWN0ZWQiLCJpc1NhbWVEYXkiLCJzaG93RXZlbnRNb2RhbCIsImxhc3RNb250aCIsIm5leHRNb250aCIsImV2ZW50c0RpcmVjdGl2ZSIsImJpbmRUb0NvbnRyb2xsZXIiLCJjcmVhdGVFdmVudCIsImNyZWF0ZU9yVXBkYXRlRXZlbnQiLCJldmVudF9pZCIsInVwZGF0ZUV2ZW50IiwiZGVsZXRlRXZlbnQiLCJSZWN1cnJlbmNlQ29udHJvbGxlciIsInJlY3VycmVuY2VNb2RhbFNlcnZpY2UiLCJzaG93UmVjdXJyZW5jZU1vZGFsIiwicmMiLCJyZWN1cnJlbmNlIiwib3BlblJlY3VycmVuY2VNb2RhbCIsInJlY3VycmVuY2VEaXJlY3RpdmUiLCJyZWN1cnJlbmNlU2VydmljZSIsImNsZWFyUmVjdXJyZW5jZSIsImNvbnN0cnVjdFJlY3VycmVuY2UiLCJUYXNrc0NvbnRyb2xsZXIiLCJ0YXNrc1NlcnZpY2UiLCJsYWJlbFNlcnZpY2UiLCJ0YXNrTW9kYWxTZXJ2aWNlIiwic2hvd1Rhc2tNb2RhbCIsIm9wZW5UYXNrTW9kYWwiLCJ0b2dnbGVDb21wbGV0ZWQiLCJ0YXNrc0RpcmVjdGl2ZSIsIm9yZGVyIiwiZGF5cyIsImluTGFiZWxzIiwiY3JlYXRlVGFzayIsImNyZWF0ZU9yVXBkYXRlVGFzayIsInRhc2tfaWQiLCJ1cGRhdGVUYXNrIiwiZGVsZXRlVGFzayIsImNvbXBsZXRlZCIsIkNhbGVuZGFyVXNlckNvbnRyb2xsZXIiLCJjYWxlbmRhclVzZXJEaXJlY3RpdmUiLCJpdGVtcyIsImNyZWF0ZUNhbGVuZGFyVXNlciIsImNhbGVuZGFyVXNlciIsImNyZWF0ZU9yVXBkYXRlQ2FsZW5kYXJVc2VyIiwiY2FsZW5kYXJVc2VyX2lkIiwidXBkYXRlQ2FsZW5kYXJVc2VyIiwiZGVsZXRlQ2FsZW5kYXJVc2VyIiwiZ2V0U2hhcmVkVXNlcnNGb3JDYWxlbmRhciIsImdldEV2ZW50c0ZvckNhbGVuZGFyIiwiY3JlYXRlTGFiZWxVc2VyIiwibGFiZWxVc2VyIiwiY3JlYXRlT3JVcGRhdGVMYWJlbFVzZXIiLCJsYWJlbFVzZXJfaWQiLCJ1cGRhdGVMYWJlbFVzZXIiLCJkZWxldGVMYWJlbFVzZXIiLCJnZXRTaGFyZWRVc2Vyc0ZvckxhYmVsIiwiZ2V0RXZlbnRzRm9yTGFiZWwiLCIkdWliTW9kYWwiLCJjbG9uZWRVc2VyIiwiZXh0ZW5kIiwib3BlbiIsImNyZWF0ZU9yVXBkYXRlVXNlciIsIk51bWJlciIsImRlbGV0ZVVzZXIiLCJjcmVhdGVVc2VyIiwidXBkYXRlVXNlciIsIkhlYWRlckNvbnRyb2xsZXIiLCJnZXROYW1lQ29tcGxldGUiLCJhdmF0YXIiLCJTaWRlYmFyQ29udHJvbGxlciIsInNpZGViYXJTZXJ2aWNlIiwiY29sbGFwc2VkIiwiZ2V0Q29sbGFwc2VkIiwidG9nZ2xlU2lkZWJhciIsInRvZ2dsZUNhbGVuZGFycyIsInRvZ2dsZUxhYmVscyIsIiR3aW5kb3ciLCJpbm5lcldpZHRoIiwiY3JlYXRlQ2FsZW5kYXIiLCJkZWxldGVDYWxlbmRhciIsInVwZGF0ZUNhbGVuZGFyIiwib3BlbkV2ZW50TW9kYWwiLCJjbG9uZWRFdmVudCIsImRpc3BsYXkiLCJzdGFydE9mIiwiZW5kT2YiLCJjdXJyZW50SG91ciIsImhvdXIiLCJmdWxsRGF0ZSIsImNsb25lIiwiYURheSIsImRhdGUiLCJnZXRXZWVrIiwic3RhcnREYXkiLCJ0YXJnZXRNb250aCIsIndlZWsiLCJudW1iZXIiLCJpc1RhcmdldE1vbnRoIiwiaXNUb2RheSIsImRheTEiLCJkYXkyIiwic3JjTW9udGgiLCJzdWJ0cmFjdCIsInN0b3BQcm9wYWdhdGlvbiIsInJlY3VycmVuY2VJbmZvIiwiZnJlcSIsImNyZWF0ZUxhYmVsIiwiZGVsZXRlTGFiZWwiLCJ1cGRhdGVMYWJlbCIsInN1YnRhc2tNb2RhbFNlcnZpY2UiLCJzdWJ0YXNrc1NlcnZpY2UiLCJvcGVuU3VidGFza01vZGFsIiwic3VidGFzayIsImNsb25lZFN1YnRhc2siLCJjcmVhdGVPclVwZGF0ZVN1YnRhc2siLCJkZWxldGVTdWJ0YXNrIiwiY2xvbmVkVGFzayIsIlN1YnRhc2tzQ29udHJvbGxlciIsInNob3dTdWJ0YXNrTW9kYWwiLCJzdCIsInN1YnRhc2tzRGlyZWN0aXZlIiwic3VidGFza3MiLCJjdXJyZW50SWQiLCJsaXN0Iiwic3BsaWNlIiwiaW5kZXhPZiJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQyxZQU9BLFNBQVNBLEdBQVVDLEVBQWdCQyxHQTBKbEMsUUFBU0MsR0FBU0MsR0FDakIsTUFBT0EsR0FBYUQsV0FHckIsUUFBU0UsR0FBbUJDLEdBQzNCLE1BQU9BLEdBQW9CRCxxQkFHNUIsUUFBU0UsR0FBZ0JDLEdBQ3hCLE1BQU9BLEdBQWlCRCxrQkFHekIsUUFBU0UsR0FBUUMsR0FDaEIsTUFBT0EsR0FBY0QsVUFHdEIsUUFBU0UsR0FBU0MsR0FDakIsTUFB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LE9BQ1B5SCxVQUFVLGFBQWN3TyxNQWMzQixXQUNDLFlBT0EsU0FBU1YsR0FBZ0J0USxFQUFPQyxHQU8vQixRQUFTeVEsR0FBc0JGLEVBQVN0UixHQUNsQ0EsRUFBSytSLFdBQ1QvUixFQUFLK1IsVUFDSkMsVUFBVyxFQUNYQyxVQUlpQnJLLFNBQWYwSixFQUFRblEsS0FDWG1RLEVBQVFuUSxHQUFLbkIsRUFBSytSLFNBQVNDLFlBQzNCVixFQUFRM0UsV0FBWSxFQUNwQjNNLEVBQUsrUixTQUFTRSxLQUFLcFUsS0FBS3lULElBSTFCLFFBQVNHLEdBQWNILEVBQVN0UixHQUMvQkEsRUFBSytSLFNBQVNFLEtBQUtDLE9BQU9sUyxFQUFLK1IsU0FBU0UsS0FBS0UsUUFBUWIsR0FBVSxHQUdoRSxRQUFTckYsR0FBZ0JxRixHQUN4QkEsRUFBUTNFLFdBQWEyRSxFQUFRM0UsVUExQjlCLE9BQ0M2RSxzQkFBdUJBLEVBQ3ZCQyxjQUFlQSxFQUNmeEYsZ0JBQWlCQSxHQVRuQnJRLFFBQ0VDLE9BQU8sT0FDUHVCLFFBQVEsa0JBQW1CZ1UsR0FFN0JBLEVBQWdCclYsU0FBVyxRQUFTIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlcicsICd1aS5ib290c3RyYXAnLCAnYW5ndWxhck1vbWVudCddKVxyXG5cdFx0LmNvbmZpZyhhcHBDb25maWcpO1xyXG5cclxuXHRhcHBDb25maWcuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJ107XHJcblx0ZnVuY3Rpb24gYXBwQ29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuXHJcblx0XHQkc3RhdGVQcm92aWRlclxyXG5cdFx0XHQuc3RhdGUoJ3Jvb3QnLCB7XHJcblx0XHRcdFx0dXJsOiAnJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2luZGV4Lmh0bWwnLFxyXG5cdFx0XHRcdGFic3RyYWN0OiB0cnVlLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGNhY2hlOiBbJ2NhY2hlU2VydmljZScsIGNhY2hlQWxsXSxcclxuXHRcdFx0XHRcdHVzZXI6IFsnaGVhZGVyU2VydmljZScsIGdldFVzZXJdLFxyXG5cdFx0XHRcdFx0c2hhcmVkQ2FsZW5kYXJzOiBbJ2NhbGVuZGFyVXNlclNlcnZpY2UnLCBnZXRTaGFyZWRDYWxlbmRhcnNdLFxyXG5cdFx0XHRcdFx0c2hhcmVkTGFiZWxzOiBbJ2xhYmVsVXNlclNlcnZpY2UnLCBnZXRTaGFyZWRMYWJlbHNdXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2hlYWRlcic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvaGVhZGVyL2hlYWRlci5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0hlYWRlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdoYydcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQnc2lkZWJhcic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9sYXlvdXQvc2lkZWJhci9zaWRlYmFyLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnU2lkZWJhckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdzYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnbG9naW4nLCB7XHJcblx0XHRcdFx0dXJsOiAnL2xvZ2luJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2xvZ2luL2xvZ2luLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2xvZ291dCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvbG9nb3V0JyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTG9nb3V0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdyZWdpc3RlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvcmVnaXN0ZXInLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bSdcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnYWRtaW4nLCB7XHJcblx0XHRcdFx0dXJsOiAnL2FkbWluJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290JyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2FkbWluL2FkbWluLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWRtaW5Db250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRcdFx0aXNBdXRoZW50aWNhdGVkOiBbJ2FjY2Vzc1NlcnZpY2UnLCBpc0F1dGhlbnRpY2F0ZWRdLFxyXG5cdFx0XHRcdFx0XHRcdGlzQWRtaW46IFsnYWNjZXNzU2VydmljZScsIGlzQWRtaW5dLFxyXG5cdFx0XHRcdFx0XHRcdHVzZXJzOiBbJ3VzZXJTZXJ2aWNlJywgZ2V0VXNlcnNdXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnZGFzaGJvYXJkJywge1xyXG5cdFx0XHRcdHVybDogJy9kYXNoYm9hcmQnLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5odG1sJyxcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0XHRcdGlzQXV0aGVudGljYXRlZDogWydhY2Nlc3NTZXJ2aWNlJywgaXNBdXRoZW50aWNhdGVkXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2xhYmVscycsIHtcclxuXHRcdFx0XHR1cmw6ICcvbGFiZWxzJyxcclxuXHRcdFx0XHRwYXJlbnQ6ICdyb290J1xyXG5cdFx0XHR9KVxyXG5cdFx0XHRcdC5zdGF0ZSgnbGFiZWxzLmxhYmVsJywge1xyXG5cdFx0XHRcdFx0dXJsOiAnLzpsYWJlbElkJyxcclxuXHRcdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogXCJwYWdlcy90YXNrcy9sYWJlbC5odG1sXCIsXHJcblx0XHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0xhYmVsUGFnZUNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRcdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IFsnYWNjZXNzU2VydmljZScsIGlzQXV0aGVudGljYXRlZF1cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2luYm94Jywge1xyXG5cdFx0XHRcdHVybDogJy9pbmJveCcsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy90YXNrcy9pbmJveC5odG1sJyxcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0XHRcdGlzQXV0aGVudGljYXRlZDogWydhY2Nlc3NTZXJ2aWNlJywgaXNBdXRoZW50aWNhdGVkXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ3RvZGF5Jywge1xyXG5cdFx0XHRcdHVybDogJy90b2RheScsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy90YXNrcy90b2RheS5odG1sJyxcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0XHRcdGlzQXV0aGVudGljYXRlZDogWydhY2Nlc3NTZXJ2aWNlJywgaXNBdXRoZW50aWNhdGVkXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ3dlZWsnLCB7XHJcblx0XHRcdFx0dXJsOiAnL3dlZWsnLFxyXG5cdFx0XHRcdHBhcmVudDogJ3Jvb3QnLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvdGFza3Mvd2Vlay5odG1sJyxcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0XHRcdGlzQXV0aGVudGljYXRlZDogWydhY2Nlc3NTZXJ2aWNlJywgaXNBdXRoZW50aWNhdGVkXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQuc3RhdGUoJ2NhbGVuZGFyJywge1xyXG5cdFx0XHRcdHVybDogJy9jYWxlbmRhcicsXHJcblx0XHRcdFx0cGFyZW50OiAncm9vdCcsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9jYWxlbmRhci9jYWxlbmRhci5odG1sJyxcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0XHRcdGlzQXV0aGVudGljYXRlZDogWydhY2Nlc3NTZXJ2aWNlJywgaXNBdXRoZW50aWNhdGVkXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvZGFzaGJvYXJkJyk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2FjaGVBbGwoY2FjaGVTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBjYWNoZVNlcnZpY2UuY2FjaGVBbGwoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRTaGFyZWRDYWxlbmRhcnMoY2FsZW5kYXJVc2VyU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gY2FsZW5kYXJVc2VyU2VydmljZS5nZXRTaGFyZWRDYWxlbmRhcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRTaGFyZWRMYWJlbHMobGFiZWxVc2VyU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gbGFiZWxVc2VyU2VydmljZS5nZXRTaGFyZWRMYWJlbHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyKGhlYWRlclNlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuIGhlYWRlclNlcnZpY2UuZ2V0VXNlcigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXJzKHVzZXJTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiB1c2VyU2VydmljZS5nZXRVc2VycygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZChhY2Nlc3NTZXJ2aWNlKSB7XHJcblx0XHRcdHJldHVybiBhY2Nlc3NTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQWRtaW4oYWNjZXNzU2VydmljZSkge1xyXG5cdFx0XHRyZXR1cm4gYWNjZXNzU2VydmljZS5pc0FkbWluKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5ydW4ocnVuQmxvY2spO1xyXG5cclxuXHRydW5CbG9jay4kaW5qZWN0ID0gWydhcHBTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gcnVuQmxvY2soYXBwU2VydmljZSkge1xyXG5cdFx0YXBwU2VydmljZS5pbml0KCk7XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdhcHBTZXJ2aWNlJywgYXBwU2VydmljZSk7XHJcblxyXG5cdGFwcFNlcnZpY2UuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc3RhdGUnLCAnc3RhdHVzU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGFwcFNlcnZpY2UoJHJvb3RTY29wZSwgJHN0YXRlLCBzdGF0dXNTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRpbml0OiBpbml0XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGluaXQoKSB7XHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsIHN0YXRlQ2hhbmdlRXJyb3IpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHN0YXRlQ2hhbmdlRXJyb3IoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XHJcblx0XHRcdGlmIChlcnJvciA9PT0gc3RhdHVzU2VydmljZS5VTkFVVEhPUklaRUQpIHtcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdCRzdGF0ZS5nbygnbG9naW4nKTtcclxuXHRcdFx0fSBlbHNlIGlmICh0b1N0YXRlLm5hbWUgPT09ICdhZG1pbicgJiYgZXJyb3IgPT09IHN0YXR1c1NlcnZpY2UuRk9SQklEREVOKSB7XHJcblx0XHRcdFx0Ly8gZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHQvLyAkc3RhdGUuZ28oJ2Rhc2hib2FyZCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmlsdGVyKCdpbkdyb3VwcycsIGluR3JvdXBzKTtcclxuXHJcblx0aW5Hcm91cHMuJGluamVjdCA9IFtdO1xyXG5cdGZ1bmN0aW9uIGluR3JvdXBzKCkge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGFjdGl2aXRpZXMsIGdyb3Vwcykge1xyXG5cdFx0XHRpZiAoIWdyb3Vwcykge1xyXG5cdFx0XHRcdHJldHVybiBhY3Rpdml0aWVzO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgYWN0aXZpdGllc0luR3JvdXBzID0gW107XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2aXRpZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZiAoYWN0aXZpdGllc1tpXS5sYWJlbF9pZCA9PT0gZ3JvdXBzIHx8XHJcblx0XHRcdFx0XHRhY3Rpdml0aWVzW2ldLmNhbGVuZGFyX2lkID09PSBncm91cHNcclxuXHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdGFjdGl2aXRpZXNJbkdyb3Vwcy5wdXNoKGFjdGl2aXRpZXNbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGFjdGl2aXRpZXNJbkdyb3VwcztcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5maWx0ZXIoJ3NhbWVEYXlBcycsIHNhbWVEYXlBcyk7XHJcblxyXG5cdHNhbWVEYXlBcy4kaW5qZWN0ID0gWydtb21lbnQnXTtcclxuXHRmdW5jdGlvbiBzYW1lRGF5QXMobW9tZW50KSB7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24oZXZlbnRzLCBkYXkpIHtcclxuXHRcdFx0dmFyIHNhbWVEYXlFdmVudHMgPSBbXTtcclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIHJlc3VsdCA9IGRheS5pc1NhbWUobW9tZW50KGV2ZW50c1tpXS5kdF9zdGFydCksICdkYXknKTtcclxuXHJcblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcclxuXHRcdFx0XHRcdHJlc3VsdCA9IGRheS5pc1NhbWUobW9tZW50KGV2ZW50c1tpXS5kdF9lbmQpLCAnZGF5Jyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZihyZXN1bHQpIHtcclxuXHRcdFx0XHRcdHNhbWVEYXlFdmVudHMucHVzaChldmVudHNbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHNhbWVEYXlFdmVudHM7XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmlsdGVyKCd3aXRoaW5EYXlzJywgd2l0aGluRGF5cyk7XHJcblxyXG5cdHdpdGhpbkRheXMuJGluamVjdCA9IFsnbW9tZW50J107XHJcblx0ZnVuY3Rpb24gd2l0aGluRGF5cyhtb21lbnQpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbih0YXNrcywgbnVtT2ZEYXlzKSB7XHJcblx0XHRcdGlmICghbnVtT2ZEYXlzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRhc2tzO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgdGFza3NXaXRoaW5EYXlzID0gW107XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRhc2tzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIHJlc3VsdDtcclxuXHJcblx0XHRcdFx0aWYgKCF0YXNrc1tpXS5kdWUgfHwgKHRhc2tzW2ldLmR1ZSAmJlxyXG5cdFx0XHRcdFx0bW9tZW50KHRhc2tzW2ldLmR1ZSkuaXNCZWZvcmUobW9tZW50KCkuYWRkKG51bU9mRGF5cywgJ2RheXMnKSkpXHJcblx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHR0YXNrc1dpdGhpbkRheXMucHVzaCh0YXNrc1tpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdGFza3NXaXRoaW5EYXlzO1xyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LnNlcnZpY2UoJ2NhY2hlU2VydmljZScsIGNhY2hlU2VydmljZSk7XHJcblxyXG5cdGNhY2hlU2VydmljZS4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ2NydWRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gY2FjaGVTZXJ2aWNlKCRyb290U2NvcGUsIGNydWRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXHJcblx0XHR2bS5jYWxlbmRhcnMgPSBbXTtcclxuXHRcdHZtLmV2ZW50cyA9IFtdO1xyXG5cdFx0dm0ubGFiZWxzID0gW107XHJcblx0XHR2bS50YXNrcyA9IFtdO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNhY2hlQWxsOiBjYWNoZUFsbCxcclxuXHRcdFx0Y2FjaGVDYWxlbmRhcnM6IGNhY2hlQ2FsZW5kYXJzLFxyXG5cdFx0XHRjYWNoZUV2ZW50czogY2FjaGVFdmVudHMsXHJcblx0XHRcdGNhY2hlTGFiZWxzOiBjYWNoZUxhYmVscyxcclxuXHRcdFx0Y2FjaGVUYXNrczogY2FjaGVUYXNrcyxcclxuXHRcdFx0Y2xlYXJDYWNoZTogY2xlYXJDYWNoZSxcclxuXHJcblx0XHRcdGdldEFsbDogZ2V0QWxsLFxyXG5cdFx0XHRnZXRDYWxlbmRhcnM6IGdldENhbGVuZGFycyxcclxuXHRcdFx0Z2V0RXZlbnRzOiBnZXRFdmVudHMsXHJcblx0XHRcdGdldExhYmVsczogZ2V0TGFiZWxzLFxyXG5cdFx0XHRnZXRUYXNrczogZ2V0VGFza3NcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gVE9ETzogSWRlYWxseSBvbmUgQVBJIGNhbGwuXHJcblx0XHRmdW5jdGlvbiBjYWNoZUFsbCgpIHtcclxuXHRcdFx0Y2FjaGVDYWxlbmRhcnMoKTtcclxuXHRcdFx0Y2FjaGVFdmVudHMoKTtcclxuXHRcdFx0Y2FjaGVMYWJlbHMoKTtcclxuXHRcdFx0Y2FjaGVUYXNrcygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNhY2hlQ2FsZW5kYXJzKCkge1xyXG5cdFx0XHR2bS5jYWxlbmRhciA9IG5ldyBjcnVkU2VydmljZSgnY2FsZW5kYXInKTtcclxuXHRcdFx0dm0uY2FsZW5kYXIuZ2V0QnlVc2VyKClcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dm0uY2FsZW5kYXJzID0gZ2V0UmVzdWx0KHJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdHVwZGF0ZUNhbGVuZGFycygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNhY2hlRXZlbnRzKCkge1xyXG5cdFx0XHR2bS5ldmVudCA9IG5ldyBjcnVkU2VydmljZSgnZXZlbnQnKTtcclxuXHRcdFx0dm0uZXZlbnQuZ2V0QnlVc2VyKClcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dm0uZXZlbnRzID0gZ2V0UmVzdWx0KHJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdHVwZGF0ZUV2ZW50cygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNhY2hlTGFiZWxzKCkge1xyXG5cdFx0XHR2bS5sYWJlbCA9IG5ldyBjcnVkU2VydmljZSgnbGFiZWwnKTtcclxuXHRcdFx0dm0ubGFiZWwuZ2V0QnlVc2VyKClcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dm0ubGFiZWxzID0gZ2V0UmVzdWx0KHJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdHVwZGF0ZUxhYmVscygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNhY2hlVGFza3MoKSB7XHJcblx0XHRcdHZtLnRhc2sgPSBuZXcgY3J1ZFNlcnZpY2UoJ3Rhc2snKTtcclxuXHRcdFx0dm0udGFzay5nZXRCeVVzZXIoKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHR2bS50YXNrcyA9IGdldFJlc3VsdChyZXNwb25zZSk7XHJcblx0XHRcdFx0XHR1cGRhdGVUYXNrcygpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNsZWFyQ2FjaGUoKSB7XHJcblx0XHRcdHZtLmNhbGVuZGFycyA9IFtdO1xyXG5cdFx0XHR2bS5ldmVudHMgPSBbXTtcclxuXHRcdFx0dm0ubGFiZWxzID0gW107XHJcblx0XHRcdHZtLnRhc2tzID0gW107XHJcblxyXG5cdFx0XHR1cGRhdGVDYWxlbmRhcnMoKTtcclxuXHRcdFx0dXBkYXRlRXZlbnRzKCk7XHJcblx0XHRcdHVwZGF0ZUxhYmVscygpO1xyXG5cdFx0XHR1cGRhdGVUYXNrcygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJlc3VsdChyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdC5zdWNjZXNzID8gcmVzdWx0LmRhdGEgOiByZXN1bHQudGl0bGU7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0QWxsKCkge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGNhbGVuZGFyczogZ2V0Q2FsZW5kYXJzKCksXHJcblx0XHRcdFx0ZXZlbnRzOiBnZXRFdmVudHMoKSxcclxuXHRcdFx0XHRsYWJlbHM6IGdldExhYmVscygpLFxyXG5cdFx0XHRcdHRhc2tzOiBnZXRUYXNrcygpXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0Q2FsZW5kYXJzKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXJzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEV2ZW50cygpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmV2ZW50cztcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRMYWJlbHMoKSB7XHJcblx0XHRcdHJldHVybiB2bS5sYWJlbHM7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VGFza3MoKSB7XHJcblx0XHRcdHJldHVybiB2bS50YXNrcztcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVDYWxlbmRhcnMoKSB7XHJcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgndXBkYXRlQ2FsZW5kYXJzJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlRXZlbnRzKCkge1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3VwZGF0ZUV2ZW50cycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUxhYmVscygpIHtcclxuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCd1cGRhdGVMYWJlbHMnKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVUYXNrcygpIHtcclxuXHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCd1cGRhdGVUYXNrcycpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFVzZWQgdG8gYWNjZXNzIHRoZSBhcGkgb2YgdGhlIHZhcmlvdXMgaXRlbSB0eXBlcy5cclxuXHQqIEFuIGluc3RhbmNlIG9mIGNydWQgbXVzdCBiZSBjcmVhdGVkIGluIG9yZGVyIHRvIHVzZSB0aGUgc2VydmljZS5cclxuXHQqXHJcblx0KiBBbGwgcHJvbWlzZXMgcmV0dXJuICdzdWNjZXNzJyBhbmQgZWl0aGVyICdkYXRhJyBvbiBzdWNjZXNzIG9yLCBvbiBlcnJvciwgJ3RpdGxlJ1xyXG5cdCogd2l0aCBhIGdlbmVyYWwgZXJyb3IgYW5kICdkZXRhaWxzJyB3aXRoIG1vcmUgZGV0YWlscy5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2NydWRTZXJ2aWNlJywgY3J1ZFNlcnZpY2UpO1xyXG5cclxuXHRjcnVkU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gY3J1ZFNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciBjcnVkID0gaW5pdDtcclxuXHRcdGNydWQucHJvdG90eXBlID0ge1xyXG5cdFx0XHRnZXQ6IGdldCxcclxuXHRcdFx0Z2V0QnlVc2VyOiBnZXRCeVVzZXIsXHJcblx0XHRcdGdldFdoZXJlOiBnZXRXaGVyZSxcclxuXHRcdFx0Y3JlYXRlOiBjcmVhdGUsXHJcblx0XHRcdHVwZGF0ZTogdXBkYXRlLFxyXG5cdFx0XHRyZW1vdmU6IHJlbW92ZSxcclxuXHRcdFx0cmVtb3ZlV2hlcmU6IHJlbW92ZVdoZXJlLFxyXG5cdFx0XHRyZW1vdmVVbmVjZXNzYXJ5S2V5czogcmVtb3ZlVW5lY2Vzc2FyeUtleXNcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGNydWQ7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEluaXRpYWxpemUgdGhlIGJhc2UgdXJsIHVzaW5nIHRoZSB0eXBlIG9mIGl0ZW0gdG8gYmUgY2FsbGVkIG9uLlxyXG5cdFx0KiBBY3Rpdml0aWVzIGFuZCB0aGVpciBwYXJlbnRzIGhhdmUgYSBzcGVjaWZpYyBzdWJmb2xkZXIgdG8gYmUgcG9pbnRlZCB0byxcclxuXHRcdCogd2hpbGUgb3RoZXJzIGRvIG5vdC5cclxuXHRcdCpcclxuXHRcdCogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZSBvZiBpdGVtLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGluaXQodHlwZSkge1xyXG5cdFx0XHQvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXHJcblx0XHRcdHRoaXMudHlwZSA9IHR5cGU7XHJcblx0XHRcdHRoaXMuYmFzZSA9ICdhcGkvJztcclxuXHRcdFx0c3dpdGNoICh0eXBlKSB7XHJcblx0XHRcdFx0Y2FzZSAnZXZlbnQnOlxyXG5cdFx0XHRcdGNhc2UgJ2NhbGVuZGFyJzpcclxuXHRcdFx0XHRcdHRoaXMuYmFzZSArPSAnYWN0aXZpdHkvY2FsZW5kYXIvJztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGNhc2UgJ2xhYmVsJzpcclxuXHRcdFx0XHRjYXNlICd0YXNrJzpcclxuXHRcdFx0XHRcdHRoaXMuYmFzZSArPSAnYWN0aXZpdHkvdGFzay8nO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0Y2FzZSAnbGFiZWxVc2VyJzpcclxuXHRcdFx0XHRjYXNlICdjYWxlbmRhclVzZXInOlxyXG5cdFx0XHRcdFx0dGhpcy5iYXNlICs9ICdjb2xsYWIvJztcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHR0aGlzLmJhc2UgKz0gdHlwZSArICcvJztcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmJhc2UgKz0gdHlwZSArICdNYW5hZ2VyLnBocCc7XHJcblx0XHRcdC8qIGpzaGludCBpZ25vcmU6ZW5kICovXHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byBnZXQuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09IHF1ZXJ5IHJlc3VsdHMgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXQoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGlzLmJhc2UsIHtwYXJhbXM6IHsgaWQ6IGlkIH19KSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cdFx0LyoqXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09IHF1ZXJ5IHJlc3VsdHMgb24gc3VjY2Vzcy5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXRCeVVzZXIoKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQodGhpcy5iYXNlLCB7cGFyYW1zOiB7YnlVc2VyOiB0cnVlfX0pIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0V2hlcmUod2hlcmUsIGJpbmRpbmdzKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQodGhpcy5iYXNlLCB7cGFyYW1zOiB7IHdoZXJlOiB3aGVyZSwgYmluZGluZ3M6IEpTT04uc3RyaW5naWZ5KGJpbmRpbmdzKSB9fSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX1cdGRhdGFcdERhdGEgb2YgaXRlbSB0byBjcmVhdGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAxIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlKGRhdGEpIHtcclxuXHRcdFx0ZGF0YSA9IHRoaXMucmVtb3ZlVW5lY2Vzc2FyeUtleXMoZGF0YSk7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QodGhpcy5iYXNlLCBkYXRhKSAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9XHRpZFx0XHRJRCBvZiBpdGVtIHR5cGUgdG8gdXBkYXRlLlxyXG5cdFx0KiBAcGFyYW1cdHttaXhlZFtdfVx0ZGF0YVx0RGF0YSBvZiBpdGVtIHRvIHVwZGF0ZS5cclxuXHRcdCpcclxuXHRcdCogQHJldHVyblx0e3N0cmluZ1tdfVx0XHRcdFByb21pc2Ugd2l0aCAnZGF0YScgPT09ICcxJyBvbiBzdWNjZXNzLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZShpZCwgZGF0YSkge1xyXG5cdFx0XHRkYXRhID0gdGhpcy5yZW1vdmVVbmVjZXNzYXJ5S2V5cyhkYXRhKTsgIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KHRoaXMuYmFzZSwgZGF0YSwge3BhcmFtczogeyBpZDogaWQgfX0pIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byBkZWxldGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmdbXX1cdFx0XHRQcm9taXNlIHdpdGggJ2RhdGEnID09PSAxIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUodGhpcy5iYXNlLCB7cGFyYW1zOiB7IGlkOiBpZCB9fSkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIFx0e3N0cmluZ31cdHdoZXJlIFx0V2hlcmUgY2xhdXNlLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nW119XHRcdFx0UHJvbWlzZSB3aXRoICdkYXRhJyA+PSAwIG9uIHN1Y2Nlc3MuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlV2hlcmUod2hlcmUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSh0aGlzLmJhc2UgKyAnP3VzZXdoZXJlPXRydWUmd2hlcmU9JyArIGVzY2FwZSh3aGVyZSkpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHJldHVybiByZXNwb25zZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlRmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHN1Y2Nlc3M6ICdmYWxzZScsXHJcblx0XHRcdFx0dGl0bGU6ICdFcnJvciB3aGVuIHF1ZXJ5aW5nIHNlcnZlci4nLFxyXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEl0ZW0gZGF0YSBwYXNzZWQgaW4gbWF5IHN0aWxsIGhhdmUgdGhlaXIgaWRzIG9yIGFsaWFzIGZpZWxkcyAoZm9yIGFjdGl2aXRpZXMpXHJcblx0XHQqIGVtYmVkZGVkLCB3aGljaCB3aWxsIGNhbiBjYXVzZSBlcnJvcnMgaW4gdGhlIFNRTC5cclxuXHRcdCpcclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX0gZGF0YVxyXG5cdFx0KiBAcmV0dXJuXHR7bWl4ZWRbXX1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmVVbmVjZXNzYXJ5S2V5cyhkYXRhKSB7XHJcblx0XHRcdHZhciB0b0RlbGV0ZSA9IFsnaWQnLCAncGVyc29uX2lkJywgdGhpcy50eXBlICsgJ19pZCcsICdhY3Rpdml0eV9pbmZvX2lkJywgJ3BhcmVudF9uYW1lJ107ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0b0RlbGV0ZS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGRlbGV0ZSBkYXRhW3RvRGVsZXRlW2ldXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBVc2VkIHRvIGFjY2VzcyBzZXNzaW9uIHZhcmlhYmxlcy5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3Nlc3Npb25TZXJ2aWNlJywgc2Vzc2lvblNlcnZpY2UpO1xyXG5cclxuXHRzZXNzaW9uU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gc2Vzc2lvblNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmJhc2UgPSAnYXBpL3Nlc3Npb24vc2Vzc2lvblZhck1hbmFnZXIucGhwP3Zhcj0nO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldFZhcjogZ2V0VmFyLFxyXG5cdFx0XHRzZXRWYXI6IHNldFZhclxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfSAkbmFtZVx0VmFyaWFibGUgbmFtZSB0byBnZXQgZnJvbSBzZXNzaW9uLlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfSBcdFx0UHJvbWlzZSBvciBlcnJvciBvbiBmYWlsLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGdldFZhcigkbmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KHZtLmJhc2UgKyAkbmFtZSlcclxuXHRcdFx0XHQudGhlbihwcm9taXNlQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKHByb21pc2VGYWlsZWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW1cdHtzdHJpbmd9ICRuYW1lXHRWYXJpYWJsZSBuYW1lIHRvIGdldCBmcm9tIHNlc3Npb24uXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmd9IFx0XHRQcm9taXNlIG9yIGVycm9yIG9uIGZhaWwuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gc2V0VmFyKCRuYW1lLCAkdmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3Qodm0uYmFzZSArICRuYW1lLCAkdmFsdWUpXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VGYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0c3VjY2VzczogJ2ZhbHNlJyxcclxuXHRcdFx0XHR0aXRsZTogJ0Vycm9yIHdoZW4gYWNjZXNzaW5nIHZhcmlhYmxlLicsXHJcblx0XHRcdFx0bWVzc2FnZTogZXJyb3JcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFRvIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBhdXRvZm9jdXMgYXR0cmlidXRlIHRvIGF1dG8tZm9jdXNcclxuXHQqIG1vZGFsIGlucHV0cy5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BBdXRvRm9jdXMnLCBhdXRvRm9jdXNEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBhdXRvRm9jdXNEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRsaW5rOiBsaW5rXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XHJcblx0XHRcdGVsZW1lbnRbMF0uZm9jdXMoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIENvbXBhcmUgYW4gaW5wdXQgZmllbGQgdG8gYW5vdGhlciBmaWVsZCwgZGV0ZXJtaW5lZCBieSB0aGUgZGV2LlxyXG5cdCovXHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcENvbXBhcmVUbycsIGNvbXBhcmVUb0RpcmVjdGl2ZSk7XHJcblxyXG5cdGZ1bmN0aW9uIGNvbXBhcmVUb0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlcXVpcmU6ICduZ01vZGVsJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRvdGhlck1vZGVsOiAnPXNwQ29tcGFyZVRvJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBsaW5rXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XHJcblx0XHRcdHZhciB1bmJpbmRXYXRjaCA9IHNjb3BlLiR3YXRjaCgnb3RoZXJNb2RlbCcsIHZhbGlkYXRlT25DaGFuZ2UpO1xyXG5cdFx0XHRuZ01vZGVsLiR2YWxpZGF0b3JzLnNwQ29tcGFyZVRvID0gY29tcGFyZVZhbHVlcztcclxuXHRcdFx0ZWxlbWVudC5vbignJGRlc3Ryb3knLCBjbGVhblVwKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNsZWFuVXAoKSB7XHJcblx0XHRcdFx0dW5iaW5kV2F0Y2goKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY29tcGFyZVZhbHVlcyh2aWV3VmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gKHZpZXdWYWx1ZSA9PT0gc2NvcGUub3RoZXJNb2RlbC4kdmlld1ZhbHVlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gdmFsaWRhdGVPbkNoYW5nZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuXHRcdFx0XHRuZ01vZGVsLiR2YWxpZGF0ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdMb2dvdXRDb250cm9sbGVyJywgTG9nb3V0Q29udHJvbGxlcik7XHJcblxyXG5cdExvZ291dENvbnRyb2xsZXIuJGluamVjdCA9IFsnbG9nb3V0U2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIExvZ291dENvbnRyb2xsZXIobG9nb3V0U2VydmljZSkge1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0bG9nb3V0U2VydmljZS5sb2dvdXQoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2xvZ291dFNlcnZpY2UnLCBsb2dvdXRTZXJ2aWNlKTtcclxuXHJcblx0bG9nb3V0U2VydmljZS4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRodHRwJywgJyRzdGF0ZScsICckbG9nJywgJ2NhY2hlU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGxvZ291dFNlcnZpY2UoJHJvb3RTY29wZSwgJGh0dHAsICRzdGF0ZSwgJGxvZywgY2FjaGVTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRsb2dvdXQ6IGxvZ291dFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBsb2dvdXQoKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCdhcGkvdXNlci9sb2dvdXRNYW5hZ2VyLnBocCcpXHJcblx0XHRcdFx0LnRoZW4obG9nb3V0Q29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKGxvZ291dEZhaWxlZCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dvdXRDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHRcdGNhY2hlU2VydmljZS5jbGVhckNhY2hlKCk7XHJcblx0XHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCd1cGRhdGVVc2VyJyk7XHJcblx0XHRcdFx0JHN0YXRlLmdvKCdsb2dpbicpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dvdXRGYWlsZWQoZXJyb3IpIHtcclxuXHRcdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFRoZSBmb3JtYXRzIG9mIHRoZSB0YXNrIGFuZCBldmVudCBtb2RhbHMuXHJcblx0KiBEaXNwbGF5IGZvcm1hdCBpcyB1c2VkIGZvciBhIHVzZXItZnJpZW5kbHkgZGF0ZS5cclxuXHQqIFN0b3JhZ2UgZm9ybWF0IGlzIHVzZWQgdG8gc3RvcmUgaW50byB0aGUgZGF0YWJhc2UuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdmb3JtYXRTZXJ2aWNlJywgZm9ybWF0U2VydmljZSk7XHJcblxyXG5cdGZvcm1hdFNlcnZpY2UuJGluamVjdCA9IFsnbW9tZW50J107XHJcblx0ZnVuY3Rpb24gZm9ybWF0U2VydmljZShtb21lbnQpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGZvcm1hdEZvckRpc3BsYXk6IGZvcm1hdEZvckRpc3BsYXksXHJcblx0XHRcdGZvcm1hdEZvclN0b3JhZ2U6IGZvcm1hdEZvclN0b3JhZ2UsXHJcblx0XHRcdGdldERpc3BsYXlGb3JtYXQ6IGdldERpc3BsYXlGb3JtYXQsXHJcblx0XHRcdHRvRGlzcGxheUZvcm1hdDogdG9EaXNwbGF5Rm9ybWF0LFxyXG5cdFx0XHR0b1N0b3JhZ2VGb3JtYXQ6IHRvU3RvcmFnZUZvcm1hdFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBmb3JtYXRGb3JEaXNwbGF5KGFjdGl2aXR5KSB7XHJcblx0XHRcdGlmIChhY3Rpdml0eS5oYXNPd25Qcm9wZXJ0eSgnZHRfc3RhcnQnKSkge1xyXG5cdFx0XHRcdGFjdGl2aXR5LmFsbF9kYXkgPSBwYXJzZUludChhY3Rpdml0eS5hbGxfZGF5KTtcclxuXHRcdFx0XHRhY3Rpdml0eS5kdF9zdGFydCA9IHRvRGlzcGxheUZvcm1hdChtb21lbnQoYWN0aXZpdHkuZHRfc3RhcnQpKTtcclxuXHRcdFx0XHRhY3Rpdml0eS5kdF9lbmQgPSB0b0Rpc3BsYXlGb3JtYXQobW9tZW50KGFjdGl2aXR5LmR0X2VuZCkpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChhY3Rpdml0eS5oYXNPd25Qcm9wZXJ0eSgnZHVlJykgJiYgYWN0aXZpdHkuZHVlKSB7XHJcblx0XHRcdFx0XHRhY3Rpdml0eS5kdWUgPSB0b0Rpc3BsYXlGb3JtYXQobW9tZW50KGFjdGl2aXR5LmR1ZSkpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGFjdGl2aXR5Lmhhc093blByb3BlcnR5KCdyZW1pbmRlcicpICYmIGFjdGl2aXR5LnJlbWluZGVyKSB7XHJcblx0XHRcdFx0XHRhY3Rpdml0eS5yZW1pbmRlciA9IHRvRGlzcGxheUZvcm1hdChtb21lbnQoYWN0aXZpdHkucmVtaW5kZXIpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBmb3JtYXRGb3JTdG9yYWdlKGFjdGl2aXR5KSB7XHJcblx0XHRcdHZhciBkaXNwbGF5Rm9ybWF0ID0gZ2V0RGlzcGxheUZvcm1hdCgpO1xyXG5cdFx0XHRpZiAoYWN0aXZpdHkuaGFzT3duUHJvcGVydHkoJ2R0X3N0YXJ0JykpIHtcclxuXHRcdFx0XHRhY3Rpdml0eS5kdF9zdGFydCA9IHRvU3RvcmFnZUZvcm1hdChtb21lbnQoYWN0aXZpdHkuZHRfc3RhcnQsIGRpc3BsYXlGb3JtYXQpKTtcclxuXHRcdFx0XHRhY3Rpdml0eS5kdF9lbmQgPSB0b1N0b3JhZ2VGb3JtYXQobW9tZW50KGFjdGl2aXR5LmR0X2VuZCwgZGlzcGxheUZvcm1hdCkpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChhY3Rpdml0eS5oYXNPd25Qcm9wZXJ0eSgnZHVlJykgJiYgYWN0aXZpdHkuZHVlKSB7XHJcblx0XHRcdFx0XHRhY3Rpdml0eS5kdWUgPSB0b1N0b3JhZ2VGb3JtYXQobW9tZW50KGFjdGl2aXR5LmR1ZSwgZGlzcGxheUZvcm1hdCkpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGFjdGl2aXR5Lmhhc093blByb3BlcnR5KCdyZW1pbmRlcicpICYmIGFjdGl2aXR5LnJlbWluZGVyKSB7XHJcblx0XHRcdFx0XHRhY3Rpdml0eS5yZW1pbmRlciA9IHRvU3RvcmFnZUZvcm1hdChtb21lbnQoYWN0aXZpdHkucmVtaW5kZXIsIGRpc3BsYXlGb3JtYXQpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGFjdGl2aXR5O1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldERpc3BsYXlGb3JtYXQoKSB7XHJcblx0XHRcdHJldHVybiAnaGg6bW0gYSBNTS1ERC1ZWVlZJztcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHttb21lbnQgT2JqZWN0fSBhY3Rpdml0eVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIHRvRGlzcGxheUZvcm1hdChhY3Rpdml0eSkge1xyXG5cdFx0XHRyZXR1cm4gYWN0aXZpdHkuZm9ybWF0KGdldERpc3BsYXlGb3JtYXQoKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbSB7bW9tZW50IE9iamVjdH0gYWN0aXZpdHlcclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiB0b1N0b3JhZ2VGb3JtYXQoYWN0aXZpdHkpIHtcclxuXHRcdFx0cmV0dXJuIGFjdGl2aXR5LmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ01vZGFsQ29udHJvbGxlcicsIE1vZGFsQ29udHJvbGxlcik7XHJcblxyXG5cdE1vZGFsQ29udHJvbGxlci4kaW5qZWN0ID0gWyckdWliTW9kYWxJbnN0YW5jZScsICdncm91cHMnLCAnaXRlbScsICdldmVudE1vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIE1vZGFsQ29udHJvbGxlcigkdWliTW9kYWxJbnN0YW5jZSwgZ3JvdXBzLCBpdGVtLCBldmVudE1vZGFsU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmdyb3VwcyA9IGdyb3VwcztcclxuXHRcdHZtLml0ZW0gPSBpdGVtO1xyXG5cclxuXHRcdHZtLmNhbmNlbCA9IGNhbmNlbDtcclxuXHRcdHZtLmNsb3NlID0gY2xvc2U7XHJcblx0XHR2bS5jb25maXJtID0gY29uZmlybTtcclxuXHRcdHZtLnJlbW92ZSA9IHJlbW92ZTtcclxuXHRcdHZtLnRvZ2dsZUFsbERheSA9IHRvZ2dsZUFsbERheTtcclxuXHJcblx0XHRmdW5jdGlvbiBjYW5jZWwoKSB7XHJcblx0XHRcdCR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNsb3NlKCkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNvbmZpcm0oZGF0YSkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShkYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZW1vdmUoZGF0YSkge1xyXG5cdFx0XHQkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKGRhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUFsbERheShldmVudCkge1xyXG5cdFx0XHRldmVudE1vZGFsU2VydmljZS50b2dnbGVBbGxEYXkoZXZlbnQpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignVXBsb2FkQ29udHJvbGxlcicsIFVwbG9hZENvbnRyb2xsZXIpO1xyXG5cclxuXHRVcGxvYWRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckaHR0cCcsICd1cGxvYWRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gVXBsb2FkQ29udHJvbGxlcigkc2NvcGUsICRodHRwLCB1cGxvYWRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdWMgPSB0aGlzO1xyXG5cdFx0dWMudXBsb2FkRmlsZSA9IHVwbG9hZEZpbGU7XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBsb2FkRmlsZShmaWxlLCBvbGRGaWxlKSB7XHJcblx0XHRcdHJldHVybiB1cGxvYWRTZXJ2aWNlLnVwbG9hZEZpbGUoZmlsZSlcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihmaWxlUGF0aCkgeyByZXR1cm4gZmlsZVBhdGg7IH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcEZpbGVDaGFuZ2UnLCB1cGxvYWREaXJlY3RpdmUpO1xyXG5cclxuXHR1cGxvYWREaXJlY3RpdmUuJGluamVjdCA9IFsnJHBhcnNlJ107XHJcblx0ZnVuY3Rpb24gdXBsb2FkRGlyZWN0aXZlKCRwYXJzZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1VwbG9hZENvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd1YycsXHJcblx0XHRcdGxpbms6IGxpbmssXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0c3BGaWxlQ2hhbmdlOiAnPScsXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuXHRcdFx0dmFyIG1heEZpbGVTaXplID0gMiAqIDEwMjQgKiAxMDI0O1xyXG5cdFx0XHR2YXIgZmlsZU1vZGVsID0gJHBhcnNlKGF0dHJzLnNwRmlsZUNoYW5nZSk7XHJcblx0XHRcdGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZmlsZUhhbmRsZXIsIGZhbHNlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGZpbGVIYW5kbGVyKGV2ZW50KSB7XHJcblx0XHRcdFx0c2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIGZpbGUgPSBlbGVtZW50WzBdLmZpbGVzWzBdO1xyXG5cclxuXHRcdFx0XHRcdGlmIChmaWxlLnNpemUgPD0gbWF4RmlsZVNpemUpIHtcclxuXHRcdFx0XHRcdFx0c2NvcGUudWMudXBsb2FkRmlsZShmaWxlKVxyXG5cdFx0XHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKGZpbGVQYXRoKSB7IHNjb3BlLnNwRmlsZUNoYW5nZSA9IGZpbGVQYXRoOyB9KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGFsZXJ0KFwiRmlsZSBtdXN0IGJlIGxlc3MgdGhhbiBcIiArIChtYXhGaWxlU2l6ZSAvIDEwMjQgLyAxMDI0KSArIFwiTUIuXCIpOy8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd1cGxvYWRTZXJ2aWNlJywgdXBsb2FkU2VydmljZSk7XHJcblxyXG5cdHVwbG9hZFNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIHVwbG9hZFNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHVwbG9hZEZpbGU6IHVwbG9hZEZpbGVcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBsb2FkRmlsZShmaWxlKSB7XHJcblx0XHRcdHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG5cdFx0XHRmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuXHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCdhcGkvdXBsb2FkL3VwbG9hZE1hbmFnZXIucGhwJywgZm9ybURhdGEsIHtcclxuXHRcdFx0XHR0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG5cdFx0XHRcdGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9XHJcblx0XHRcdH0pXHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRpZiAocmVzLmRhdGEuc3VjY2Vzcykge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzLmRhdGEuZGF0YTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRsb2cuZXJyb3IocmVzLnRpdGxlKTtcclxuXHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5jYXRjaChmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdCRsb2cuZXJyb3IocmVzKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0FkbWluQ29udHJvbGxlcicsIEFkbWluQ29udHJvbGxlcik7XHJcblxyXG5cdEFkbWluQ29udHJvbGxlci4kaW5qZWN0ID0gWydpc0FkbWluJywgJ3VzZXJzJywgJ3VzZXJTZXJ2aWNlJywgJ3VzZXJNb2RhbFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBBZG1pbkNvbnRyb2xsZXIoaXNBZG1pbiwgdXNlcnMsIHVzZXJTZXJ2aWNlLCB1c2VyTW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uaXNBZG1pbiA9IGlzQWRtaW47XHJcblx0XHR2bS51c2VycyA9IHVzZXJzO1xyXG5cdFx0dm0uc2hvd1VzZXJNb2RhbCA9IHNob3dVc2VyTW9kYWw7XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVc2VycygpIHtcclxuXHRcdFx0dXNlclNlcnZpY2UuZ2V0VXNlcnMoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7IHZtLnVzZXJzID0gcmVzcG9uc2U7IH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNob3dVc2VyTW9kYWwodXNlcikge1xyXG5cdFx0XHR1c2VyTW9kYWxTZXJ2aWNlLm9wZW5Vc2VyTW9kYWwodXNlcilcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkgeyBpZiAocmVzcG9uc2UpIHZtLnVzZXJzID0gcmVzcG9uc2U7IH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgTG9naW5Db250cm9sbGVyKTtcclxuXHJcblx0TG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJ2xvZ2luU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihsb2dpblNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHR2bS5lcnJvciA9ICcnO1xyXG5cclxuXHRcdHZtLmxvZ2luID0gbG9naW47XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIExvZ2luU2VydmljZSB3aWxsIHJlZGlyZWN0IGlmIHRoZXJlIGlzIG5vIGVycm9yLiBUaHVzLCB0aGVyZSdzIG9ubHkgYVxyXG5cdFx0KiBuZWVkIHRvIHJldHVybiBhIHByb21pc2UgaWYgdGhlcmUncyBhbiBlcnJvci5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBsb2dpbigpIHtcclxuXHRcdFx0dm0ubG9hZGluZyA9IHRydWU7XHJcblx0XHRcdGxvZ2luU2VydmljZS5sb2dpbih2bS51c2VyKVxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHR2bS5lcnJvciA9IHJlc3BvbnNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnbG9naW5TZXJ2aWNlJywgbG9naW5TZXJ2aWNlKTtcclxuXHJcblx0bG9naW5TZXJ2aWNlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJGh0dHAnLCAnJHN0YXRlJywgJyRsb2cnLCAnY2FjaGVTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gbG9naW5TZXJ2aWNlKCRyb290U2NvcGUsICRodHRwLCAkc3RhdGUsICRsb2csIGNhY2hlU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bG9naW46IGxvZ2luXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxvZ2luKHVzZXIpIHtcclxuXHRcdFx0dXNlci5uYW1lID0gdXNlci5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG5cclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJ2FwaS91c2VyL2xvZ2luTWFuYWdlci5waHAnLCB1c2VyKVxyXG5cdFx0XHRcdC50aGVuKGxvZ2luQ29tcGxldGUpXHJcblx0XHRcdFx0LmNhdGNoKGxvZ2luRmFpbGVkKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGxvZ2luQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGEudGl0bGU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjYWNoZVNlcnZpY2UuY2FjaGVBbGwoKTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3VwZGF0ZVVzZXInKTtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2Rhc2hib2FyZCcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dpbkZhaWxlZChlcnJvcikge1xyXG5cdFx0XHRcdCRsb2cuZXJyb3IoZXJyb3IpO1xyXG5cdFx0XHRcdHJldHVybiAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ29udHJvbGxlcicsIFJlZ2lzdGVyQ29udHJvbGxlcik7XHJcblxyXG5cdFJlZ2lzdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWydyZWdpc3RlclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBSZWdpc3RlckNvbnRyb2xsZXIocmVnaXN0ZXJTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0uZXJyb3IgPSAnJztcclxuXHRcdHZtLmxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdHZtLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XHJcblx0XHRcdHZtLmxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRyZWdpc3RlclNlcnZpY2UucmVnaXN0ZXIodm0udXNlcilcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dm0uZXJyb3IgPSByZXNwb25zZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3JlZ2lzdGVyU2VydmljZScsIHJlZ2lzdGVyU2VydmljZSk7XHJcblxyXG5cdHJlZ2lzdGVyU2VydmljZS4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnJGxvZycsICdjcnVkU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIHJlZ2lzdGVyU2VydmljZSgkbG9jYXRpb24sICRsb2csIGNydWRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5jcnVkID0gbmV3IGNydWRTZXJ2aWNlKCd1c2VyJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVnaXN0ZXI6IHJlZ2lzdGVyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlZ2lzdGVyKHVzZXIpIHtcclxuXHRcdFx0dXNlci5uYW1lID0gdXNlci5uYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHZtLmNydWQuY3JlYXRlKHVzZXIpXHJcblx0XHRcdFx0LnRoZW4ocmVnaXN0cmF0aW9uQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gcmVnaXN0cmF0aW9uQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2Uuc3VjY2VzcyA9PT0gJ2ZhbHNlJykge1xyXG5cdFx0XHRcdFx0JGxvZy5lcnJvcihyZXNwb25zZS50aXRsZSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UudGl0bGU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRsb2NhdGlvbi51cmwoJy9sb2dpbicpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdMYWJlbFBhZ2VDb250cm9sbGVyJywgTGFiZWxQYWdlQ29udHJvbGxlcik7XHJcblxyXG5cdExhYmVsUGFnZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHN0YXRlUGFyYW1zJ107XHJcblx0ZnVuY3Rpb24gTGFiZWxQYWdlQ29udHJvbGxlcigkc3RhdGVQYXJhbXMpIHtcclxuXHRcdHRoaXMubGFiZWxJZCA9ICRzdGF0ZVBhcmFtcy5sYWJlbElkO1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnYWNjZXNzU2VydmljZScsIGFjY2Vzc1NlcnZpY2UpO1xyXG5cclxuXHRhY2Nlc3NTZXJ2aWNlLiRpbmplY3QgPSBbJyRxJywgJ3Nlc3Npb25TZXJ2aWNlJywgJ3N0YXR1c1NlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBhY2Nlc3NTZXJ2aWNlKCRxLCBzZXNzaW9uU2VydmljZSwgc3RhdHVzU2VydmljZSkge1xyXG5cdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRpc0F1dGhlbnRpY2F0ZWQ6IGlzQXV0aGVudGljYXRlZCxcclxuXHRcdFx0aXNBZG1pbjogaXNBZG1pblxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ25hbWUnKVxyXG5cdFx0XHRcdC50aGVuKGlzQXV0aGVudGljYXRlZENvbXBsZXRlKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZENvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoc3RhdHVzU2VydmljZS5PSyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChzdGF0dXNTZXJ2aWNlLlVOQVVUSE9SSVpFRCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGlzQWRtaW4oKSB7XHJcblx0XHRcdHJldHVybiBzZXNzaW9uU2VydmljZS5nZXRWYXIoJ2FkbWluJylcclxuXHRcdFx0XHQudGhlbihpc0FkbWluQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gaXNBZG1pbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSB8fCByZXN1bHQuZGF0YSA9PT0gJzAnKSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3Qoc3RhdHVzU2VydmljZS5GT1JCSURERU4pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHN0YXR1c1NlcnZpY2UuT0spO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0LyoqXHJcblx0KiBTdGF0dXMgY29kZXMgdXNlZCB3aGVuIGFjY2Vzc2luZyB2YXJpb3VzIHBhZ2VzIGluIHRoZSBhcHAuXHJcblx0Ki9cclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5zZXJ2aWNlKCdzdGF0dXNTZXJ2aWNlJywgc3RhdHVzU2VydmljZSk7XHJcblxyXG5cdGZ1bmN0aW9uIHN0YXR1c1NlcnZpY2UoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRPSzogMjAwLFxyXG5cdFx0XHRVTkFVVEhPUklaRUQ6IDQwMSxcclxuXHRcdFx0Rk9SQklEREVOOiA0MDNcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignRXZlbnRzQ29udHJvbGxlcicsIEV2ZW50c0NvbnRyb2xsZXIpO1xyXG5cclxuXHRFdmVudHNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnY2FsZW5kYXJXaWRnZXRTZXJ2aWNlJywgJ2NhbGVuZGFyU2VydmljZScsICdldmVudHNTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gRXZlbnRzQ29udHJvbGxlcigkcm9vdFNjb3BlLCBjYWxlbmRhcldpZGdldFNlcnZpY2UsIGNhbGVuZGFyU2VydmljZSwgZXZlbnRzU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmV2ZW50cyA9IFtdO1xyXG5cdFx0dm0uY2FsZW5kYXIgPSBbXTtcclxuXHJcblx0XHR2bS50b2RheSA9IG51bGw7XHJcblx0XHR2bS5zZWxlY3RlZERheSA9IG51bGw7XHJcblx0XHR2bS5tb250aCA9IG51bGw7XHJcblxyXG5cdFx0dm0uZGF5Q2xpY2tlZCA9IGRheUNsaWNrZWQ7XHJcblx0XHR2bS5pc1NhbWVEYXlBc1NlbGVjdGVkID0gaXNTYW1lRGF5QXNTZWxlY3RlZDtcclxuXHRcdHZtLnNob3dFdmVudE1vZGFsID0gc2hvd0V2ZW50TW9kYWw7XHJcblx0XHR2bS5sYXN0TW9udGggPSBsYXN0TW9udGg7XHJcblx0XHR2bS5uZXh0TW9udGggPSBuZXh0TW9udGg7XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0dXBkYXRlQ2FsZW5kYXJzKCk7XHJcblx0XHRcdHVwZGF0ZUV2ZW50cygpO1xyXG5cclxuXHRcdFx0JHJvb3RTY29wZS4kb24oJ3VwZGF0ZUNhbGVuZGFycycsIHVwZGF0ZUNhbGVuZGFycyk7XHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCd1cGRhdGVFdmVudHMnLCB1cGRhdGVFdmVudHMpO1xyXG5cclxuXHRcdFx0dm0udG9kYXkgPSBjYWxlbmRhcldpZGdldFNlcnZpY2UuZ2V0VG9kYXkoKTtcclxuXHRcdFx0dm0uc2VsZWN0ZWREYXkgPSB2bS50b2RheTtcclxuXHRcdFx0dm0ubW9udGggPSBjYWxlbmRhcldpZGdldFNlcnZpY2UuZ2V0TW9udGgodm0udG9kYXkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRheUNsaWNrZWQoY2xpY2tFdmVudCwgZGF5KSB7XHJcblx0XHRcdHZtLnNlbGVjdGVkRGF5ID0gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLmRheUNsaWNrZWQoY2xpY2tFdmVudCwgZGF5LCB2bS5zZWxlY3RlZERheSwgdm0uY2FsZW5kYXJzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBpc1NhbWVEYXlBc1NlbGVjdGVkKGRheSkge1xyXG5cdFx0XHRyZXR1cm4gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlLmlzU2FtZURheShkYXksIHZtLnNlbGVjdGVkRGF5KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaG93RXZlbnRNb2RhbChjbGlja0V2ZW50LCBldmVudCkge1xyXG5cdFx0XHRjYWxlbmRhcldpZGdldFNlcnZpY2Uuc2hvd0V2ZW50TW9kYWwoY2xpY2tFdmVudCwgZXZlbnQsIHZtLmNhbGVuZGFycyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbGFzdE1vbnRoKCkge1xyXG5cdFx0XHR2bS5tb250aCA9IGNhbGVuZGFyV2lkZ2V0U2VydmljZS5sYXN0TW9udGgodm0ubW9udGgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG5leHRNb250aCgpIHtcclxuXHRcdFx0dm0ubW9udGggPSBjYWxlbmRhcldpZGdldFNlcnZpY2UubmV4dE1vbnRoKHZtLm1vbnRoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVDYWxlbmRhcnMoKSB7XHJcblx0XHRcdHZtLmNhbGVuZGFycyA9IGNhbGVuZGFyU2VydmljZS5nZXRDYWxlbmRhcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVFdmVudHMoKSB7XHJcblx0XHRcdHZtLmV2ZW50cyA9IGV2ZW50c1NlcnZpY2UuZ2V0RXZlbnRzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwRXZlbnRzJywgZXZlbnRzRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gZXZlbnRzRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL2FjdGl2aXRpZXMvZXZlbnRzL2V2ZW50cy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ0V2ZW50c0NvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdldmVudHNTZXJ2aWNlJywgZXZlbnRzU2VydmljZSk7XHJcblxyXG5cdGV2ZW50c1NlcnZpY2UuJGluamVjdCA9IFsnY3J1ZFNlcnZpY2UnLCAnY2FjaGVTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gZXZlbnRzU2VydmljZShjcnVkU2VydmljZSwgY2FjaGVTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5ldmVudCA9IG5ldyBjcnVkU2VydmljZSgnZXZlbnQnKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVFdmVudDogY3JlYXRlRXZlbnQsXHJcblx0XHRcdGNyZWF0ZU9yVXBkYXRlRXZlbnQ6IGNyZWF0ZU9yVXBkYXRlRXZlbnQsXHJcblx0XHRcdGRlbGV0ZUV2ZW50OiBkZWxldGVFdmVudCxcclxuXHRcdFx0Z2V0RXZlbnRzOiBnZXRFdmVudHMsXHJcblx0XHRcdHVwZGF0ZUV2ZW50OiB1cGRhdGVFdmVudFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVFdmVudChldmVudCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uZXZlbnQuY3JlYXRlKGV2ZW50KS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVFdmVudChldmVudCkge1xyXG5cdFx0XHRpZiAoIWV2ZW50LmV2ZW50X2lkKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZUV2ZW50KGV2ZW50KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdXBkYXRlRXZlbnQoZXZlbnQuZXZlbnRfaWQsIGV2ZW50KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVFdmVudChpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uZXZlbnQucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0RXZlbnRzKCkge1xyXG5cdFx0XHRyZXR1cm4gY2FjaGVTZXJ2aWNlLmdldEV2ZW50cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUV2ZW50KGlkLCBldmVudCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uZXZlbnQudXBkYXRlKGlkLCBldmVudCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0Y2FjaGVTZXJ2aWNlLmNhY2hlRXZlbnRzKCk7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignUmVjdXJyZW5jZUNvbnRyb2xsZXInLCBSZWN1cnJlbmNlQ29udHJvbGxlcik7XHJcblxyXG5cdFJlY3VycmVuY2VDb250cm9sbGVyLiRpbmplY3QgPSBbJ3JlY3VycmVuY2VNb2RhbFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBSZWN1cnJlbmNlQ29udHJvbGxlcihyZWN1cnJlbmNlTW9kYWxTZXJ2aWNlKSB7XHJcblx0XHR2YXIgcmMgPSB0aGlzO1xyXG5cdFx0cmMuc2hvd1JlY3VycmVuY2VNb2RhbCA9IHNob3dSZWN1cnJlbmNlTW9kYWw7XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd1JlY3VycmVuY2VNb2RhbCgpIHtcclxuXHRcdFx0aWYgKHJjLml0ZW0ucmVjdXJyZW5jZSkge1xyXG5cdFx0XHRcdHJlY3VycmVuY2VNb2RhbFNlcnZpY2Uub3BlblJlY3VycmVuY2VNb2RhbChyYy5pdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFJlcGVhdCcsIHJlY3VycmVuY2VEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiByZWN1cnJlbmNlRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL2FjdGl2aXRpZXMvcmVjdXJyZW5jZS9yZWN1cnJlbmNlLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnUmVjdXJyZW5jZUNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICdyYycsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0aXRlbTogJz0nXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdyZWN1cnJlbmNlU2VydmljZScsIHJlY3VycmVuY2VTZXJ2aWNlKTtcclxuXHJcblx0ZnVuY3Rpb24gcmVjdXJyZW5jZVNlcnZpY2UoKSB7XHJcblx0XHR2YXIgcmVjdXJyZW5jZUNvbHMgPSB7XHJcblx0XHRcdGZyZXE6IFsnaG91cmx5JywgJ2RhaWx5JywgJ3dlZWtseScsICdtb250aGx5JywgJ3llYXJseSddLFxyXG5cdFx0XHRkYXlzOiBbJ21vJywgJ3R1JywgJ3dlJywgJ3RoJywgJ2ZyJywgJ3NhJywgJ3N1J10sXHJcblx0XHRcdGJ5OiBbJ2J5X2hvdXInLCAnYnlfZGF5JywgJ2J5X21vbnRoX2RheScsICdieV95ZWFyX2RheScsICdieV93ZWVrX25vJywgJ2J5X21vbnRoJ11cclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y2xlYXJSZWN1cnJlbmNlOiBjbGVhclJlY3VycmVuY2UsXHJcblx0XHRcdGNvbnN0cnVjdFJlY3VycmVuY2U6IGNvbnN0cnVjdFJlY3VycmVuY2VcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2xlYXJSZWN1cnJlbmNlKGl0ZW0pIHtcclxuXHRcdFx0aXRlbS5yZWN1cnJlbmNlID0gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY29uc3RydWN0UmVjdXJyZW5jZShpdGVtKSB7XHJcblxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1Rhc2tzQ29udHJvbGxlcicsIFRhc2tzQ29udHJvbGxlcik7XHJcblxyXG5cdFRhc2tzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ3Rhc2tzU2VydmljZScsICdsYWJlbFNlcnZpY2UnLCAndGFza01vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFRhc2tzQ29udHJvbGxlcigkcm9vdFNjb3BlLCB0YXNrc1NlcnZpY2UsIGxhYmVsU2VydmljZSwgdGFza01vZGFsU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmxhYmVscyA9IFtdO1xyXG5cdFx0dm0udGFza3MgPSBbXTtcclxuXHRcdHZtLnNob3dUYXNrTW9kYWwgPSBzaG93VGFza01vZGFsO1xyXG5cdFx0dm0udG9nZ2xlQ29tcGxldGVkID0gdG9nZ2xlQ29tcGxldGVkO1xyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdHVwZGF0ZUxhYmVscygpO1xyXG5cdFx0XHR1cGRhdGVUYXNrcygpO1xyXG5cclxuXHRcdFx0JHJvb3RTY29wZS4kb24oJ3VwZGF0ZUxhYmVscycsIHVwZGF0ZUxhYmVscyk7XHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCd1cGRhdGVUYXNrcycsIHVwZGF0ZVRhc2tzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaG93VGFza01vZGFsKHRhc2spIHtcclxuXHRcdFx0dGFza01vZGFsU2VydmljZS5vcGVuVGFza01vZGFsKHRhc2ssIHZtLmxhYmVscyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQ29tcGxldGVkKHRhc2spIHtcclxuXHRcdFx0dGFza3NTZXJ2aWNlLnRvZ2dsZUNvbXBsZXRlZCh0YXNrKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVMYWJlbHMoKSB7XHJcblx0XHRcdHZtLmxhYmVscyA9IGxhYmVsU2VydmljZS5nZXRMYWJlbHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVUYXNrcygpIHtcclxuXHRcdFx0dm0udGFza3MgPSB0YXNrc1NlcnZpY2UuZ2V0VGFza3MoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BUYXNrcycsIHRhc2tzRGlyZWN0aXZlKTtcclxuXHJcblx0ZnVuY3Rpb24gdGFza3NEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvYWN0aXZpdGllcy90YXNrcy90YXNrcy5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1Rhc2tzQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRvcmRlcjogJz0nLFxyXG5cdFx0XHRcdGRheXM6ICc9d2l0aGluRGF5cycsXHJcblx0XHRcdFx0aW5MYWJlbHM6ICc9aW5Hcm91cHMnXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd0YXNrc1NlcnZpY2UnLCB0YXNrc1NlcnZpY2UpO1xyXG5cclxuXHR0YXNrc1NlcnZpY2UuJGluamVjdCA9IFsnY3J1ZFNlcnZpY2UnLCAnY2FjaGVTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gdGFza3NTZXJ2aWNlKGNydWRTZXJ2aWNlLCBjYWNoZVNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLnRhc2sgPSBuZXcgY3J1ZFNlcnZpY2UoJ3Rhc2snKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVUYXNrOiBjcmVhdGVUYXNrLFxyXG5cdFx0XHRjcmVhdGVPclVwZGF0ZVRhc2s6IGNyZWF0ZU9yVXBkYXRlVGFzayxcclxuXHRcdFx0ZGVsZXRlVGFzazogZGVsZXRlVGFzayxcclxuXHRcdFx0Z2V0VGFza3M6IGdldFRhc2tzLFxyXG5cdFx0XHR0b2dnbGVDb21wbGV0ZWQ6IHRvZ2dsZUNvbXBsZXRlZCxcclxuXHRcdFx0dXBkYXRlVGFzazogdXBkYXRlVGFza1xyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVUYXNrKHRhc2spIHtcclxuXHRcdFx0cmV0dXJuIHZtLnRhc2suY3JlYXRlKHRhc2spLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVRhc2sodGFzaykge1xyXG5cdFx0XHRpZiAoIXRhc2sudGFza19pZCkge1xyXG5cdFx0XHRcdHJldHVybiBjcmVhdGVUYXNrKHRhc2spO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB1cGRhdGVUYXNrKHRhc2sudGFza19pZCwgdGFzayk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlVGFzayhpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0udGFzay5yZW1vdmUoaWQpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRUYXNrcygpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlU2VydmljZS5nZXRUYXNrcygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZCh0YXNrKSB7XHJcblx0XHRcdHRhc2suY29tcGxldGVkID0gIXBhcnNlSW50KHRhc2suY29tcGxldGVkKTtcclxuXHRcdFx0cmV0dXJuIHVwZGF0ZVRhc2sodGFzay50YXNrX2lkLCB0YXNrKS50aGVuKGdldFRhc2tzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVUYXNrKGlkLCB0YXNrKSB7XHJcblx0XHRcdHJldHVybiB2bS50YXNrLnVwZGF0ZShpZCwgdGFzaykudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0Y2FjaGVTZXJ2aWNlLmNhY2hlVGFza3MoKTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdDYWxlbmRhclVzZXJDb250cm9sbGVyJywgQ2FsZW5kYXJVc2VyQ29udHJvbGxlcik7XHJcblxyXG5cdENhbGVuZGFyVXNlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnY2FsZW5kYXJVc2VyU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIENhbGVuZGFyVXNlckNvbnRyb2xsZXIoY2FsZW5kYXJVc2VyU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdC8vIHZtLmxhYmVscyA9IFtdO1xyXG5cdFx0Ly8gdm0udGFza3MgPSBbXTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmRpcmVjdGl2ZSgnc3BTaGFyZWRDYWxlbmRhcnMnLCBjYWxlbmRhclVzZXJEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBjYWxlbmRhclVzZXJEaXJlY3RpdmUoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvY29sbGFiL2NvbGxhYi5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ0NhbGVuZGFyVXNlckNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0aXRlbXM6ICc9JyxcclxuXHRcdFx0XHRncm91cHM6ICc9JyxcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2NhbGVuZGFyVXNlclNlcnZpY2UnLCBjYWxlbmRhclVzZXJTZXJ2aWNlKTtcclxuXHJcblx0Y2FsZW5kYXJVc2VyU2VydmljZS4kaW5qZWN0ID0gWydjcnVkU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGNhbGVuZGFyVXNlclNlcnZpY2UoY3J1ZFNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmNhbGVuZGFyVXNlciA9IG5ldyBjcnVkU2VydmljZSgnY2FsZW5kYXJVc2VyJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Y3JlYXRlQ2FsZW5kYXJVc2VyOiBjcmVhdGVDYWxlbmRhclVzZXIsXHJcblx0XHRcdGNyZWF0ZU9yVXBkYXRlQ2FsZW5kYXJVc2VyOiBjcmVhdGVPclVwZGF0ZUNhbGVuZGFyVXNlcixcclxuXHRcdFx0ZGVsZXRlQ2FsZW5kYXJVc2VyOiBkZWxldGVDYWxlbmRhclVzZXIsXHJcblx0XHRcdGdldFNoYXJlZENhbGVuZGFyczogZ2V0U2hhcmVkQ2FsZW5kYXJzLFxyXG5cdFx0XHRnZXRTaGFyZWRVc2Vyc0ZvckNhbGVuZGFyOiBnZXRTaGFyZWRVc2Vyc0ZvckNhbGVuZGFyLFxyXG5cdFx0XHRnZXRFdmVudHNGb3JDYWxlbmRhcjogZ2V0RXZlbnRzRm9yQ2FsZW5kYXIsXHJcblx0XHRcdHVwZGF0ZUNhbGVuZGFyVXNlcjogdXBkYXRlQ2FsZW5kYXJVc2VyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZUNhbGVuZGFyVXNlcihjYWxlbmRhclVzZXIpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyVXNlci5jcmVhdGUoY2FsZW5kYXJVc2VyKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVDYWxlbmRhclVzZXIoY2FsZW5kYXJVc2VyKSB7XHJcblx0XHRcdGlmICghY2FsZW5kYXJVc2VyLmNhbGVuZGFyVXNlcl9pZCkge1xyXG5cdFx0XHRcdHJldHVybiBjcmVhdGVDYWxlbmRhclVzZXIoY2FsZW5kYXJVc2VyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdXBkYXRlQ2FsZW5kYXJVc2VyKGNhbGVuZGFyVXNlci5jYWxlbmRhclVzZXJfaWQsIGNhbGVuZGFyVXNlcik7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlQ2FsZW5kYXJVc2VyKGlkKSB7XHJcblx0XHRcdHJldHVybiB2bS5jYWxlbmRhclVzZXIucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVE9ETzogZml4IHRoaXMgZmlsdGh5IG92ZXJyaWRlIGRvbmUgZm9yIHRoZSBzYWtlIG9mIHRpbWUuXHJcblx0XHRmdW5jdGlvbiBnZXRTaGFyZWRDYWxlbmRhcnMoKSB7XHJcblx0XHRcdHJldHVybiB2bS5jYWxlbmRhclVzZXIuZ2V0V2hlcmUoJ2dyb3VwcycsIHt9KS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0U2hhcmVkVXNlcnNGb3JDYWxlbmRhcigpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyVXNlci5nZXRXaGVyZSgndXNlcnMnLCB7fSkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEV2ZW50c0ZvckNhbGVuZGFyKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXJVc2VyLmdldFdoZXJlKCdhY3Rpdml0aWVzJywge30pLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVDYWxlbmRhclVzZXIoaWQsIGNhbGVuZGFyVXNlcikge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXJVc2VyLnVwZGF0ZShpZCwgY2FsZW5kYXJVc2VyKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdsYWJlbFVzZXJTZXJ2aWNlJywgbGFiZWxVc2VyU2VydmljZSk7XHJcblxyXG5cdGxhYmVsVXNlclNlcnZpY2UuJGluamVjdCA9IFsnY3J1ZFNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBsYWJlbFVzZXJTZXJ2aWNlKGNydWRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5sYWJlbFVzZXIgPSBuZXcgY3J1ZFNlcnZpY2UoJ2xhYmVsVXNlcicpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZUxhYmVsVXNlcjogY3JlYXRlTGFiZWxVc2VyLFxyXG5cdFx0XHRjcmVhdGVPclVwZGF0ZUxhYmVsVXNlcjogY3JlYXRlT3JVcGRhdGVMYWJlbFVzZXIsXHJcblx0XHRcdGRlbGV0ZUxhYmVsVXNlcjogZGVsZXRlTGFiZWxVc2VyLFxyXG5cdFx0XHRnZXRTaGFyZWRMYWJlbHM6IGdldFNoYXJlZExhYmVscyxcclxuXHRcdFx0Z2V0U2hhcmVkVXNlcnNGb3JMYWJlbDogZ2V0U2hhcmVkVXNlcnNGb3JMYWJlbCxcclxuXHRcdFx0Z2V0RXZlbnRzRm9yTGFiZWw6IGdldEV2ZW50c0ZvckxhYmVsLFxyXG5cdFx0XHR1cGRhdGVMYWJlbFVzZXI6IHVwZGF0ZUxhYmVsVXNlclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVMYWJlbFVzZXIobGFiZWxVc2VyKSB7XHJcblx0XHRcdHJldHVybiB2bS5sYWJlbFVzZXIuY3JlYXRlKGxhYmVsVXNlcikudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlTGFiZWxVc2VyKGxhYmVsVXNlcikge1xyXG5cdFx0XHRpZiAoIWxhYmVsVXNlci5sYWJlbFVzZXJfaWQpIHtcclxuXHRcdFx0XHRyZXR1cm4gY3JlYXRlTGFiZWxVc2VyKGxhYmVsVXNlcik7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHVwZGF0ZUxhYmVsVXNlcihsYWJlbFVzZXIubGFiZWxVc2VyX2lkLCBsYWJlbFVzZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUxhYmVsVXNlcihpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWxVc2VyLnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFRPRE86IGZpeCB0aGlzIGZpbHRoeSBvdmVycmlkZSBkb25lIGZvciB0aGUgc2FrZSBvZiB0aW1lLlxyXG5cdFx0ZnVuY3Rpb24gZ2V0U2hhcmVkTGFiZWxzKCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWxVc2VyLmdldFdoZXJlKCdncm91cHMnLCB7fSkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFNoYXJlZFVzZXJzRm9yTGFiZWwoKSB7XHJcblx0XHRcdHJldHVybiB2bS5sYWJlbFVzZXIuZ2V0V2hlcmUoJ3VzZXJzJywge30pLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRFdmVudHNGb3JMYWJlbCgpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmxhYmVsVXNlci5nZXRXaGVyZSgnYWN0aXZpdGllcycsIHt9KS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlTGFiZWxVc2VyKGlkLCBsYWJlbFVzZXIpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmxhYmVsVXNlci51cGRhdGUoaWQsIGxhYmVsVXNlcikudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgndXNlck1vZGFsU2VydmljZScsIHVzZXJNb2RhbFNlcnZpY2UpO1xyXG5cclxuXHR1c2VyTW9kYWxTZXJ2aWNlLiRpbmplY3QgPSBbJyR1aWJNb2RhbCcsICd1c2VyU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIHVzZXJNb2RhbFNlcnZpY2UoJHVpYk1vZGFsLCB1c2VyU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0b3BlblVzZXJNb2RhbDogb3BlblVzZXJNb2RhbFxyXG5cdFx0fTtcclxuXHJcblx0XHQvKipcclxuXHRcdCogV2l0aG91dCBjbG9uaW5nIHRoZSB1c2VyLCBhbnkgY2hhbmdlcyBtYWRlIGluIHRoZSBtb2RhbCB3aWxsIGJlIHJlZmxlY3RlZFxyXG5cdFx0KiBpbiB0aGUgbWFpbiB3aW5kb3cgcmVnYXJkbGVzcyBvZiBpZiB0aGUgY2hhbmdlcyB3ZXJlIHNhdmVkIG9yIG5vdCwgd2hpY2hcclxuXHRcdCogbWVhbnMgYSB1c2VyIHdvdWxkIG5vdCBiZSBhYmxlIHRvIGNhbmNlbCB0aGVpciBjaGFuZ2VzIHVubGVzcyB0aGV5IHJlZnJlc2guXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gb3BlblVzZXJNb2RhbCh1c2VyKSB7XHJcblx0XHRcdHZhciBjbG9uZWRVc2VyID0ge307XHJcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKGNsb25lZFVzZXIsIHVzZXIpO1xyXG5cclxuXHRcdFx0cmV0dXJuICR1aWJNb2RhbC5vcGVuKHtcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTW9kYWxDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICd2bScsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdwYWdlcy9hZG1pbi9tb2RhbC91c2VyLm1vZGFsLmh0bWwnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGdyb3Vwczoge30sXHJcblx0XHRcdFx0XHRpdGVtOiBjbG9uZWRVc2VyXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHVzZXJTZXJ2aWNlLmNyZWF0ZU9yVXBkYXRlVXNlcihyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0LnRoZW4odXNlclNlcnZpY2UuZ2V0VXNlcnMpO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRpZiAoTnVtYmVyKHJlc3BvbnNlKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdXNlclNlcnZpY2UuZGVsZXRlVXNlcihyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0XHQudGhlbih1c2VyU2VydmljZS5nZXRVc2Vycyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgndXNlclNlcnZpY2UnLCB1c2VyU2VydmljZSk7XHJcblxyXG5cdHVzZXJTZXJ2aWNlLiRpbmplY3QgPSBbJ2NydWRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gdXNlclNlcnZpY2UoY3J1ZFNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLnVzZXIgPSBuZXcgY3J1ZFNlcnZpY2UoJ3VzZXInKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVVc2VyOiBjcmVhdGVVc2VyLFxyXG5cdFx0XHRjcmVhdGVPclVwZGF0ZVVzZXI6IGNyZWF0ZU9yVXBkYXRlVXNlcixcclxuXHRcdFx0ZGVsZXRlVXNlcjogZGVsZXRlVXNlcixcclxuXHRcdFx0Z2V0VXNlcnM6IGdldFVzZXJzLFxyXG5cdFx0XHR1cGRhdGVVc2VyOiB1cGRhdGVVc2VyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZVVzZXIodXNlcikge1xyXG5cdFx0XHRyZXR1cm4gdm0udXNlci5jcmVhdGUodXNlcikudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlVXNlcih1c2VyKSB7XHJcblx0XHRcdGlmICghdXNlci5pZCkge1xyXG5cdFx0XHRcdHJldHVybiBjcmVhdGVVc2VyKHVzZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB1cGRhdGVVc2VyKHVzZXIuaWQsIHVzZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZVVzZXIoaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLnVzZXIucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlcnMoKSB7XHJcblx0XHRcdHJldHVybiB2bS51c2VyLmdldFdoZXJlKCcnLCB7fSkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZVVzZXIoaWQsIHVzZXIpIHtcclxuXHRcdFx0cmV0dXJuIHZtLnVzZXIudXBkYXRlKGlkLCB1c2VyKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdHZhciByZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRpZiAocmVzLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlcy50aXRsZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdIZWFkZXJDb250cm9sbGVyJywgSGVhZGVyQ29udHJvbGxlcik7XHJcblxyXG5cdEhlYWRlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICd1c2VyJywgJ2hlYWRlclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBIZWFkZXJDb250cm9sbGVyKCRyb290U2NvcGUsIHVzZXIsIGhlYWRlclNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7XHJcblx0XHR2bS51c2VyID0gdXNlcjtcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRvbigndXBkYXRlVXNlcicsIHVwZGF0ZVVzZXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZVVzZXIoKSB7XHJcblx0XHRcdGhlYWRlclNlcnZpY2UuZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2bS51c2VyID0gcmVzcG9uc2U7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnaGVhZGVyU2VydmljZScsIGhlYWRlclNlcnZpY2UpO1xyXG5cclxuXHRoZWFkZXJTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnLCAnc2Vzc2lvblNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBoZWFkZXJTZXJ2aWNlKCRodHRwLCAkbG9nLCBzZXNzaW9uU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Z2V0VXNlcjogZ2V0VXNlclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyKCkge1xyXG5cdFx0XHRyZXR1cm4gc2Vzc2lvblNlcnZpY2UuZ2V0VmFyKCdhbGwnKVxyXG5cdFx0XHRcdC50aGVuKGdldE5hbWVDb21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBnZXROYW1lQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2YXIgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YTtcclxuXHJcblx0XHRcdFx0aWYgKHJlc3VsdC5zdWNjZXNzID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogJycsIGF2YXRhcjogJ2NvbnRlbnQvaW1nL3VzZXIucG5nJyB9O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIHJlc3VsdC5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignU2lkZWJhckNvbnRyb2xsZXInLCBTaWRlYmFyQ29udHJvbGxlcik7XHJcblxyXG5cdFNpZGViYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnc2hhcmVkQ2FsZW5kYXJzJywgJ3NoYXJlZExhYmVscycsICdsYWJlbFNlcnZpY2UnLCAnY2FsZW5kYXJTZXJ2aWNlJywgJ3NpZGViYXJTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gU2lkZWJhckNvbnRyb2xsZXIoJHJvb3RTY29wZSwgc2hhcmVkQ2FsZW5kYXJzLCBzaGFyZWRMYWJlbHMsIGxhYmVsU2VydmljZSwgY2FsZW5kYXJTZXJ2aWNlLCBzaWRlYmFyU2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHRcdHZtLmNvbGxhcHNlZCA9IHt9O1xyXG5cdFx0dm0ubGFiZWxzID0gW107XHJcblx0XHR2bS5jYWxlbmRhcnMgPSBbXTtcclxuXHRcdHZtLnNoYXJlZENhbGVuZGFycyA9IHNoYXJlZENhbGVuZGFycztcclxuXHRcdHZtLnNoYXJlZExhYmVscyA9IHNoYXJlZExhYmVscztcclxuXHJcblx0XHR2bS50b2dnbGVTaWRlYmFyID0gdG9nZ2xlU2lkZWJhcjtcclxuXHRcdHZtLnRvZ2dsZUNhbGVuZGFycyA9IHRvZ2dsZUNhbGVuZGFycztcclxuXHRcdHZtLnRvZ2dsZUxhYmVscyA9IHRvZ2dsZUxhYmVscztcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHR1cGRhdGVDYWxlbmRhcnMoKTtcclxuXHRcdFx0dXBkYXRlTGFiZWxzKCk7XHJcblxyXG5cdFx0XHR2bS5jb2xsYXBzZWQgPSBzaWRlYmFyU2VydmljZS5nZXRDb2xsYXBzZWQoKTtcclxuXHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCd1cGRhdGVDYWxlbmRhcnMnLCB1cGRhdGVDYWxlbmRhcnMpO1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRvbigndXBkYXRlTGFiZWxzJywgdXBkYXRlTGFiZWxzKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkge1xyXG5cdFx0XHR2bS5jb2xsYXBzZWQgPSBzaWRlYmFyU2VydmljZS50b2dnbGVTaWRlYmFyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQ2FsZW5kYXJzKCkge1xyXG5cdFx0XHR2bS5jb2xsYXBzZWQgPSBzaWRlYmFyU2VydmljZS50b2dnbGVDYWxlbmRhcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVMYWJlbHMoKSB7XHJcblx0XHRcdHZtLmNvbGxhcHNlZCA9IHNpZGViYXJTZXJ2aWNlLnRvZ2dsZUxhYmVscygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUNhbGVuZGFycygpIHtcclxuXHRcdFx0dm0uY2FsZW5kYXJzID0gY2FsZW5kYXJTZXJ2aWNlLmdldENhbGVuZGFycygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUxhYmVscygpIHtcclxuXHRcdFx0dm0ubGFiZWxzID0gbGFiZWxTZXJ2aWNlLmdldExhYmVscygpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnc2lkZWJhclNlcnZpY2UnLCBzaWRlYmFyU2VydmljZSk7XHJcblxyXG5cdHNpZGViYXJTZXJ2aWNlLiRpbmplY3QgPSBbJyR3aW5kb3cnXTtcclxuXHRmdW5jdGlvbiBzaWRlYmFyU2VydmljZSgkd2luZG93KSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXHJcblx0XHR2bS5jb2xsYXBzZWQgPSB7fTtcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdldENvbGxhcHNlZDogZ2V0Q29sbGFwc2VkLFxyXG5cdFx0XHR0b2dnbGVTaWRlYmFyOiB0b2dnbGVTaWRlYmFyLFxyXG5cdFx0XHR0b2dnbGVDYWxlbmRhcnM6IHRvZ2dsZUNhbGVuZGFycyxcclxuXHRcdFx0dG9nZ2xlTGFiZWxzOiB0b2dnbGVMYWJlbHNcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGlmICgkd2luZG93LmlubmVyV2lkdGggPCA2MDApIHtcclxuXHRcdFx0XHR2bS5jb2xsYXBzZWQgPSB7XHJcblx0XHRcdFx0XHRzaWRlYmFyOiB0cnVlLFxyXG5cdFx0XHRcdFx0Y2FsZW5kYXJzOiB0cnVlLFxyXG5cdFx0XHRcdFx0bGFiZWxzOiB0cnVlXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2bS5jb2xsYXBzZWQgPSB7XHJcblx0XHRcdFx0XHRzaWRlYmFyOiBmYWxzZSxcclxuXHRcdFx0XHRcdGNhbGVuZGFyczogZmFsc2UsXHJcblx0XHRcdFx0XHRsYWJlbHM6IGZhbHNlXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENvbGxhcHNlZCgpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNvbGxhcHNlZDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkge1xyXG5cdFx0XHR2bS5jb2xsYXBzZWQuc2lkZWJhciA9ICF2bS5jb2xsYXBzZWQuc2lkZWJhcjtcclxuXHRcdFx0aWYgKHZtLmNvbGxhcHNlZC5zaWRlYmFyKSB7XHJcblx0XHRcdFx0dm0uY29sbGFwc2VkLmNhbGVuZGFycyA9IHRydWU7XHJcblx0XHRcdFx0dm0uY29sbGFwc2VkLmxhYmVscyA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHZtLmNvbGxhcHNlZDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVDYWxlbmRhcnMoKSB7XHJcblx0XHRcdHZtLmNvbGxhcHNlZC5jYWxlbmRhcnMgPSAhdm0uY29sbGFwc2VkLmNhbGVuZGFycztcclxuXHRcdFx0aWYgKCF2bS5jb2xsYXBzZWQuY2FsZW5kYXJzKSB7XHJcblx0XHRcdFx0dm0uY29sbGFwc2VkLnNpZGViYXIgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdm0uY29sbGFwc2VkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUxhYmVscygpIHtcclxuXHRcdFx0dm0uY29sbGFwc2VkLmxhYmVscyA9ICF2bS5jb2xsYXBzZWQubGFiZWxzO1xyXG5cdFx0XHRpZiAoIXZtLmNvbGxhcHNlZC5sYWJlbHMpIHtcclxuXHRcdFx0XHR2bS5jb2xsYXBzZWQuc2lkZWJhciA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB2bS5jb2xsYXBzZWQ7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnY2FsZW5kYXJTZXJ2aWNlJywgY2FsZW5kYXJTZXJ2aWNlKTtcclxuXHJcblx0Y2FsZW5kYXJTZXJ2aWNlLiRpbmplY3QgPSBbJ2NydWRTZXJ2aWNlJywgJ2NhY2hlU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGNhbGVuZGFyU2VydmljZShjcnVkU2VydmljZSwgY2FjaGVTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5jYWxlbmRhciA9IG5ldyBjcnVkU2VydmljZSgnY2FsZW5kYXInKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjcmVhdGVDYWxlbmRhcjogY3JlYXRlQ2FsZW5kYXIsXHJcblx0XHRcdGRlbGV0ZUNhbGVuZGFyOiBkZWxldGVDYWxlbmRhcixcclxuXHRcdFx0Z2V0Q2FsZW5kYXJzOiBnZXRDYWxlbmRhcnMsXHJcblx0XHRcdHVwZGF0ZUNhbGVuZGFyOiB1cGRhdGVDYWxlbmRhclxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVDYWxlbmRhcihjYWxlbmRhcikge1xyXG5cdFx0XHRyZXR1cm4gdm0uY2FsZW5kYXIuY3JlYXRlKGNhbGVuZGFyKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlQ2FsZW5kYXIoaWQpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyLnJlbW92ZShpZCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENhbGVuZGFycygpIHtcclxuXHRcdFx0cmV0dXJuIGNhY2hlU2VydmljZS5nZXRDYWxlbmRhcnMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVDYWxlbmRhcihpZCwgY2FsZW5kYXIpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNhbGVuZGFyLnVwZGF0ZShpZCwgY2FsZW5kYXIpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG5cdFx0XHRcdGNhY2hlU2VydmljZS5jYWNoZUNhbGVuZGFycygpO1xyXG5cdFx0XHRcdHJldHVybiByZXN1bHQuZGF0YTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LnRpdGxlO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2V2ZW50TW9kYWxTZXJ2aWNlJywgZXZlbnRNb2RhbFNlcnZpY2UpO1xyXG5cclxuXHRldmVudE1vZGFsU2VydmljZS4kaW5qZWN0ID0gWyckdWliTW9kYWwnLCAnbW9tZW50JywgJ2V2ZW50c1NlcnZpY2UnLCAnZm9ybWF0U2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIGV2ZW50TW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgbW9tZW50LCBldmVudHNTZXJ2aWNlLCBmb3JtYXRTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuRXZlbnRNb2RhbDogb3BlbkV2ZW50TW9kYWwsXHJcblx0XHRcdHRvZ2dsZUFsbERheTogdG9nZ2xlQWxsRGF5XHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBXaXRob3V0IGNsb25pbmcgdGhlIGV2ZW50LCBhbnkgY2hhbmdlcyBtYWRlIGluIHRoZSBtb2RhbCB3aWxsIGJlIHJlZmxlY3RlZFxyXG5cdFx0KiBpbiB0aGUgbWFpbiB3aW5kb3cgcmVnYXJkbGVzcyBvZiBpZiB0aGUgY2hhbmdlcyB3ZXJlIHNhdmVkIG9yIG5vdCwgd2hpY2hcclxuXHRcdCogbWVhbnMgYSB1c2VyIHdvdWxkIG5vdCBiZSBhYmxlIHRvIGNhbmNlbCB0aGVpciBjaGFuZ2VzIHVubGVzcyB0aGV5IHJlZnJlc2guXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gb3BlbkV2ZW50TW9kYWwoZXZlbnQsIGNhbGVuZGFycykge1xyXG5cdFx0XHR2YXIgY2xvbmVkRXZlbnQgPSB7fTtcclxuXHRcdFx0YW5ndWxhci5leHRlbmQoY2xvbmVkRXZlbnQsIGV2ZW50KTtcclxuXHRcdFx0Zm9ybWF0U2VydmljZS5mb3JtYXRGb3JEaXNwbGF5KGNsb25lZEV2ZW50KTtcclxuXHJcblx0XHRcdHJldHVybiAkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9hY3Rpdml0aWVzL2V2ZW50cy9tb2RhbC9ldmVudC5tb2RhbC5odG1sJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRncm91cHM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FsZW5kYXJzOyB9LFxyXG5cdFx0XHRcdFx0aXRlbTogY2xvbmVkRXZlbnRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLnJlc3VsdFxyXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRmb3JtYXRTZXJ2aWNlLmZvcm1hdEZvclN0b3JhZ2UocmVzcG9uc2UpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGV2ZW50c1NlcnZpY2UuY3JlYXRlT3JVcGRhdGVFdmVudChyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0LnRoZW4oZXZlbnRzU2VydmljZS5nZXRFdmVudHMpO1xyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRpZiAoTnVtYmVyKHJlc3BvbnNlKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXZlbnRzU2VydmljZS5kZWxldGVFdmVudChyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0XHQudGhlbihldmVudHNTZXJ2aWNlLmdldEV2ZW50cyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdG9nZ2xlQWxsRGF5KGV2ZW50KSB7XHJcblx0XHRcdHZhciBkaXNwbGF5ID0gZm9ybWF0U2VydmljZS5nZXREaXNwbGF5Rm9ybWF0KCk7XHJcblxyXG5cdFx0XHRpZiAoZXZlbnQuYWxsX2RheSkge1xyXG5cdFx0XHRcdGV2ZW50LmR0X3N0YXJ0ID0gZm9ybWF0U2VydmljZS50b0Rpc3BsYXlGb3JtYXQobW9tZW50KGV2ZW50LmR0X3N0YXJ0LCBkaXNwbGF5KS5zdGFydE9mKCdkYXknKSk7XHJcblx0XHRcdFx0ZXZlbnQuZHRfZW5kID0gZm9ybWF0U2VydmljZS50b0Rpc3BsYXlGb3JtYXQobW9tZW50KGV2ZW50LmR0X3N0YXJ0LCBkaXNwbGF5KS5lbmRPZignZGF5JykpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBjdXJyZW50SG91ciA9IG1vbWVudCgpLnN0YXJ0T2YoJ2hvdXInKS5ob3VyKCk7XHJcblx0XHRcdFx0ZXZlbnQuZHRfc3RhcnQgPSBmb3JtYXRTZXJ2aWNlLnRvRGlzcGxheUZvcm1hdChtb21lbnQoZXZlbnQuZHRfc3RhcnQsIGRpc3BsYXkpLmhvdXIoY3VycmVudEhvdXIpKTtcclxuXHRcdFx0XHRldmVudC5kdF9lbmQgPSBmb3JtYXRTZXJ2aWNlLnRvRGlzcGxheUZvcm1hdChtb21lbnQoZXZlbnQuZHRfc3RhcnQsIGRpc3BsYXkpLmhvdXIoY3VycmVudEhvdXIpLmFkZCgxLCAnaG91cnMnKSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdjYWxlbmRhcldpZGdldFNlcnZpY2UnLCBjYWxlbmRhcldpZGdldFNlcnZpY2UpO1xyXG5cclxuXHRjYWxlbmRhcldpZGdldFNlcnZpY2UuJGluamVjdCA9IFsnbW9tZW50JywgJ2V2ZW50TW9kYWxTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gY2FsZW5kYXJXaWRnZXRTZXJ2aWNlKG1vbWVudCwgZXZlbnRNb2RhbFNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGRheUNsaWNrZWQ6IGRheUNsaWNrZWQsXHJcblx0XHRcdGdldE1vbnRoOiBnZXRNb250aCxcclxuXHRcdFx0Z2V0VG9kYXk6IGdldFRvZGF5LFxyXG5cdFx0XHRnZXRXZWVrOiBnZXRXZWVrLFxyXG5cdFx0XHRpc1NhbWVEYXk6IGlzU2FtZURheSxcclxuXHRcdFx0bGFzdE1vbnRoOiBsYXN0TW9udGgsXHJcblx0XHRcdG5leHRNb250aDogbmV4dE1vbnRoLFxyXG5cdFx0XHRzaG93RXZlbnRNb2RhbDogc2hvd0V2ZW50TW9kYWxcclxuXHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGF5Q2xpY2tlZChjbGlja0V2ZW50LCBkYXksIHNlbGVjdGVkRGF5LCBjYWxlbmRhcnMpIHtcclxuXHRcdFx0aWYgKGlzU2FtZURheShkYXkuZnVsbERhdGUsIHNlbGVjdGVkRGF5KSkge1xyXG5cdFx0XHRcdHNob3dFdmVudE1vZGFsKFxyXG5cdFx0XHRcdFx0Y2xpY2tFdmVudCxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0ZHRfc3RhcnQ6IGRheS5mdWxsRGF0ZSxcclxuXHRcdFx0XHRcdFx0ZHRfZW5kOiBkYXkuZnVsbERhdGUuY2xvbmUoKS5lbmRPZignZGF5JyksXHJcblx0XHRcdFx0XHRcdGFsbF9kYXk6IDEsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0Y2FsZW5kYXJzXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRyZXR1cm4gc2VsZWN0ZWREYXk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGRheS5mdWxsRGF0ZTtcclxuXHRcdH1cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0ge01vbWVudCBPYmplY3R9IGFEYXkgRGF5IHRvIGJ1aWxkIG1vbnRoIGFyb3VuZC5cclxuXHRcdCogQHJldHVybiB7TW9tZW50IE9iamVjdFtdW119XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0TW9udGgoYURheSkge1xyXG5cdFx0XHR2YXIgbW9udGggPSBbXTtcclxuXHRcdFx0dmFyIGRheSA9IGFEYXkuY2xvbmUoKS5kYXRlKDEpLnN0YXJ0T2YoJ3dlZWsnKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuXHRcdFx0XHRtb250aC5wdXNoKGdldFdlZWsoZGF5LCBhRGF5Lm1vbnRoKCkpKTtcclxuXHRcdFx0XHRkYXkgPSBkYXkuYWRkKDEsICd3ZWVrcycpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBtb250aDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRUb2RheSgpIHtcclxuXHRcdFx0cmV0dXJuIG1vbWVudCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBAcGFyYW0ge01vbWVudCBPYmplY3R9XHRzdGFydERheVx0U3RhcnRpbmcgZGF5IG9mIGEgd2Vlay5cclxuXHRcdCogQHBhcmFtIHtpbnR9XHRcdFx0XHR0YXJnZXRNb250aFx0TW9udGggbnVtYmVyIGJlaW5nIGJ1aWx0LlxyXG5cdFx0KlxyXG5cdFx0KiBAcmV0dXJuIHtNb21lbnQgT2JqZWN0W119XHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gZ2V0V2VlayhzdGFydERheSwgdGFyZ2V0TW9udGgpIHtcclxuXHRcdFx0dmFyIHdlZWsgPSBbXTtcclxuXHJcblx0XHRcdHZhciBkYXkgPSBzdGFydERheS5jbG9uZSgpO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDc7IGkrKykge1xyXG5cdFx0XHRcdHdlZWsucHVzaCh7XHJcblx0XHRcdFx0XHRudW1iZXI6IGRheS5kYXRlKCksXHJcblx0XHRcdFx0XHRpc1RhcmdldE1vbnRoOiAoZGF5Lm1vbnRoKCkgPT09IHRhcmdldE1vbnRoKSxcclxuXHRcdFx0XHRcdGlzVG9kYXk6IGRheS5pc1NhbWUobW9tZW50KCksICdkYXknKSxcclxuXHRcdFx0XHRcdGZ1bGxEYXRlOiBkYXlcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRkYXkgPSBkYXkuY2xvbmUoKS5hZGQoMSwgJ2RheXMnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHdlZWs7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH1cdGRheTFcclxuXHRcdCogQHBhcmFtIHtNb21lbnQgT2JqZWN0fVx0ZGF5MlxyXG5cdFx0KlxyXG5cdFx0KiBAcmV0dXJuIHtib29sfVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIGlzU2FtZURheShkYXkxLCBkYXkyKSB7XHJcblx0XHRcdHJldHVybiBkYXkxLmlzU2FtZShkYXkyLCAnZGF5Jyk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFNpbmNlIHNyY01vbnRoIGlzIGFuIGFycmF5IG9mIGRheXMgYnkgd2Vla3MsIGl0IGNvbnRhaW5zIGRheXMgbm90IGluIHRoZVxyXG5cdFx0KiBzb3VyY2UgbW9udGguIFRoZSBmaXJzdCBkYXkgb2YgdGhlIHRoaXJkIHdlZWsgb2YgdGhlIGdpdmVuIG1vbnRoIGlzXHJcblx0XHQqIGd1YXJhbnRlZWQgdG8gYmUgYSBkYXkgd2l0aGluIHRoZSBzb3VyY2UgbW9udGguXHJcblx0XHQqXHJcblx0XHQqIEBwYXJhbSB7TW9tZW50IE9iamVjdH1cdHNyY01vbnRoXHJcblx0XHQqIEByZXR1cm4ge01vbWVudCBPYmplY3RbXX1cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBsYXN0TW9udGgoc3JjTW9udGgpIHtcclxuXHRcdFx0cmV0dXJuIGdldE1vbnRoKHNyY01vbnRoWzNdWzBdLmZ1bGxEYXRlLmNsb25lKCkuc3VidHJhY3QoMSwgJ21vbnRocycpKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHNlZSBsYXN0TW9udGgoKVxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIG5leHRNb250aChzcmNNb250aCkge1xyXG5cdFx0XHRyZXR1cm4gZ2V0TW9udGgoc3JjTW9udGhbM11bMF0uZnVsbERhdGUuY2xvbmUoKS5hZGQoMSwgJ21vbnRocycpKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaG93RXZlbnRNb2RhbChjbGlja0V2ZW50LCBldmVudCwgY2FsZW5kYXJzKSB7XHJcblx0XHRcdGNsaWNrRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdGV2ZW50TW9kYWxTZXJ2aWNlLm9wZW5FdmVudE1vZGFsKGV2ZW50LCBjYWxlbmRhcnMpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3JlY3VycmVuY2VNb2RhbFNlcnZpY2UnLCByZWN1cnJlbmNlTW9kYWxTZXJ2aWNlKTtcclxuXHJcblx0cmVjdXJyZW5jZU1vZGFsU2VydmljZS4kaW5qZWN0ID0gWyckdWliTW9kYWwnLCAncmVjdXJyZW5jZVNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiByZWN1cnJlbmNlTW9kYWxTZXJ2aWNlKCR1aWJNb2RhbCwgcmVjdXJyZW5jZVNlcnZpY2UpIHtcclxuXHRcdHZhciByYyA9IHRoaXM7IC8vIGpzaGludCBpZ25vcmU6IGxpbmVcclxuXHRcdHZhciByZWN1cnJlbmNlSW5mbyA9IHtcclxuXHRcdFx0ZnJlcTogWydob3VybHknLCAnZGFpbHknLCAnd2Vla2x5JywgJ21vbnRobHknLCAneWVhcmx5J10sXHJcblx0XHRcdGRheXM6IFsnbW8nLCAndHUnLCAnd2UnLCAndGgnLCAnZnInLCAnc2EnLCAnc3UnXVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuUmVjdXJyZW5jZU1vZGFsOiBvcGVuUmVjdXJyZW5jZU1vZGFsXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIG9wZW5SZWN1cnJlbmNlTW9kYWwoaXRlbSkge1xyXG5cdFx0XHRyZXR1cm4gJHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdNb2RhbENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvYWN0aXZpdGllcy9yZWN1cnJlbmNlL21vZGFsL3JlY3VycmVuY2UubW9kYWwuaHRtbCcsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0Z3JvdXBzOiBmdW5jdGlvbigpIHsgcmV0dXJuIHJlY3VycmVuY2VJbmZvOyB9LFxyXG5cdFx0XHRcdFx0aXRlbTogaXRlbVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkucmVzdWx0XHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHJlY3VycmVuY2VTZXJ2aWNlLmNvbnN0cnVjdFJlY3VycmVuY2UoaXRlbSk7XHJcblx0XHRcdFx0fSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHJlY3VycmVuY2VTZXJ2aWNlLmNsZWFyUmVjdXJyZW5jZShpdGVtKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCdsYWJlbFNlcnZpY2UnLCBsYWJlbFNlcnZpY2UpO1xyXG5cclxuXHRsYWJlbFNlcnZpY2UuJGluamVjdCA9IFsnY3J1ZFNlcnZpY2UnLCAnY2FjaGVTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gbGFiZWxTZXJ2aWNlKGNydWRTZXJ2aWNlLCBjYWNoZVNlcnZpY2UpIHtcclxuXHRcdHZhciB2bSA9IHRoaXM7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdHZtLmxhYmVsID0gbmV3IGNydWRTZXJ2aWNlKCdsYWJlbCcpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZUxhYmVsOiBjcmVhdGVMYWJlbCxcclxuXHRcdFx0ZGVsZXRlTGFiZWw6IGRlbGV0ZUxhYmVsLFxyXG5cdFx0XHRnZXRMYWJlbHM6IGdldExhYmVscyxcclxuXHRcdFx0dXBkYXRlTGFiZWw6IHVwZGF0ZUxhYmVsXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZUxhYmVsKGxhYmVsKSB7XHJcblx0XHRcdHJldHVybiB2bS5sYWJlbC5jcmVhdGUobGFiZWwpLnRoZW4ocHJvbWlzZUNvbXBsZXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVMYWJlbChpZCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWwucmVtb3ZlKGlkKS50aGVuKHByb21pc2VDb21wbGV0ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0TGFiZWxzKCkge1xyXG5cdFx0XHRyZXR1cm4gY2FjaGVTZXJ2aWNlLmdldExhYmVscygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUxhYmVsKGlkLCBsYWJlbCkge1xyXG5cdFx0XHRyZXR1cm4gdm0ubGFiZWwudXBkYXRlKGlkLCBsYWJlbCkudGhlbihwcm9taXNlQ29tcGxldGUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb21pc2VDb21wbGV0ZShyZXNwb25zZSkge1xyXG5cdFx0XHR2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0aWYgKHJlcy5zdWNjZXNzKSB7XHJcblx0XHRcdFx0Y2FjaGVTZXJ2aWNlLmNhY2hlTGFiZWxzKCk7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXMudGl0bGU7XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnc3VidGFza01vZGFsU2VydmljZScsIHN1YnRhc2tNb2RhbFNlcnZpY2UpO1xyXG5cclxuXHRzdWJ0YXNrTW9kYWxTZXJ2aWNlLiRpbmplY3QgPSBbJyR1aWJNb2RhbCcsICdsYWJlbFNlcnZpY2UnLCAnc3VidGFza3NTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gc3VidGFza01vZGFsU2VydmljZSgkdWliTW9kYWwsIGxhYmVsU2VydmljZSwgc3VidGFza3NTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcGVuU3VidGFza01vZGFsOiBvcGVuU3VidGFza01vZGFsXHJcblx0XHR9O1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0KiBXaXRob3V0IGNsb25pbmcgdGhlIHN1YnRhc2ssIGFueSBjaGFuZ2VzIG1hZGUgaW4gdGhlIG1vZGFsIHdpbGwgYmUgcmVmbGVjdGVkXHJcblx0XHQqIGluIHRoZSBtYWluIHdpbmRvdyByZWdhcmRsZXNzIG9mIGlmIHRoZSBjaGFuZ2VzIHdlcmUgc2F2ZWQgb3Igbm90LCB3aGljaFxyXG5cdFx0KiBtZWFucyBhIHVzZXIgd291bGQgbm90IGJlIGFibGUgdG8gY2FuY2VsIHRoZWlyIGNoYW5nZXMgdW5sZXNzIHRoZXkgcmVmcmVzaC5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBvcGVuU3VidGFza01vZGFsKHN1YnRhc2ssIHRhc2spIHtcclxuXHRcdFx0dmFyIGNsb25lZFN1YnRhc2sgPSB7fTtcclxuXHRcdFx0YW5ndWxhci5leHRlbmQoY2xvbmVkU3VidGFzaywgc3VidGFzayk7XHJcblxyXG5cdFx0XHQkdWliTW9kYWwub3Blbih7XHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01vZGFsQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9hY3Rpdml0aWVzL3Rhc2tzL21vZGFsL3N1YnRhc2subW9kYWwuaHRtbCcsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0Z3JvdXBzOiB0YXNrLFxyXG5cdFx0XHRcdFx0aXRlbTogY2xvbmVkU3VidGFza1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkucmVzdWx0XHJcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRzdWJ0YXNrc1NlcnZpY2UuY3JlYXRlT3JVcGRhdGVTdWJ0YXNrKHJlcy5zdWJ0YXNrLCByZXMudGFzayk7XHJcblx0XHRcdFx0fSwgZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHJlcyAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdFx0c3VidGFza3NTZXJ2aWNlLmRlbGV0ZVN1YnRhc2socmVzLnN1YnRhc2ssIHJlcy50YXNrKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5mYWN0b3J5KCd0YXNrTW9kYWxTZXJ2aWNlJywgdGFza01vZGFsU2VydmljZSk7XHJcblxyXG5cdHRhc2tNb2RhbFNlcnZpY2UuJGluamVjdCA9IFsnJHVpYk1vZGFsJywgJ3Rhc2tzU2VydmljZScsICdmb3JtYXRTZXJ2aWNlJ107XHJcblx0ZnVuY3Rpb24gdGFza01vZGFsU2VydmljZSgkdWliTW9kYWwsIHRhc2tzU2VydmljZSwgZm9ybWF0U2VydmljZSkge1xyXG5cdFx0dmFyIHZtID0gdGhpczsgLy8ganNoaW50IGlnbm9yZTogbGluZVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG9wZW5UYXNrTW9kYWw6IG9wZW5UYXNrTW9kYWxcclxuXHRcdH07XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIFdpdGhvdXQgY2xvbmluZyB0aGUgdGFzaywgYW55IGNoYW5nZXMgbWFkZSBpbiB0aGUgbW9kYWwgd2lsbCBiZSByZWZsZWN0ZWRcclxuXHRcdCogaW4gdGhlIG1haW4gd2luZG93IHJlZ2FyZGxlc3Mgb2YgaWYgdGhlIGNoYW5nZXMgd2VyZSBzYXZlZCBvciBub3QsIHdoaWNoXHJcblx0XHQqIG1lYW5zIGEgdXNlciB3b3VsZCBub3QgYmUgYWJsZSB0byBjYW5jZWwgdGhlaXIgY2hhbmdlcyB1bmxlc3MgdGhleSByZWZyZXNoLlxyXG5cdFx0Ki9cclxuXHRcdGZ1bmN0aW9uIG9wZW5UYXNrTW9kYWwodGFzaywgbGFiZWxzKSB7XHJcblx0XHRcdHZhciBjbG9uZWRUYXNrID0ge307XHJcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKGNsb25lZFRhc2ssIHRhc2spO1xyXG5cdFx0XHRmb3JtYXRTZXJ2aWNlLmZvcm1hdEZvckRpc3BsYXkoY2xvbmVkVGFzayk7XHJcblxyXG5cdFx0XHRyZXR1cm4gJHVpYk1vZGFsLm9wZW4oe1xyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdNb2RhbENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ21vZHVsZXMvYWN0aXZpdGllcy90YXNrcy9tb2RhbC90YXNrLm1vZGFsLmh0bWwnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGdyb3VwczogZnVuY3Rpb24oKSB7IHJldHVybiBsYWJlbHM7IH0sXHJcblx0XHRcdFx0XHRpdGVtOiBjbG9uZWRUYXNrXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5yZXN1bHRcclxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0cmVzcG9uc2UgPSBmb3JtYXRTZXJ2aWNlLmZvcm1hdEZvclN0b3JhZ2UocmVzcG9uc2UpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRhc2tzU2VydmljZS5jcmVhdGVPclVwZGF0ZVRhc2socmVzcG9uc2UpXHJcblx0XHRcdFx0XHRcdC50aGVuKHRhc2tzU2VydmljZS5nZXRUYXNrcyk7XHJcblx0XHRcdFx0fSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdGlmIChOdW1iZXIocmVzcG9uc2UpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB0YXNrc1NlcnZpY2UuZGVsZXRlVGFzayhyZXNwb25zZSlcclxuXHRcdFx0XHRcdFx0XHQudGhlbih0YXNrc1NlcnZpY2UuZ2V0VGFza3MpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1N1YnRhc2tzQ29udHJvbGxlcicsIFN1YnRhc2tzQ29udHJvbGxlcik7XHJcblxyXG5cdFN1YnRhc2tzQ29udHJvbGxlci4kaW5qZWN0ID0gWydzdWJ0YXNrc1NlcnZpY2UnLCAnc3VidGFza01vZGFsU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIFN1YnRhc2tzQ29udHJvbGxlcihzdWJ0YXNrc1NlcnZpY2UsIHN1YnRhc2tNb2RhbFNlcnZpY2UpIHtcclxuXHRcdHZhciBzdCA9IHRoaXM7XHJcblx0XHRzdC5zaG93U3VidGFza01vZGFsID0gc2hvd1N1YnRhc2tNb2RhbDtcclxuXHRcdHN0LnRvZ2dsZUNvbXBsZXRlZCA9IHRvZ2dsZUNvbXBsZXRlZDtcclxuXHJcblx0XHRmdW5jdGlvbiBzaG93U3VidGFza01vZGFsKHN1YnRhc2spIHtcclxuXHRcdFx0c3VidGFza01vZGFsU2VydmljZS5vcGVuU3VidGFza01vZGFsKHN1YnRhc2ssIHN0LnRhc2spO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUNvbXBsZXRlZChzdWJ0YXNrKSB7XHJcblx0XHRcdHN1YnRhc2tzU2VydmljZS50b2dnbGVDb21wbGV0ZWQoc3VidGFzayk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlU3VidGFza3MocmVzcG9uc2UpIHtcclxuXHRcdFx0aWYgKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0c3Quc3VidGFza3MgPSByZXNwb25zZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcFN1YnRhc2tzJywgc3VidGFza3NEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBzdWJ0YXNrc0RpcmVjdGl2ZSgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9hY3Rpdml0aWVzL3Rhc2tzL3N1YnRhc2tzL3N1YnRhc2tzLmh0bWwnLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnU3VidGFza3NDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAnc3QnLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdHRhc2s6ICc9J1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgnc3VidGFza3NTZXJ2aWNlJywgc3VidGFza3NTZXJ2aWNlKTtcclxuXHJcblx0c3VidGFza3NTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRsb2cnXTtcclxuXHRmdW5jdGlvbiBzdWJ0YXNrc1NlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGNyZWF0ZU9yVXBkYXRlU3VidGFzazogY3JlYXRlT3JVcGRhdGVTdWJ0YXNrLFxyXG5cdFx0XHRkZWxldGVTdWJ0YXNrOiBkZWxldGVTdWJ0YXNrLFxyXG5cdFx0XHR0b2dnbGVDb21wbGV0ZWQ6IHRvZ2dsZUNvbXBsZXRlZFxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVN1YnRhc2soc3VidGFzaywgdGFzaykge1xyXG5cdFx0XHRpZiAoIXRhc2suc3VidGFza3MpIHtcclxuXHRcdFx0XHR0YXNrLnN1YnRhc2tzID0ge1xyXG5cdFx0XHRcdFx0Y3VycmVudElkOiAxLFxyXG5cdFx0XHRcdFx0bGlzdDogW11cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoc3VidGFzay5pZCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0c3VidGFzay5pZCA9IHRhc2suc3VidGFza3MuY3VycmVudElkKys7XHJcblx0XHRcdFx0c3VidGFzay5jb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR0YXNrLnN1YnRhc2tzLmxpc3QucHVzaChzdWJ0YXNrKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZVN1YnRhc2soc3VidGFzaywgdGFzaykge1xyXG5cdFx0XHR0YXNrLnN1YnRhc2tzLmxpc3Quc3BsaWNlKHRhc2suc3VidGFza3MubGlzdC5pbmRleE9mKHN1YnRhc2spLCAxKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB0b2dnbGVDb21wbGV0ZWQoc3VidGFzaykge1xyXG5cdFx0XHRzdWJ0YXNrLmNvbXBsZXRlZCA9ICFzdWJ0YXNrLmNvbXBsZXRlZDtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
