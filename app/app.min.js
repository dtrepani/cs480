!function(){"use strict";function r(){}angular.module("app",["ngRoute"]).controller("AppController",r)}(),function(){"use strict";function r(r){r.when("/login",{templateUrl:"pages/login/login.html",controller:"LoginController",controllerAs:"vm"}).when("/logout",{templateUrl:"pages/logout/logout.html",controller:"LogoutController",controllerAs:"vm"}).when("/register",{templateUrl:"pages/register/register.html",controller:"RegisterController",controllerAs:"vm"}).when("/dashboard",{templateUrl:"pages/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm"}).otherwise({redirectTo:"/dashboard"})}angular.module("app").config(r),r.$inject=["$routeProvider"]}(),function(){"use strict";function r(r,e){function t(r){this.base="api/"+r+"/"+r+"Manager.php"}function n(e){return r.get(this.base+"?id="+e).then(a)["catch"](c)}function o(e){return r.post(this.base,e).then(a)["catch"](c)}function i(e,t){return r.put(this.base+"?id="+e,t).then(a)["catch"](c)}function l(e){return r["delete"](this.base+"?id="+e).then(a)["catch"](c)}function a(r){return r.data}function c(r){return e.error(r),!1}var u=t;return u.prototype={get:n,create:o,update:i,remove:l},u}angular.module("app").factory("crudService",r),r.$inject=["$http","$log"]}(),function(){"use strict";function r(r){function e(){function e(r){t.loading=!1,t.error=r}t.loading=!0,r.login(t.user).then(e)}var t=this;t.loading=!1,t.error="",t.login=e}angular.module("app").controller("LoginController",r),r.$inject=["loginService"]}(),function(){"use strict";function r(r,e,t){function n(n){function o(r){return"true"===r.data&&e.url("/dashboard"),"Username or password was incorrect."}function i(r){return t.error(r),"Something went wrong. Please try again."}return r.post("api/managers/loginManager.php",n).then(o)["catch"](i)}return{login:n}}angular.module("app").factory("loginService",r),r.$inject=["$http","$location","$log"]}(),function(){"use strict";function r(){}angular.module("app").controller("DashboardController",r)}(),function(){"use strict";function r(r){function e(){function e(r){t.loading=!1,t.error=r}t.loading=!0,r.register(t.user).then(e)}var t=this;t.loading=!1,t.error="",t.register=e}angular.module("app").controller("RegisterController",r),r.$inject=["registerService"]}(),function(){"use strict";function r(r,e){function t(e){function t(e){return"1"===e&&r.url("/login"),"Username taken."}return n.crud.create(e).then(t)}var n=this;return n.crud=new e("user"),{register:t}}angular.module("app").factory("registerService",r),r.$inject=["$location","crudService"]}(),function(){"use strict";function r(){function r(r,e,t,n){function o(){a()}function i(e){return e===r.otherModel.$viewValue}function l(r,e){n.$validate()}var a=r.$watch("otherModel",l);n.$validators.spCompareTo=i,e.on("$destroy",o)}var e={require:"ngModel",scope:{otherModel:"=spCompareTo"},link:r};return e}angular.module("app").directive("spCompareTo",r)}(),function(){"use strict";function r(){var r=this;r.collapsed=!0,r.toggleSidebar=function(){r.collapsed=!r.collapsed}}angular.module("app").controller("SidebarController",r)}(),function(){"use strict";function r(){function r(r,e,t){function n(r){r?e.removeClass("collapsed"):e.addClass("collapsed")}r.$watch(t.sidebarDirective,n)}return{link:r,templateUrl:"modules/sidebar/sidebar.html",controller:"SidebarController",controllerAs:"vm",bindToController:!0}}angular.module("app").directive("spSidebar",r)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiXSwibmFtZXMiOlsiQXBwQ29udHJvbGxlciIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyQXMiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiJGluamVjdCIsImNydWRTZXJ2aWNlIiwiJGh0dHAiLCIkbG9nIiwiaW5pdCIsInR5cGUiLCJ0aGlzIiwiYmFzZSIsImdldCIsImlkIiwidGhlbiIsInByb21pc2VDb21wbGV0ZSIsInByb21pc2VGYWlsZWQiLCJjcmVhdGUiLCJkYXRhIiwicG9zdCIsInVwZGF0ZSIsInB1dCIsInJlbW92ZSIsInJlc3BvbnNlIiwiZXJyb3IiLCJjcnVkIiwicHJvdG90eXBlIiwiZmFjdG9yeSIsIkxvZ2luQ29udHJvbGxlciIsImxvZ2luU2VydmljZSIsImxvZ2luIiwibG9naW5Db21wbGV0ZSIsInZtIiwibG9hZGluZyIsInVzZXIiLCIkbG9jYXRpb24iLCJ1cmwiLCJsb2dpbkZhaWxlZCIsIkRhc2hib2FyZENvbnRyb2xsZXIiLCJSZWdpc3RlckNvbnRyb2xsZXIiLCJyZWdpc3RlclNlcnZpY2UiLCJyZWdpc3RlciIsInJlZ2lzdHJhdGlvbkNvbXBsZXRlIiwiY29tcGFyZVRvIiwibGluayIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwibmdNb2RlbCIsImNsZWFuVXAiLCJ1bmJpbmRXYXRjaCIsImNvbXBhcmVWYWx1ZXMiLCJ2aWV3VmFsdWUiLCJvdGhlck1vZGVsIiwiJHZpZXdWYWx1ZSIsInZhbGlkYXRlT25DaGFuZ2UiLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwiJHZhbGlkYXRlIiwiJHdhdGNoIiwiJHZhbGlkYXRvcnMiLCJzcENvbXBhcmVUbyIsIm9uIiwiZGlyZWN0aXZlIiwicmVxdWlyZSIsIlNpZGViYXJDb250cm9sbGVyIiwiY29sbGFwc2VkIiwidG9nZ2xlU2lkZWJhciIsInNpZGViYXJEaXJlY3RpdmUiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiYmluZFRvQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQyxZQU1BLFNBQVNBLE1BSlRDLFFBQ0VDLE9BQU8sT0FBUSxZQUNmQyxXQUFXLGdCQUFpQkgsTUFLL0IsV0FDQyxZQU9BLFNBQVNJLEdBQU9DLEdBQ2ZBLEVBQ0VDLEtBQUssVUFDTEMsWUFBYSx5QkFDYkosV0FBWSxrQkFDWkssYUFBYyxPQUVkRixLQUFLLFdBQ0xDLFlBQWEsMkJBQ2JKLFdBQVksbUJBQ1pLLGFBQWMsT0FFZEYsS0FBSyxhQUNMQyxZQUFhLCtCQUNiSixXQUFZLHFCQUNaSyxhQUFjLE9BRWRGLEtBQUssY0FDTEMsWUFBYSxpQ0FDYkosV0FBWSxzQkFDWkssYUFBYyxPQUVkQyxXQUNBQyxXQUFZLGVBNUJmVCxRQUNFQyxPQUFPLE9BQ1BFLE9BQU9BLEdBRVRBLEVBQU9PLFNBQVcscUJBNEJuQixXQUNDLFlBWUEsU0FBU0MsR0FBWUMsRUFBT0MsR0FjM0IsUUFBU0MsR0FBS0MsR0FDYkMsS0FBS0MsS0FBTyxPQUFTRixFQUFPLElBQU1BLEVBQU8sY0FPMUMsUUFBU0csR0FBSUMsR0FDWixNQUFPUCxHQUFNTSxJQUFJRixLQUFLQyxLQUFPLE9BQVNFLEdBQ3BDQyxLQUFLQyxHQURBVCxTQUVDVSxHQU9ULFFBQVNDLEdBQU9DLEdBQ2YsTUFBT1osR0FBTWEsS0FBS1QsS0FBS0MsS0FBTU8sR0FDM0JKLEtBQUtDLEdBREFULFNBRUNVLEdBU1QsUUFBU0ksR0FBT1AsRUFBSUssR0FDbkIsTUFBT1osR0FBTWUsSUFBSVgsS0FBS0MsS0FBTyxPQUFTRSxFQUFJSyxHQUN4Q0osS0FBS0MsR0FEQVQsU0FFQ1UsR0FPVCxRQUFTTSxHQUFPVCxHQUNmLE1BQU9QLEdBQUFBLFVBQWFJLEtBQUtDLEtBQU8sT0FBU0UsR0FDdkNDLEtBQUtDLEdBREFULFNBRUNVLEdBR1QsUUFBU0QsR0FBZ0JRLEdBQ3hCLE1BQU9BLEdBQVNMLEtBR2pCLFFBQVNGLEdB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QixLQUNSLEdBQUlqQyxHQUFLdEIsSUFFVHNCLEdBQUdrQyxXQUFZLEVBRWZsQyxFQUFHbUMsY0FBZ0IsV0FDbEJuQyxFQUFHa0MsV0FBYWxDLEVBQUdrQyxXQVZyQnhFLFFBQ0VDLE9BQU8sT0FDUEMsV0FBVyxvQkFBcUJxRSxNQVluQyxXQUNDLFlBTUEsU0FBU0csS0FTUixRQUFTeEIsR0FBS0MsRUFBT0MsRUFBU0MsR0FHN0IsUUFBU29CLEdBQWNELEdBQ2xCQSxFQUNIcEIsRUFBUXVCLFlBQVksYUFFcEJ2QixFQUFRd0IsU0FBUyxhQU5uQnpCLEVBQU1jLE9BQU9aLEVBQU1xQixpQkFBa0JELEdBVHRDLE9BQ0N2QixLQUFNQSxFQUNONUMsWUFBYSwrQkFDYkosV0FBWSxvQkFDWkssYUFBYyxLQUNkc0Usa0JBQWtCLEdBVnBCN0UsUUFDRUMsT0FBTyxPQUNQb0UsVUFBVSxZQUFhSyIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJywgWyduZ1JvdXRlJ10pXHJcblx0XHQuY29udHJvbGxlcignQXBwQ29udHJvbGxlcicsIEFwcENvbnRyb2xsZXIpO1xyXG5cclxuXHRmdW5jdGlvbiBBcHBDb250cm9sbGVyKCkge1xyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29uZmlnKGNvbmZpZyk7XHJcblxyXG5cdGNvbmZpZy4kaW5qZWN0ID0gWyckcm91dGVQcm92aWRlciddO1xyXG5cdGZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikge1xyXG5cdFx0JHJvdXRlUHJvdmlkZXJcclxuXHRcdFx0LndoZW4oJy9sb2dpbicsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2xvZ2luL2xvZ2luLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQud2hlbignL2xvZ291dCcsIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3BhZ2VzL2xvZ291dC9sb2dvdXQuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0xvZ291dENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQud2hlbignL3JlZ2lzdGVyJywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ1JlZ2lzdGVyQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nXHJcblx0XHRcdH0pXHJcblx0XHRcdC53aGVuKCcvZGFzaGJvYXJkJywge1xyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAncGFnZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnRGFzaGJvYXJkQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAndm0nXHJcblx0XHRcdH0pXHJcblx0XHRcdC5vdGhlcndpc2Uoe1xyXG5cdFx0XHRcdHJlZGlyZWN0VG86ICcvZGFzaGJvYXJkJ1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIFVzZWQgdG8gYWNjZXNzIHRoZSBhcGkgb2YgdGhlIHZhcmlvdXMgaXRlbSB0eXBlcy5cclxuXHQqIEFuIGluc3RhbmNlIG9mIGNydWQgbXVzdCBiZSBjcmVhdGVkIGluIG9yZGVyIHRvIHVzZSB0aGUgc2VydmljZS5cclxuXHQqL1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2NydWRTZXJ2aWNlJywgY3J1ZFNlcnZpY2UpO1xyXG5cclxuXHRjcnVkU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9nJ107XHJcblx0ZnVuY3Rpb24gY3J1ZFNlcnZpY2UoJGh0dHAsICRsb2cpIHtcclxuXHRcdHZhciBjcnVkID0gaW5pdDtcclxuXHRcdGNydWQucHJvdG90eXBlID0ge1xyXG5cdFx0XHRnZXQ6IGdldCxcclxuXHRcdFx0Y3JlYXRlOiBjcmVhdGUsXHJcblx0XHRcdHVwZGF0ZTogdXBkYXRlLFxyXG5cdFx0XHRyZW1vdmU6IHJlbW92ZVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gY3J1ZDtcclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtIHtzdHJpbmd9IHR5cGVcclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBpbml0KHR5cGUpIHtcclxuXHRcdFx0dGhpcy5iYXNlID0gJ2FwaS8nICsgdHlwZSArICcvJyArIHR5cGUgKyAnTWFuYWdlci5waHAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7c3RyaW5nfVx0aWRcdFx0SUQgb2YgaXRlbSB0eXBlIHRvIGdldC5cclxuXHRcdCogQHJldHVyblx0e21peGVkW118c3RyaW5nfVx0UXVlcnkgcmVzdWx0cyBvciBcImZhbHNlXCIgb24gZmFpbHVyZS5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBnZXQoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCogQHBhcmFtXHR7bWl4ZWRbXX1cdGRhdGFcdERhdGEgb2YgaXRlbSB0byBjcmVhdGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmd9XHRcdFx0XCIxXCIgb24gc3VjY2VzcyBvciBcImZhbHNlXCIgb24gZmFpbHVyZS5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiBjcmVhdGUoZGF0YSkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCh0aGlzLmJhc2UsIGRhdGEpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byB1cGRhdGUuXHJcblx0XHQqIEBwYXJhbVx0e21peGVkW119XHRkYXRhXHREYXRhIG9mIGl0ZW0gdG8gdXBkYXRlLlxyXG5cdFx0KlxyXG5cdFx0KiBAcmV0dXJuXHR7c3RyaW5nfVx0XHRcdFwiMVwiIG9uIHN1Y2Nlc3Mgb3IgXCJmYWxzZVwiIG9uIGZhaWx1cmUuXHJcblx0XHQqL1xyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlKGlkLCBkYXRhKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQodGhpcy5iYXNlICsgJz9pZD0nICsgaWQsIGRhdGEpIC8vIGpzaGludCBpZ25vcmU6bGluZVxyXG5cdFx0XHRcdC50aGVuKHByb21pc2VDb21wbGV0ZSlcclxuXHRcdFx0XHQuY2F0Y2gocHJvbWlzZUZhaWxlZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQqIEBwYXJhbVx0e3N0cmluZ31cdGlkXHRcdElEIG9mIGl0ZW0gdHlwZSB0byBkZWxldGUuXHJcblx0XHQqIEByZXR1cm5cdHtzdHJpbmd9XHRcdFx0XCIxXCIgb24gc3VjY2VzcyBvciBcImZhbHNlXCIgb24gZmFpbHVyZS5cclxuXHRcdCovXHJcblx0XHRmdW5jdGlvbiByZW1vdmUoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSh0aGlzLmJhc2UgKyAnP2lkPScgKyBpZCkgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHRcdFx0LnRoZW4ocHJvbWlzZUNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChwcm9taXNlRmFpbGVkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwcm9taXNlQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHJvbWlzZUZhaWxlZChlcnJvcikge1xyXG5cdFx0XHQkbG9nLmVycm9yKGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcclxuXG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XHJcblxyXG5cdExvZ2luQ29udHJvbGxlci4kaW5qZWN0ID0gWydsb2dpblNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBMb2dpbkNvbnRyb2xsZXIobG9naW5TZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0dm0uZXJyb3IgPSAnJztcclxuXHJcblx0XHR2bS5sb2dpbiA9IGxvZ2luO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxvZ2luKCkge1xyXG5cdFx0XHR2bS5sb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0bG9naW5TZXJ2aWNlLmxvZ2luKHZtLnVzZXIpXHJcblx0XHRcdFx0LnRoZW4obG9naW5Db21wbGV0ZSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dpbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdHZtLmVycm9yID0gcmVzcG9uc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ2xvZ2luU2VydmljZScsIGxvZ2luU2VydmljZSk7XHJcblxyXG5cdGxvZ2luU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckbG9jYXRpb24nLCAnJGxvZyddO1xyXG5cdGZ1bmN0aW9uIGxvZ2luU2VydmljZSgkaHR0cCwgJGxvY2F0aW9uLCAkbG9nKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bG9naW46IGxvZ2luXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxvZ2luKHVzZXIpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJ2FwaS9tYW5hZ2Vycy9sb2dpbk1hbmFnZXIucGhwJywgdXNlcilcclxuXHRcdFx0XHQudGhlbihsb2dpbkNvbXBsZXRlKVxyXG5cdFx0XHRcdC5jYXRjaChsb2dpbkZhaWxlZCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBsb2dpbkNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEgPT09IFwidHJ1ZVwiKSB7XHJcblx0XHRcdFx0XHQkbG9jYXRpb24udXJsKFwiL2Rhc2hib2FyZFwiKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuICdVc2VybmFtZSBvciBwYXNzd29yZCB3YXMgaW5jb3JyZWN0Lic7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGxvZ2luRmFpbGVkKGVycm9yKSB7XHJcblx0XHRcdFx0JGxvZy5lcnJvcihlcnJvcik7XHJcblx0XHRcdFx0cmV0dXJuICdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi4nO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KSgpO1xyXG5cbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignRGFzaGJvYXJkQ29udHJvbGxlcicsIERhc2hib2FyZENvbnRyb2xsZXIpO1xyXG5cclxuXHRmdW5jdGlvbiBEYXNoYm9hcmRDb250cm9sbGVyKCkge1xyXG5cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRhbmd1bGFyXHJcblx0XHQubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ29udHJvbGxlcicsIFJlZ2lzdGVyQ29udHJvbGxlcik7XHJcblxyXG5cdFJlZ2lzdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWydyZWdpc3RlclNlcnZpY2UnXTtcclxuXHRmdW5jdGlvbiBSZWdpc3RlckNvbnRyb2xsZXIocmVnaXN0ZXJTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzO1xyXG5cdFx0dm0ubG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0dm0uZXJyb3IgPSAnJztcclxuXHJcblx0XHR2bS5yZWdpc3RlciA9IHJlZ2lzdGVyO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xyXG5cdFx0XHR2bS5sb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0cmVnaXN0ZXJTZXJ2aWNlLnJlZ2lzdGVyKHZtLnVzZXIpXHJcblx0XHRcdFx0LnRoZW4ocmVnaXN0cmF0aW9uQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gcmVnaXN0cmF0aW9uQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR2bS5sb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0dm0uZXJyb3IgPSByZXNwb25zZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZmFjdG9yeSgncmVnaXN0ZXJTZXJ2aWNlJywgcmVnaXN0ZXJTZXJ2aWNlKTtcclxuXHJcblx0cmVnaXN0ZXJTZXJ2aWNlLiRpbmplY3QgPSBbJyRsb2NhdGlvbicsICdjcnVkU2VydmljZSddO1xyXG5cdGZ1bmN0aW9uIHJlZ2lzdGVyU2VydmljZSgkbG9jYXRpb24sIGNydWRTZXJ2aWNlKSB7XHJcblx0XHR2YXIgdm0gPSB0aGlzOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXHJcblx0XHR2bS5jcnVkID0gbmV3IGNydWRTZXJ2aWNlKCd1c2VyJyk7XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVnaXN0ZXI6IHJlZ2lzdGVyXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlZ2lzdGVyKHVzZXIpIHtcclxuXHRcdFx0cmV0dXJuIHZtLmNydWQuY3JlYXRlKHVzZXIpXHJcblx0XHRcdFx0LnRoZW4ocmVnaXN0cmF0aW9uQ29tcGxldGUpO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gcmVnaXN0cmF0aW9uQ29tcGxldGUocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UgPT09IFwiMVwiKSB7XHJcblx0XHRcdFx0XHQkbG9jYXRpb24udXJsKFwiL2xvZ2luXCIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gJ1VzZXJuYW1lIHRha2VuLic7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7XG4oZnVuY3Rpb24oKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQqIENvbXBhcmUgYW4gaW5wdXQgZmllbGQgdG8gYW5vdGhlciBmaWVsZCwgZGV0ZXJtaW5lZCBieSB0aGUgZGV2LlxyXG5cdCovXHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuZGlyZWN0aXZlKCdzcENvbXBhcmVUbycsIGNvbXBhcmVUbyk7XHJcblxyXG5cdGZ1bmN0aW9uIGNvbXBhcmVUbygpIHtcclxuXHRcdHZhciBkaXJlY3RpdmUgPSB7XHJcblx0XHRcdHJlcXVpcmU6ICduZ01vZGVsJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRvdGhlck1vZGVsOiAnPXNwQ29tcGFyZVRvJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBsaW5rXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcclxuXHJcblx0XHRmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG5cdFx0XHR2YXIgdW5iaW5kV2F0Y2ggPSBzY29wZS4kd2F0Y2goJ290aGVyTW9kZWwnLCB2YWxpZGF0ZU9uQ2hhbmdlKTtcclxuXHRcdFx0bmdNb2RlbC4kdmFsaWRhdG9ycy5zcENvbXBhcmVUbyA9IGNvbXBhcmVWYWx1ZXM7XHJcblx0XHRcdGVsZW1lbnQub24oJyRkZXN0cm95JywgY2xlYW5VcCk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjbGVhblVwKCkge1xyXG5cdFx0XHRcdHVuYmluZFdhdGNoKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNvbXBhcmVWYWx1ZXModmlld1ZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuICh2aWV3VmFsdWUgPT09IHNjb3BlLm90aGVyTW9kZWwuJHZpZXdWYWx1ZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHZhbGlkYXRlT25DaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcblx0XHRcdFx0bmdNb2RlbC4kdmFsaWRhdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTtcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXJcclxuXHRcdC5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignU2lkZWJhckNvbnRyb2xsZXInLCBTaWRlYmFyQ29udHJvbGxlcik7XHJcblxyXG5cdGZ1bmN0aW9uIFNpZGViYXJDb250cm9sbGVyKCkge1xyXG5cdFx0dmFyIHZtID0gdGhpcztcclxuXHJcblx0XHR2bS5jb2xsYXBzZWQgPSB0cnVlO1xyXG5cclxuXHRcdHZtLnRvZ2dsZVNpZGViYXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0dm0uY29sbGFwc2VkID0gIXZtLmNvbGxhcHNlZDtcclxuXHRcdH07XHJcblx0fVxyXG59KSgpO1xuKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhclxyXG5cdFx0Lm1vZHVsZSgnYXBwJylcclxuXHRcdC5kaXJlY3RpdmUoJ3NwU2lkZWJhcicsIHNpZGViYXJEaXJlY3RpdmUpO1xyXG5cclxuXHRmdW5jdGlvbiBzaWRlYmFyRGlyZWN0aXZlKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bGluazogbGluayxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdtb2R1bGVzL3NpZGViYXIvc2lkZWJhci5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ1NpZGViYXJDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAndm0nLFxyXG5cdFx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcblx0XHRcdHNjb3BlLiR3YXRjaChhdHRycy5zaWRlYmFyRGlyZWN0aXZlLCB0b2dnbGVTaWRlYmFyKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHRvZ2dsZVNpZGViYXIoY29sbGFwc2VkKSB7XHJcblx0XHRcdFx0aWYgKGNvbGxhcHNlZCkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
